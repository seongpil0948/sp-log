[{"href":"/docs/linux/network/HostResolution","content":"난 맞춰지지 않는 지식들이 싫다 자신있게 내의견을 말할 수 없다 IP는 무엇이냐 CIDR이 뭐냐 host는 뭐고 이런 기본적인 내용은 알겠다 내가 궁금한 것은 그래서 이제 뭘 할 있는가 무엇이 궁금한가 컴퓨터 A와 B가 있고 노트북과 데스크톱 클라우드 VM이 있을때 시스템 A가 어떻게 B와 연결되죠 1 네트워크 디바이스는 무엇이고 확인하는가 2 ip를 디바이스에 할당하고 세팅하는가 3 할당된 통신하는가 --- 우리는 위 3가지 질문을 바탕으로 정리하고자 한다 가보자","title":"What is Network Device?"},{"href":"/docs/linux/network/HostResolution","content":"What is Network Device","title":"How to check network device?"},{"href":"/docs/linux/network/HostResolution","content":"네트워크와 연결되어 있는 장치를 의미하는 dev는 switch router hub bridge gateway repeater modem network interface cardNIC 등 무엇이든 될 수 있다 또한 물리적일 수도 있고 가상일 물리적인 장치는 공인 IP 주소를 가질 가진 장치에 의해 내부 IP를 가지고 NATNetwork Address Translation을 통해 외부 통신할","title":"How to connect each other?"},{"href":"/docs/linux/network/HostResolution","content":"How to check network device","title":"Ip route"},{"href":"/docs/linux/network/HostResolution","content":"우리는 ip route 명령어를 사용하여 현재 시스템의 라우팅 테이블을 확인할 수 있다 bash","title":"eth0에 IP 주소 A 할당"},{"href":"/docs/linux/network/HostResolution","content":"1921680024 dev enp2s0f0 proto kernel scope link src 1921680103 metric 100","title":"in s1 network"},{"href":"/docs/linux/network/HostResolution","content":"default via 19216801 dev enp2s0f0 proto dhcp src 1921680103 metric 100 1 패킷의 목적지 IP 주소가 1921680024 서브넷에 속하는 경우 라우팅 정보를 사용하여 패킷을 처리합니다 2 이 패킷은 인터페이스를 통해 컴퓨터로부터 전달됩니다 속하지 않는 게이트웨이로 --- - 테이블에 있는 정보의 우선순위를 나타내는 값입니다 두 개 이상의 정보가 동일한 목적지에 대해 존재하는 가장 낮은 메트릭 값을 가진 사용됩니다","title":"use r2 to reach the s1"},{"href":"/docs/linux/network/HostResolution","content":"우리는 이제 네트워크 장치를 확인하고 라우팅 테이블을 확인하는 방법을 알았다 가즈아 1 필자는 환경상 Nic가 2 NICnetwork interface card는 서로 통신하기 위해 IP 주소를 할당받아야 한다 그리고 host s119216810은 테이블에 저장된 정보를 통해 패킷을 전달한다 는 물리 장치 혹은 컴퓨터 한대 정의하기 나름입니다 bash","title":"disallow"},{"href":"/docs/linux/network/HostResolution","content":"eth0에 IP 주소 A 할당","title":"What is Networking and Hostname resolution?"},{"href":"/docs/linux/network/HostResolution","content":"ip addr add 19216811024 dev eth0","title":"Configure static resolution so that naver.com hostname resolves to IP address 8.8.8.8"},{"href":"/docs/linux/network/HostResolution","content":"ip addr add 19216811124 dev eth1","title":"network device"},{"href":"/docs/linux/network/HostResolution","content":"in s1 network","title":"Our system uses dynamic network configuration. Leave it as is, dynamically configured, but add an extra IP to eth1 interface on this"},{"href":"/docs/linux/network/HostResolution","content":"ping 192168111 192168110 우리는 host s119216810 내에서 A B와 통신할 수 있습니다 --- s219216820 network 내에 C192168210D192168211와 통신하기 위해서 어떻게 해야할까요 이때 등장하는 것이 라우터입니다 라우터는 두 네트워크를 연결하는 장치입니다 네트워크와 각각 연결된 인터페이스라우터 인터페이스를 가지고 예시는 r119216811 interface 를 통해 s1과 연결하고 r219216821 s2와 연결하여 연결합니다 좋습니다 그러면 B11124에서 C21024로 패킷을 보내고 싶다면 먼저 그저 네트워크의 경계에 있는 장치네트워크 장비의 일종으로패킷packet 네트워크 전송 데이터의 최소 단위을 다른 보내주는forward 역할을 한다일 뿐입니다 그래서 B는 보내기 위해 라우터에게 전달해야 합니다 다시한번 강조하면 s1s1는 컴퓨터가 될 수도 namespace 가 도 bash","title":"if you needed"},{"href":"/docs/linux/network/HostResolution","content":"use r1 to reach the s2","title":"깨알 상식: ip address add - new protocol address."},{"href":"/docs/linux/network/HostResolution","content":"ip route add 1921682024 via 19216811","title":"check address of dev"},{"href":"/docs/linux/network/HostResolution","content":"use r2 to reach the s1","title":"Get the list of all incoming open ports on this system and store output in /home/bob/incoming.txt file."},{"href":"/docs/linux/network/HostResolution","content":"ip route add 1921681024 via 19216821 네트워크는 내부망이 될 수도 있고 외부망이 있습니다 현재 r1 r2는 내부망입니다 r2를 외부 네트워크와 연결하기 위해 라우팅 테이블을 설정합니다 bash","title":"Add a new DNS resolver 8.8.8.8 on this system."},{"href":"/docs/linux/network/HostResolution","content":"need access to Google at 1722171940 network on the internet","title":"Identify the transient hostname of this system and save value in /home/bob/t-hostname file."},{"href":"/docs/linux/network/HostResolution","content":"ip route add 172217194024 via 19216821 r2에 모든 경로를 등록해야 할까요 아닙니다 default route를 사용하여 내부망 s119216801 을 제외하고 패킷을 r2 라우터가 처리하도록 할 수 있습니다 bash AnyRouterIP","title":"Now, update the static hostname to match transient on this system."},{"href":"/docs/linux/network/HostResolution","content":"ip route add 0000 via AnyRouterIP 참고로 tracerttrace 명령은 목적지까지 거치는 라우터를 추적하는 역할이다 보안을 위해 한 호스트 네트워크에서 두 개의 NIC으로는 전달forward 되지 않습니다 예로 r1private r2public 라우터가 있을 때 r2로 오는 패킷을 r1에 임의로 전달되서는 안됩니다 만약 관리자가 이를 잘 인지한다면 수동으로 설정할 수 있습니다 bash sudo vi procsysnetipv4ip_forward","title":"routing table example"},{"href":"/docs/linux/network/HostResolution","content":"allow forwarding","title":"ip route"},{"href":"/docs/linux/network/HostResolution","content":"What is Networking and Hostname resolution","title":"proto 커널 범위 링크는 이 경로가 커널에 의해 자동으로 생성되었음을 나타냅니다."},{"href":"/docs/linux/network/HostResolution","content":"hostname resolution 은 IP 주소를 호스트 이름으로 변환하거나 이름을 주소로 변환하는 것을 의미합니다","title":"src 172.25.0.47 부분은 이 네트워크의 Gateway ip 가 172.25.0.47임을 나타냅니다."},{"href":"/docs/linux/network/HostResolution","content":"Configure static resolution so that navercom  hostname resolves to IP address 8888","title":"192.168.0.1 로 가는 모든 패킷은 enp2s0f0 인터페이스를 통해 172.25.0.0/24 가라"},{"href":"/docs/linux/network/HostResolution","content":"bash echo 8888 navercom sudo tee -a etchosts 위 코드는 을 resolve 하기 위해서 의 nameserver 를 사용하도록 설정한다 - DNS 서버를 우회하여 IP 주소를 찾을 수 있게 해준다 에 위치한다 우선순위가 가장 높다 즉 hosts 파일에 등록된 내용이 서버에 내용보다 먼저 참조된다 특정 도메인을 주소로 연결할 있다 이후 dig 명령어를 사용하여 확인한다 nslookup Server 168126631 Address","title":"192.168.0.1 로 가는 모든 패킷은 enp2s0f0 인터페이스를 통해 192.168.0.0/24 가라"},{"href":"/docs/linux/network/HostResolution","content":"Non-authoritative answer Name navercom Address 22313019595 223130200104 223130195200 223130200107 위 명령어를 통해 의 ip 주소를 확인할 수 있다 하지만 뭔가 이상하다 nameserver 를 168126631 로 8888 과 다른주소로 설정되어 resolvconf 파일을 확인해보자 bash cat etcresolvconf 168126632 파일은 도메인쿼리에 사용될 정보를 가지고 그외 각 OS 별 도메인 쿼리에 사용되는 여러가지가 있으니 참고하자 Mac dns-sd1 scutil8 만약 사용하고 싶다면 아래와 같이 설정한다 nslookup --- 사용자의 입장에서 필요한 서비스에 접근하기 위해 domain resolution 은 필수적이다 시스템 관리자의 제한된 리소스로 사용자에게 최적의 서비스를 제공하기 위해서는 DNS 뿐만 아니라 다양한 네트워크 설정이 필요하다","title":"via: 을 통해~"},{"href":"/docs/linux/network/HostResolution","content":"network device","title":"route"},{"href":"/docs/linux/network/HostResolution","content":"네트워크 장치는 네트워크와 연결되어 있는 장치를 의미한다 - ip link 명령어를 사용하여 확인할 수 있다","title":"목적지, 게이트웨이, 서브넷마스크"},{"href":"/docs/linux/network/HostResolution","content":"Our system uses dynamic network configuration Leave it as is dynamically configured but add an extra IP to eth1 interface on this","title":"Conclusion"},{"href":"/docs/linux/network/HostResolution","content":"난 맞춰지지 않는 지식들이 싫다 자신있게 내의견을 말할 수 없다 IP는 무엇이냐 CIDR이 뭐냐 host는 뭐고 이런 기본적인 내용은 알겠다 내가 궁금한 것은 그래서 이제 뭘 할 있는가 무엇이 궁금한가 컴퓨터 A와 B가 있고 노트북과 데스크톱 클라우드 VM이 있을때 시스템 A가 어떻게 B와 연결되죠 1 네트워크 디바이스는 무엇이고 확인하는가 2 ip를 디바이스에 할당하고 세팅하는가 3 할당된 통신하는가 --- 우리는 위 3가지 질문을 바탕으로 정리하고자 한다 가보자","title":"What is Network Device?"},{"href":"/docs/linux/network/HostResolution","content":"What is Network Device","title":"How to check network device?"},{"href":"/docs/linux/network/HostResolution","content":"네트워크와 연결되어 있는 장치를 의미하는 dev는 switch router hub bridge gateway repeater modem network interface cardNIC 등 무엇이든 될 수 있다 또한 물리적일 수도 있고 가상일 물리적인 장치는 공인 IP 주소를 가질 가진 장치에 의해 내부 IP를 가지고 NATNetwork Address Translation을 통해 외부 통신할","title":"How to connect each other?"},{"href":"/docs/linux/network/HostResolution","content":"How to check network device","title":"Ip route"},{"href":"/docs/linux/network/HostResolution","content":"우리는 ip route 명령어를 사용하여 현재 시스템의 라우팅 테이블을 확인할 수 있다 bash","title":"eth0에 IP 주소 A 할당"},{"href":"/docs/linux/network/HostResolution","content":"1921680024 dev enp2s0f0 proto kernel scope link src 1921680103 metric 100","title":"in s1 network"},{"href":"/docs/linux/network/HostResolution","content":"default via 19216801 dev enp2s0f0 proto dhcp src 1921680103 metric 100 1 패킷의 목적지 IP 주소가 1921680024 서브넷에 속하는 경우 라우팅 정보를 사용하여 패킷을 처리합니다 2 이 패킷은 인터페이스를 통해 컴퓨터로부터 전달됩니다 속하지 않는 게이트웨이로 --- - 테이블에 있는 정보의 우선순위를 나타내는 값입니다 두 개 이상의 정보가 동일한 목적지에 대해 존재하는 가장 낮은 메트릭 값을 가진 사용됩니다","title":"use r2 to reach the s1"},{"href":"/docs/linux/network/HostResolution","content":"우리는 이제 네트워크 장치를 확인하고 라우팅 테이블을 확인하는 방법을 알았다 가즈아 1 필자는 환경상 Nic가 2 NICnetwork interface card는 서로 통신하기 위해 IP 주소를 할당받아야 한다 그리고 host s119216810은 테이블에 저장된 정보를 통해 패킷을 전달한다 는 물리 장치 혹은 컴퓨터 한대 정의하기 나름입니다 bash","title":"disallow"},{"href":"/docs/linux/network/HostResolution","content":"eth0에 IP 주소 A 할당","title":"What is Networking and Hostname resolution?"},{"href":"/docs/linux/network/HostResolution","content":"ip addr add 19216811024 dev eth0","title":"Configure static resolution so that naver.com hostname resolves to IP address 8.8.8.8"},{"href":"/docs/linux/network/HostResolution","content":"ip addr add 19216811124 dev eth1","title":"network device"},{"href":"/docs/linux/network/HostResolution","content":"in s1 network","title":"Our system uses dynamic network configuration. Leave it as is, dynamically configured, but add an extra IP to eth1 interface on this"},{"href":"/docs/linux/network/HostResolution","content":"ping 192168111 192168110 우리는 host s119216810 내에서 A B와 통신할 수 있습니다 --- s219216820 network 내에 C192168210D192168211와 통신하기 위해서 어떻게 해야할까요 이때 등장하는 것이 라우터입니다 라우터는 두 네트워크를 연결하는 장치입니다 네트워크와 각각 연결된 인터페이스라우터 인터페이스를 가지고 예시는 r119216811 interface 를 통해 s1과 연결하고 r219216821 s2와 연결하여 연결합니다 좋습니다 그러면 B11124에서 C21024로 패킷을 보내고 싶다면 먼저 그저 네트워크의 경계에 있는 장치네트워크 장비의 일종으로패킷packet 네트워크 전송 데이터의 최소 단위을 다른 보내주는forward 역할을 한다일 뿐입니다 그래서 B는 보내기 위해 라우터에게 전달해야 합니다 다시한번 강조하면 s1s1는 컴퓨터가 될 수도 namespace 가 도 bash","title":"if you needed"},{"href":"/docs/linux/network/HostResolution","content":"use r1 to reach the s2","title":"깨알 상식: ip address add - new protocol address."},{"href":"/docs/linux/network/HostResolution","content":"ip route add 1921682024 via 19216811","title":"check address of dev"},{"href":"/docs/linux/network/HostResolution","content":"use r2 to reach the s1","title":"Get the list of all incoming open ports on this system and store output in /home/bob/incoming.txt file."},{"href":"/docs/linux/network/HostResolution","content":"ip route add 1921681024 via 19216821 네트워크는 내부망이 될 수도 있고 외부망이 있습니다 현재 r1 r2는 내부망입니다 r2를 외부 네트워크와 연결하기 위해 라우팅 테이블을 설정합니다 bash","title":"Add a new DNS resolver 8.8.8.8 on this system."},{"href":"/docs/linux/network/HostResolution","content":"need access to Google at 1722171940 network on the internet","title":"Identify the transient hostname of this system and save value in /home/bob/t-hostname file."},{"href":"/docs/linux/network/HostResolution","content":"ip route add 172217194024 via 19216821 r2에 모든 경로를 등록해야 할까요 아닙니다 default route를 사용하여 내부망 s119216801 을 제외하고 패킷을 r2 라우터가 처리하도록 할 수 있습니다 bash AnyRouterIP","title":"Now, update the static hostname to match transient on this system."},{"href":"/docs/linux/network/HostResolution","content":"ip route add 0000 via AnyRouterIP 참고로 tracerttrace 명령은 목적지까지 거치는 라우터를 추적하는 역할이다 보안을 위해 한 호스트 네트워크에서 두 개의 NIC으로는 전달forward 되지 않습니다 예로 r1private r2public 라우터가 있을 때 r2로 오는 패킷을 r1에 임의로 전달되서는 안됩니다 만약 관리자가 이를 잘 인지한다면 수동으로 설정할 수 있습니다 bash sudo vi procsysnetipv4ip_forward","title":"routing table example"},{"href":"/docs/linux/network/HostResolution","content":"allow forwarding","title":"ip route"},{"href":"/docs/linux/network/HostResolution","content":"What is Networking and Hostname resolution","title":"proto 커널 범위 링크는 이 경로가 커널에 의해 자동으로 생성되었음을 나타냅니다."},{"href":"/docs/linux/network/HostResolution","content":"hostname resolution 은 IP 주소를 호스트 이름으로 변환하거나 이름을 주소로 변환하는 것을 의미합니다","title":"src 172.25.0.47 부분은 이 네트워크의 Gateway ip 가 172.25.0.47임을 나타냅니다."},{"href":"/docs/linux/network/HostResolution","content":"Configure static resolution so that navercom  hostname resolves to IP address 8888","title":"192.168.0.1 로 가는 모든 패킷은 enp2s0f0 인터페이스를 통해 172.25.0.0/24 가라"},{"href":"/docs/linux/network/HostResolution","content":"bash echo 8888 navercom sudo tee -a etchosts 위 코드는 을 resolve 하기 위해서 의 nameserver 를 사용하도록 설정한다 - DNS 서버를 우회하여 IP 주소를 찾을 수 있게 해준다 에 위치한다 우선순위가 가장 높다 즉 hosts 파일에 등록된 내용이 서버에 내용보다 먼저 참조된다 특정 도메인을 주소로 연결할 있다 이후 dig 명령어를 사용하여 확인한다 nslookup Server 168126631 Address","title":"192.168.0.1 로 가는 모든 패킷은 enp2s0f0 인터페이스를 통해 192.168.0.0/24 가라"},{"href":"/docs/linux/network/HostResolution","content":"Non-authoritative answer Name navercom Address 22313019595 223130200104 223130195200 223130200107 위 명령어를 통해 의 ip 주소를 확인할 수 있다 하지만 뭔가 이상하다 nameserver 를 168126631 로 8888 과 다른주소로 설정되어 resolvconf 파일을 확인해보자 bash cat etcresolvconf 168126632 파일은 도메인쿼리에 사용될 정보를 가지고 그외 각 OS 별 도메인 쿼리에 사용되는 여러가지가 있으니 참고하자 Mac dns-sd1 scutil8 만약 사용하고 싶다면 아래와 같이 설정한다 nslookup --- 사용자의 입장에서 필요한 서비스에 접근하기 위해 domain resolution 은 필수적이다 시스템 관리자의 제한된 리소스로 사용자에게 최적의 서비스를 제공하기 위해서는 DNS 뿐만 아니라 다양한 네트워크 설정이 필요하다","title":"via: 을 통해~"},{"href":"/docs/linux/network/HostResolution","content":"network device","title":"route"},{"href":"/docs/linux/network/HostResolution","content":"네트워크 장치는 네트워크와 연결되어 있는 장치를 의미한다 - ip link 명령어를 사용하여 확인할 수 있다","title":"목적지, 게이트웨이, 서브넷마스크"},{"href":"/docs/linux/network/HostResolution","content":"Our system uses dynamic network configuration Leave it as is dynamically configured but add an extra IP to eth1 interface on this","title":"Conclusion"},{"href":"/docs/linux/network/NTP","content":"NTPNetwork Time Protocol","title":"NTP(Network Time Protocol)?"},{"href":"/docs/linux/network/NTP","content":"NTPNetwork Time Protocol는 네트워크를 통해 시간을 동기화하는 프로토콜이며 여러 서버의 동기화하는데 사용됩니다 즉 네트워크 장치의 시계를 서버 클러스터입니다 NTP는 수억 대의 컴퓨터와 장치에서 인터넷을 데 linux networkdoclinuxnetwork 에서 다뤘던 timedatectl 명령어와 systemd-timesyncd 서비스를 사용하여 시스템 동기화할 수 있습니다","title":"timedatectl"},{"href":"/docs/linux/network/NTP","content":"timedatectl","title":"Sysnopis"},{"href":"/docs/linux/network/NTP","content":"timedatectl may be used to query and change the system clock its settings enable or disable time synchronization services 명령어는 시스템 시간과 날짜를 설정하고 확인하는데 사용되는 명령어입니다","title":"COMMAND"},{"href":"/docs/linux/network/NTP","content":"bash timedatectl OPTIONS COMMAND","title":"systemd-timesyncd.service active: yes"},{"href":"/docs/linux/network/NTP","content":"- status show Show current settings of the system clock and RTC set-time TIME 시스템 시간을 설정합니다 The time may be specified in format 2012-10-30 181716 set-timezone ZONE 시스템의 타임존을 bash timedatectl list-timezones grep -i Asia sudo AsiaSeoul set-local-rtc BOOL RTC를 로컬 시간으로 set-ntp true1 이면 etcsystemdtimesyncdconf 파일에 설정된 NTP 서버를 사용하여 동기화합니다 즉 systemd-timesyncd 서비스를 자 먼저 필요한 패키지를 설치해보겠습니다 apt update install systemctl enable start true","title":"edit"},{"href":"/docs/linux/network/NTP","content":"System clock synchronized yes","title":"sudo vi /etc/systemd/timesyncd.conf"},{"href":"/docs/linux/network/NTP","content":"systemd-timesyncdservice active yes","title":"Server:"},{"href":"/docs/linux/network/NTP","content":"동기화 되는 로그시간을 확인해 보죠 bash sudo journalctl -u systemd-timesyncd","title":"Poll interval: 32min 28s (min: 32s; max 34min 8s)"},{"href":"/docs/linux/network/NTP","content":"systemctl status systemd-timesyncdservice","title":"Leap: normal"},{"href":"/docs/linux/network/NTP","content":"음 잘되네염 여느 데몬을 수정하듯 이것도 수정할 수 있습니다 npt 서버 추가 fallback poll interval 변경 등등 bash timedatectl timesync-status","title":"Last attempt: 2024-01-17 17:42:37 UTC (UTC)"},{"href":"/docs/linux/network/NTP","content":"sudo vi etcsystemdtimesyncdconf","title":"Universal time: Wed 2024-01-17 17:42:37 UTC"},{"href":"/docs/linux/network/NTP","content":"sudo systemctl restart systemd-timesyncd","title":"Time zone: Etc/UTC (UTC, +0000)"},{"href":"/docs/linux/network/NTP","content":"만약 아래의 요구사항이 주어졌다 가정해보겠습니다 Time synchronisation configuration needs to be updated 1 Set 0poolntporg and 1poolntporg as main NTP servers 2 ntpubuntucom 0debianpoolntporg fallback 3 The maximum poll interval should 1000 seconds the connection retry 20 Info Use man timesyncdconf for help conf 파일의 구성은 다음과 같습니다 - server host name or IP address 리스트 형태로 response를 받을때까지 순차적으로 시도합니다 FallbackNTP 설정하지 않으면 timesyncd는 주요 서버에 연결할 수 없는 경우 시스템 시간을 동기화하지 않습니다 서버만큼 안정적이지 않을 있습니다 여러 개의 서버를 설정하는 것이 좋습니다 RootDistanceMaxSec 최대 시간 오차를 설정합니다 default 5s PollIntervalMinSec PollIntervalMaxSec 동기화 요청을 보내는 최소 간격을 옵션입니다 Min 값이 낮을경우 빠르게 동기화가 되지만 부하를 줄 Max 높을경우 느리게 ConnectionRetrySec 연결을 잃었을 때 다시 시도하는 SaveIntervalSec 저장하는 1min --- 문제 법대로해 우린 아니죠 대로 해 맞습니다 네 시험준비하며 돌아버린것 이번 20240225 기준 다음주 시험입니다 홧팅 수정하기 전 현재 상황을 확인해보겠습니다 bash timedatectl timesync-status","title":"System clock synchronized: yes"},{"href":"/docs/linux/network/NTP","content":"Poll interval 32min 28s min 32s max 34min 8s","title":"[insert]"},{"href":"/docs/linux/network/NTP","content":"NTPNetwork Time Protocol","title":"NTP(Network Time Protocol)?"},{"href":"/docs/linux/network/NTP","content":"NTPNetwork Time Protocol는 네트워크를 통해 시간을 동기화하는 프로토콜이며 여러 서버의 동기화하는데 사용됩니다 즉 네트워크 장치의 시계를 서버 클러스터입니다 NTP는 수억 대의 컴퓨터와 장치에서 인터넷을 데 linux networkdoclinuxnetwork 에서 다뤘던 timedatectl 명령어와 systemd-timesyncd 서비스를 사용하여 시스템 동기화할 수 있습니다","title":"timedatectl"},{"href":"/docs/linux/network/NTP","content":"timedatectl","title":"Sysnopis"},{"href":"/docs/linux/network/NTP","content":"timedatectl may be used to query and change the system clock its settings enable or disable time synchronization services 명령어는 시스템 시간과 날짜를 설정하고 확인하는데 사용되는 명령어입니다","title":"COMMAND"},{"href":"/docs/linux/network/NTP","content":"bash timedatectl OPTIONS COMMAND","title":"systemd-timesyncd.service active: yes"},{"href":"/docs/linux/network/NTP","content":"- status show Show current settings of the system clock and RTC set-time TIME 시스템 시간을 설정합니다 The time may be specified in format 2012-10-30 181716 set-timezone ZONE 시스템의 타임존을 bash timedatectl list-timezones grep -i Asia sudo AsiaSeoul set-local-rtc BOOL RTC를 로컬 시간으로 set-ntp true1 이면 etcsystemdtimesyncdconf 파일에 설정된 NTP 서버를 사용하여 동기화합니다 즉 systemd-timesyncd 서비스를 자 먼저 필요한 패키지를 설치해보겠습니다 apt update install systemctl enable start true","title":"edit"},{"href":"/docs/linux/network/NTP","content":"System clock synchronized yes","title":"sudo vi /etc/systemd/timesyncd.conf"},{"href":"/docs/linux/network/NTP","content":"systemd-timesyncdservice active yes","title":"Server:"},{"href":"/docs/linux/network/NTP","content":"동기화 되는 로그시간을 확인해 보죠 bash sudo journalctl -u systemd-timesyncd","title":"Poll interval: 32min 28s (min: 32s; max 34min 8s)"},{"href":"/docs/linux/network/NTP","content":"systemctl status systemd-timesyncdservice","title":"Leap: normal"},{"href":"/docs/linux/network/NTP","content":"음 잘되네염 여느 데몬을 수정하듯 이것도 수정할 수 있습니다 npt 서버 추가 fallback poll interval 변경 등등 bash timedatectl timesync-status","title":"Last attempt: 2024-01-17 17:42:37 UTC (UTC)"},{"href":"/docs/linux/network/NTP","content":"sudo vi etcsystemdtimesyncdconf","title":"Universal time: Wed 2024-01-17 17:42:37 UTC"},{"href":"/docs/linux/network/NTP","content":"sudo systemctl restart systemd-timesyncd","title":"Time zone: Etc/UTC (UTC, +0000)"},{"href":"/docs/linux/network/NTP","content":"만약 아래의 요구사항이 주어졌다 가정해보겠습니다 Time synchronisation configuration needs to be updated 1 Set 0poolntporg and 1poolntporg as main NTP servers 2 ntpubuntucom 0debianpoolntporg fallback 3 The maximum poll interval should 1000 seconds the connection retry 20 Info Use man timesyncdconf for help conf 파일의 구성은 다음과 같습니다 - server host name or IP address 리스트 형태로 response를 받을때까지 순차적으로 시도합니다 FallbackNTP 설정하지 않으면 timesyncd는 주요 서버에 연결할 수 없는 경우 시스템 시간을 동기화하지 않습니다 서버만큼 안정적이지 않을 있습니다 여러 개의 서버를 설정하는 것이 좋습니다 RootDistanceMaxSec 최대 시간 오차를 설정합니다 default 5s PollIntervalMinSec PollIntervalMaxSec 동기화 요청을 보내는 최소 간격을 옵션입니다 Min 값이 낮을경우 빠르게 동기화가 되지만 부하를 줄 Max 높을경우 느리게 ConnectionRetrySec 연결을 잃었을 때 다시 시도하는 SaveIntervalSec 저장하는 1min --- 문제 법대로해 우린 아니죠 대로 해 맞습니다 네 시험준비하며 돌아버린것 이번 20240225 기준 다음주 시험입니다 홧팅 수정하기 전 현재 상황을 확인해보겠습니다 bash timedatectl timesync-status","title":"System clock synchronized: yes"},{"href":"/docs/linux/network/NTP","content":"Poll interval 32min 28s min 32s max 34min 8s","title":"[insert]"},{"href":"/docs","content":"리눅스에서는 사용자와 그룹을 구분하여 관리한다 사용자는 파일이나 디렉토리에 대한 접근 권한을 가지고 있으며 그룹은 사용자를 묶어서 관리하는 역할을 한다 각각 고유한 식별 번호를 이를 UID와 GID라고","title":"관련 파일"},{"href":"/docs","content":"etcgroup 파일에 기록되어 있으며 그룹에 속한 사용자는 파일에서 확인할 수 있다 etcshadow 있는 암호화된 비밀번호를 가지고 etcgshadow 그룹 사용자와 그룹은 etclogindefs etcdefaultuseradd","title":"2. 페이지 컴포넌트 작성"},{"href":"/docs","content":"User 추가  삭제 수정","title":"사용자 추가"},{"href":"/docs","content":"2 페이지 컴포넌트 작성","title":"사용자 삭제"},{"href":"/docs","content":"아래 코드를 붙여넣습니다 CodeHeader textTestComponenttsx tsx import CmTitle from app_componentsserver-onlytitle getDictionary applangdictionaries CmButton app_componentsserver-onlybutton clsx export async function generateStaticParams return AVAIL_LOCALESmaplang lang interface Param params TAvailLocale default SSGPage const dict await getDictionarylang section classNameflex flex-col items-center justify-center gap-4 py-8 div classNameinline-block max-w-lg text-center CmTitleWelcome to nbspCmTitle CmTitleHiCmTitle h3by Seongpilh3 p classNameclsxtext-primary-700Byep className bg-purple-200purpleCmButton colorprimaryprimaryCmButton","title":"유저 수정"},{"href":"/docs","content":"사용자를 추가하는 방법은 useradd 명령을 사용한다 명령은 추가할 때 필요한 파일을 생성하고 사용자의 홈 디렉토리를 생성한다기본적으로 home사용자이름 유저를 생성하면 해당 이름의 그룹도 생성된다 bash sudo 옵션 사용자이름","title":"잠금 처리"},{"href":"/docs","content":"specify the users uid gid","title":"잠금 해제"},{"href":"/docs","content":"sudo useradd -u 1001 -g 1002 사용자이름 etcskel 디렉토리는 유저가 생성된후 홈 디렉토리가 생성될 때 기본적으로 복사되는 파일들이 저장되어 있는 디렉토리이다 etcdefaultuseradd 파일에 기록되어 암호화된 비밀번호를 가지고 있다 이처럼 유저의 기본 설정을 보고싶다면 아래 명령어를 실행해보자 bash --defaults GROUP100 HOMEhome INACTIVE-1 EXPIRE SHELLbinsh SKELetcskel CREATE_MAIL_SPOOLno cat etclogindefs 만약 디렉토리와 쉘을 지정하고 싶다면 아래와 같이 옵션을 추가한다 --home-dir home사용자이름 -s binbash 생성한 상세 정보는 etcpasswd사용자 이름 UID GID 디렉토리 쉘 정보 etcpasswd rootx00rootrootbinbash daemonx11daemonusrsbinusrsbinnologin binx22binbinusrsbinnologin testuserx10011002testuser must be delete after test is finishedhomeabacusbinbash dhjoex1002998homeabacusbinbash delimeter는 콜론이다 1번째는 사용자 2번째는 비밀번호 3번째는 4번째는 5번째는 user description or comment field 6번째는 7번째는 정보이다 passwd","title":"유저가 2021년 9월 9일에 만료되도록 설정"},{"href":"/docs","content":"사용자를 삭제하는 방법은 userdel 명령을 사용한다 bash sudo 사용자이름 사용자가 삭제되더라도 홈 디렉토리는 삭제되지 않는다 디렉토리까지 삭제하려면 -r 옵션을 우린 이제 각 디렉토리가 누구의 소유인지 UID GID를 확인 할 수있다 ls -ln home total 0 drwx------ 2 1001 1002 40 9월 9 1626 testuser 998 dhjoe 로그인한 사용자는 내가 누구인지 확인할 수 있다 whoami id uid1002dhjoe gid998 groups998 그 밖에 우리는 다른 타입의 정의 GCP의 서비스 어카운트 Habor의 robot account 등 과같이 리눅스에서도 시스템 useradd --system binfalse 보통 system user 의 uid gid는 1000 이하로 정의한다","title":"2021년 9월 9일에 유저의 비밀번호를 만료되도록 설정"},{"href":"/docs","content":"유저를 수정하는 방법은 기본적으로 usermod 명령을 사용한다 bash sudo 옵션 사용자이름","title":"패스워드 변경"},{"href":"/docs","content":"사용자의 홈 디렉토리를 변경하고 싶다면 -d 옵션을 사용한다","title":"Group 추가 / 삭제 수정"},{"href":"/docs","content":"sudo usermod -d home사용자이름 사용자이름 --home homeother --move-home","title":"그룹 조회"},{"href":"/docs","content":"sudo usermod -L 사용자이름","title":"그룹 추가"},{"href":"/docs","content":"sudo usermod -U 사용자이름","title":"check group"},{"href":"/docs","content":"유저가 2021년 9월 9일에 만료되도록 설정","title":"그룹 삭제"},{"href":"/docs","content":"sudo usermod -e 2021-09-09 사용자이름","title":"그룹 수정"},{"href":"/docs","content":"유저의 비밀번호를 만료되도록 설정","title":"그룹의 이름을 변경하고 싶다면 -n 옵션을 사용한다."},{"href":"/docs","content":"sudo chage -d 0 사용자이름","title":"change primary group"},{"href":"/docs","content":"2021년 9월 9일에 유저의 비밀번호를 만료되도록 설정","title":"사용자 및 그룹 디스크 할당"},{"href":"/docs","content":"sudo chage -E 2021-09-09 사용자이름","title":"sudo quotacheck --create-files --user --group --verbose /dev/vdb1"},{"href":"/docs","content":"패스워드를 변경하는 방법은 passwd 명령을 사용한다 bash sudo 사용자이름 좋다 이제 그룹의 세계로 넘어가보자","title":"활성화"},{"href":"/docs","content":"Group 추가  삭제 수정","title":"sudo repquota /mnt/backup"},{"href":"/docs","content":"그룹으로 뭘 할 수 있을까 그룹은 사용자를 묶어서 관리하는 역할을 한다 시스템에서 거의 모든 작업을 수행할 있는 휠 또는 의사 그룹이다 가장 강력한 사용자 계정인 루트를 사용하여 루트 권한으로 프로그램을 실행할 있습니다 또 다른 하나는 Docker 컨테이너를 관리할 그룹의 사용자입니다 사용자는 여러 그룹에 속할 있지만 이러한 그룹 중 특별합니다Primary 그 기본 그룹이고 나머지는 모두 보조 보충 그룹입니다 그룹을 로그인 그룹이라고도 합니다 사용자가 로그인하자마자 이 그룹이 자신의 메인 되기 때문입니다 하지만 이론만으로는 이해하기 어렵습니다 그럼 특별한 점을 살펴보겠습니다 --- 실행하면 해당 계정과 그룹에서 실행됩니다 그렇지 않으면 가지고 것과 동일한 프로그램이 예로는 파일을 만들 때 파일은 의해 자동으로 소유됩니다","title":"Practice"},{"href":"/docs","content":"그룹을 조회하는 방법은 groups 명령을 사용한다 bash abacus adm cdrom sudo dip plugdev lxd docker","title":"Make sure that this command gets executed for any user logs in to the system:"},{"href":"/docs","content":"list of users","title":"*i}\" != \"$-\" ]; then"},{"href":"/docs","content":"users abacus","title":"Bash login shells run only /etc/profile"},{"href":"/docs","content":"그룹을 추가하는 방법은 groupadd 명령을 사용한다 bash sudo 그룹이름 testGroup","title":"Check for double sourcing is done in /etc/bashrc."},{"href":"/docs","content":"add user to group","title":"Reference"},{"href":"/docs/linux/network","content":"Linux Networking","title":"Linux Networking"},{"href":"/docs/linux/network","content":"Introduction","title":"Setup"},{"href":"/docs/linux/network","content":"서버 세팅 과정에서 고려되어야 할 네트워크 관련 주요 요소는 다음과 같습니다 - IP 주소 서브넷 마스크 게이트웨이 DNS 인증서 방화벽 장치 Time zone 먼저 time zone을 확인 해보겠습니다 가장 간단한 방법은 date 명령어를 사용하는 것입니다 bash","title":"Utilities"},{"href":"/docs/linux/network","content":"UTC 직접 timezone 설정을 하려면 timedatectl 명령어를 사용합니다 bash sudo result is Local time Wed 2024-01-17 174237 Universal RTC Time zone EtcUTC 0000 System clock synchronized yes systemd-timesyncdservice active in local TZ no 음 한국 시간이 아닌 것 같습니다 어떤 시간대가 있는지 확인해보겠습니다 list-timezones grep -i Asia AsiaSeoul 이 있네요 이걸로 바꿔보겠습니다 by a slash character then the name of city usually capital country or state 도쿄나베이징 처럼 도시 이름을 주로 사용하는 듯 보입니다 set-timezone 다시 Thu 2024-01-18 024947 KST - ㄹㅇ 시간 174947 0900 이제 되었습니다","title":"-t: tcp"},{"href":"/docs/linux/network","content":"-l listening","title":"127.0.0.1과 0.0.0.0은 서로 다른 의미를 갖습니다."},{"href":"/docs/linux/network","content":"sudo ss -ltunp","title":"Bond - 실습"},{"href":"/docs/linux/network","content":"sudo netstat -ltunp grep LISTEN 결과는 다음과 같습니다 bash Netid State Recv-Q Send-Q Local AddressPort Peer Process tcp 0 128 000022 0000 userssshdpid3360607fd3 4096 10250 userskubeletpid151362fd31 511 80 usersnginxpid2206347fd7nginxpid2206345fd7nginxpid2181934fd7 process 정보를 보기 위해서는 root 권한이 필요합니다 컬럼을 보면 sshd kubelet nginx가 각각 22 포트를 사용하고 있음을 알 수 있습니다 daemon service 들의 상태들을 확인해 보세요 systemctl status nginx 또한 프로세스pid 를 확인해보세요 ps -ef","title":"/usr/share/doc/netplan/examples/bonding.yaml"},{"href":"/docs/linux/network","content":"Linux Networking","title":"Linux Networking"},{"href":"/docs/linux/network","content":"Introduction","title":"Setup"},{"href":"/docs/linux/network","content":"서버 세팅 과정에서 고려되어야 할 네트워크 관련 주요 요소는 다음과 같습니다 - IP 주소 서브넷 마스크 게이트웨이 DNS 인증서 방화벽 장치 Time zone 먼저 time zone을 확인 해보겠습니다 가장 간단한 방법은 date 명령어를 사용하는 것입니다 bash","title":"Utilities"},{"href":"/docs/linux/network","content":"UTC 직접 timezone 설정을 하려면 timedatectl 명령어를 사용합니다 bash sudo result is Local time Wed 2024-01-17 174237 Universal RTC Time zone EtcUTC 0000 System clock synchronized yes systemd-timesyncdservice active in local TZ no 음 한국 시간이 아닌 것 같습니다 어떤 시간대가 있는지 확인해보겠습니다 list-timezones grep -i Asia AsiaSeoul 이 있네요 이걸로 바꿔보겠습니다 by a slash character then the name of city usually capital country or state 도쿄나베이징 처럼 도시 이름을 주로 사용하는 듯 보입니다 set-timezone 다시 Thu 2024-01-18 024947 KST - ㄹㅇ 시간 174947 0900 이제 되었습니다","title":"-t: tcp"},{"href":"/docs/linux/network","content":"-l listening","title":"127.0.0.1과 0.0.0.0은 서로 다른 의미를 갖습니다."},{"href":"/docs/linux/network","content":"sudo ss -ltunp","title":"Bond - 실습"},{"href":"/docs/linux/network","content":"sudo netstat -ltunp grep LISTEN 결과는 다음과 같습니다 bash Netid State Recv-Q Send-Q Local AddressPort Peer Process tcp 0 128 000022 0000 userssshdpid3360607fd3 4096 10250 userskubeletpid151362fd31 511 80 usersnginxpid2206347fd7nginxpid2206345fd7nginxpid2181934fd7 process 정보를 보기 위해서는 root 권한이 필요합니다 컬럼을 보면 sshd kubelet nginx가 각각 22 포트를 사용하고 있음을 알 수 있습니다 daemon service 들의 상태들을 확인해 보세요 systemctl status nginx 또한 프로세스pid 를 확인해보세요 ps -ef","title":"/usr/share/doc/netplan/examples/bonding.yaml"},{"href":"/docs/etc/vim","content":"하이라이트 후 이전 단어로 이동함 입력 -- 커서 뒤에서 a 앞에서 i 아래에 행 추가 o 위에 O 맨 A I 커서가 위치한 문자 변경 r 입력모드에서 Back Space Ctrl h 삭제복사붙여넣기 ---------- 삭제 x dd 현재 위치부터 끝까지 D 해당 끝에 공백 삽입 아래 붙이기 J 붙여넣기 p P 복사 yy 또는 Y 단어 yiw 입력모드로 전환 ciw 작업 취소다시 실행이전 명령어 반복 --------------------- 취소undo u 다시 실행redo 실행 모드 모드는 일반 비주얼 명령행 모드가 있다 - 입력모드 모드로 변환 가능하다 커서이동 등 명령을 수행할 수 있는 편집이 가능한 마우스 드래그와 같이 범위를 지정하는 복잡한","title":"일반 모드 < > 다른"},{"href":"/docs/linux/network/ufw","content":"Packet Filter","title":"Packet Filter"},{"href":"/docs/linux/network/ufw","content":"항상 방화벽 설정 전에는 ssh 연결조차 끊길 수 있다 대비를 마련하자 ufw의 한계를 극복하기 위해 iptables를 사용한다 하지만 확장된 기능을 제공하는 ufw-framework 를 통해 사용성을 최대화 시킬 sh man bash sudo ufw status","title":"Status: inactive"},{"href":"/docs/linux/network/ufw","content":"Status inactive","title":"Firewall is active and enabled on system startup"},{"href":"/docs/linux/network/ufw","content":"inactive 상태이면 아래 명령어로 활성화 시킨다 bash sudo ufw enable","title":"Allow Permanent TCP incoming connections to port 7869"},{"href":"/docs/linux/network/ufw","content":"Firewall is active and enabled on system startup","title":"Add a permanent firewall rule to allow the https service."},{"href":"/docs/linux/network/ufw","content":"Allow Permanent TCP incoming connections to port 7869","title":"not permanent"},{"href":"/docs/linux/network/ufw","content":"bash sudo ufw deny 7869tcp status or for centos firewall-cmd --add-port7869tcp --permanent --reload","title":"to make all permanent"},{"href":"/docs/linux/network/ufw","content":"Add a permanent firewall rule to allow the https service","title":"(10.11.12.0 ~ 10.11.12.255(예: 10.11.12.0/24))의 모든 IP에서 들어오는 트래픽을 허용하고 신뢰할 수 있는 영역에 필요한 규칙을 추가하며 규칙은 영구적이어야 합니다."},{"href":"/docs/linux/network/ufw","content":"bash sudo ufw allow https or for centos firewall-cmd --add-servicehttps --permanent","title":"sudo ufw allow from"},{"href":"/docs/linux/network/ufw","content":"Packet Filter","title":"Packet Filter"},{"href":"/docs/linux/network/ufw","content":"항상 방화벽 설정 전에는 ssh 연결조차 끊길 수 있다 대비를 마련하자 ufw의 한계를 극복하기 위해 iptables를 사용한다 하지만 확장된 기능을 제공하는 ufw-framework 를 통해 사용성을 최대화 시킬 sh man bash sudo ufw status","title":"Status: inactive"},{"href":"/docs/linux/network/ufw","content":"Status inactive","title":"Firewall is active and enabled on system startup"},{"href":"/docs/linux/network/ufw","content":"inactive 상태이면 아래 명령어로 활성화 시킨다 bash sudo ufw enable","title":"Allow Permanent TCP incoming connections to port 7869"},{"href":"/docs/linux/network/ufw","content":"Firewall is active and enabled on system startup","title":"Add a permanent firewall rule to allow the https service."},{"href":"/docs/linux/network/ufw","content":"Allow Permanent TCP incoming connections to port 7869","title":"not permanent"},{"href":"/docs/linux/network/ufw","content":"bash sudo ufw deny 7869tcp status or for centos firewall-cmd --add-port7869tcp --permanent --reload","title":"to make all permanent"},{"href":"/docs/linux/network/ufw","content":"Add a permanent firewall rule to allow the https service","title":"(10.11.12.0 ~ 10.11.12.255(예: 10.11.12.0/24))의 모든 IP에서 들어오는 트래픽을 허용하고 신뢰할 수 있는 영역에 필요한 규칙을 추가하며 규칙은 영구적이어야 합니다."},{"href":"/docs/linux/network/ufw","content":"bash sudo ufw allow https or for centos firewall-cmd --add-servicehttps --permanent","title":"sudo ufw allow from"},{"href":"/docs/etc/wireshark","content":"tcpdump Wireshark","title":"tcpdump, Wireshark"},{"href":"/docs/etc/wireshark","content":"와이어 샤크란 네트워크 패킷 분석기로 프로토콜 분석 및 디버깅에 사용된다 이는 다양한 프로토콜을 지원하며 운영체제에서 사용할 수 있다 또한 Wireshark는 오픈 소스 프로젝트로 무료로","title":"hhaha"},{"href":"/docs/linux/operations-deployment/DNS","content":"You dont get what you wish for work Domain Name SystemDNS은 인터넷에서 사람이 읽을 수 있는 도메인 이름을 컴퓨터가 IP 주소로 변환하는 분산형 데이터베이스 시스템입니다 인터넷에 연결된 모든 컴퓨터에는 고유한 주소가 있습니다 주소는 숫자의 집합으로 이루어져 있으며 기억하기 어렵습니다 따라서 인터넷을 사용하기 쉽게 하기 위해 이름이 사용됩니다 이름은 이해하기 쉬운 문자열로 주소에 매핑됩니다 예를 들어 googlecom은 142250190142이라는 사용자가 googlecom을 입력하면 DNS 시스템은 이를 142250190142으로 변환하여 해당 연결합니다","title":"DNS는 다음과 같은 단계로 작동합니다."},{"href":"/docs/linux/operations-deployment/DNS","content":"DNS는 다음과 같은 단계로 작동합니다","title":"DNS는 다음과 같은 기능을 제공합니다."},{"href":"/docs/linux/operations-deployment/DNS","content":"1 사용자는 브라우저에 도메인 이름을 입력합니다 2 브라우저는 DNS 서버에 이름에 대한 정보를 요청합니다 3 서버는 검색합니다 4 해당하는 IP 주소를 사용자에게 반환합니다 5 사용하여 해당 컴퓨터에 연결합니다 DNS는 인터넷에서 매우 중요한 역할을 합니다 DNS가 없다면 입력해야 하기 때문에 인터넷을 사용하기 어려울 것입니다","title":"DNS Zone?"},{"href":"/docs/linux/operations-deployment/DNS","content":"DNS는 다음과 같은 기능을 제공합니다","title":"DNS zone의 목적."},{"href":"/docs/linux/operations-deployment/DNS","content":"도메인 이름과 IP 주소의 매핑 웹사이트에 대한 접근 이메일 전송 네트워크 서비스 검색 DNS는 분산형 데이터베이스 시스템입니다 즉 DNS 서버는 전 세계에 분산되어 있으며 각 특정 이름에 정보를 저장합니다 이렇게 하면 서버의 부하를 분산하고 단일 장애에 대비할 수 있습니다 인터넷의 필수 요소이며 효율적이고 안정적인 운영에 기여하고","title":"Zone 파일"},{"href":"/docs/linux/operations-deployment/DNS","content":"DNS zone은 도메인 이름 시스템에서 특정 조직이나 관리자가 관리하는 네임스페이스의 부분입니다 신뢰할 수 있는 서버와 같은 구성 요소를 보다 세밀하게 제어할 관리 공간입니다 예로 googlecom 다음과 두 가지 유형으로 나눌 있습니다 기본 zone 이름의 최상위 수준을 나타냅니다 예를 들어 examplecom은 zone입니다 하위 zone에 속하는 수준 도메인을 wwwexamplecom은 examplecom의 서버에 저장된 텍스트 파일인 파일로 구성됩니다 파일에는 해당 zone의 IP 주소 서버의 등과 정보가 포함되어","title":"Configuration"},{"href":"/docs/linux/operations-deployment/DNS","content":"DNS zone의 목적","title":"DNS Zone 파일의 구조"},{"href":"/docs/linux/operations-deployment/DNS","content":"도메인 이름과 IP 주소의 매핑 DNS zone은 정보를 저장합니다 이를 통해 사용자는 이름을 입력하여 해당 주소에 연결할 수 있습니다 이름의 관리 관리를 단순화합니다 zone 관리자는 파일을 주소 서버의 이름 등과 같은 변경할 부하 분산 부하를 분산하는 데 도움이 됩니다 zone을 여러 서버에 분산하여 각 적절한 저장할 인터넷에서 매우 중요한 역할을 합니다 매핑을 효율적으로 관리하고 분산할","title":"This line specifies the working directory for server."},{"href":"/docs/linux/operations-deployment/DNS","content":"Zone 파일은 각 Zone의 정보와 내의 Record 정보들을 기술한 텍스트 파일이다 이 DNS 서버에 존재하며 설정 파일 및 정보를 제공하는 데이터베이스와 같은 역할을 한다 DNS의 마스터 - 슬레이브 시 슬레이브가 복제replication을 위해 마스터에서 주기적으로 업데이트 여부를 확인하고 업데이트가 있다면 가져오는 정보이기도 하다 자체적으로 DNS를 운영하는 경우 varnameduserdomainnamecomzone 와 경로에서 얻을 수 있다 도메인 Registrar를 통해 관리하는 고객이라면 해당 서비스가 export 기능으로 쉽게 결국 Zone에 대해 SOAStart of Authority 레코드와 zone에 포함된 서브 도메인들의 Resource 레코드 값을 정의한 자세한 정보는 RFC 1035httpstoolsietforghtmlrfc1035 참고할 것 출처 DNSDomain Name System Zone을 이해하자작성자 테크유람","title":"This line specifies that only the localhost can query this DNS server."},{"href":"/docs/linux/operations-deployment/DNS","content":"named는 DNS 서버의 데몬 프로세스로 BINDBerkeley Internet Name Domain 프로젝트의 일부입니다 BIND 프로젝트는 서버를 구축하는 데 사용되는 가장 널리 오픈 소스 소프트웨어입니다","title":"/* Path to ISC DLV key */"},{"href":"/docs/linux/operations-deployment/DNS","content":"Configuration","title":"This line specifies the file containing keys for DNSSEC lookaside validation."},{"href":"/docs/linux/operations-deployment/DNS","content":"- named는 etcnamedconf 파일을 사용하여 구성됩니다 기본적으로 varnamed 디렉토리에 있는 zone 도메인 이름에 대한 정보를 저장합니다 varrunnamednamedpid 기본 PID 파일","title":"channel logs to the file data/named.run with a dynamic severity level."},{"href":"/docs/linux/operations-deployment/DNS","content":"DNS Zone 파일의 구조","title":". The type is set to hint, which means this a hints file that lists the root servers. named.ca contains these hints."},{"href":"/docs/linux/operations-deployment/DNS","content":"Zone 파일은 DNS Zone에 대한 SOAStart of Authority 레코드와 해당 zone에 포함된 서브 도메인들의 Resource 레코드 값을 정의한 텍스트 파일이다 자 어떻게 구성할 수 있을까 가장 먼저 etcnamedconf 파일을 열어보자 다음과 같은 구조를 가진다 bash options","title":"\"example.com\" 도메인에 대한 DNS zone의 설정"},{"href":"/docs/linux/operations-deployment/DNS","content":"This line specifies the working directory for server","title":"이 DNS 서버가 \"example.com\" 도메인에 대한 마스터 서버임을 지정합니다. 서버는 정보의 주요 출처이며, 도메인의 레코드 변경을 관리합니다."},{"href":"/docs/linux/operations-deployment/DNS","content":"directory varnamed","title":"도메인에 대한 DNS 레코드를 포함하는 파일을 지정합니다."},{"href":"/docs/linux/operations-deployment/DNS","content":"These lines specify various files used for dumping the servers cache logging statistics etc","title":"DNS 레코드에 대한 변경이 \"example.com.zone\" 파일을 수동으로 편집함으로써만 이루어질 수 있음을 의미합니다."},{"href":"/docs/linux/operations-deployment/DNS","content":"dump-file varnameddatacache_dumpdb statistics-file varnameddatanamed_statstxt memstatistics-file varnameddatanamed_mem_statstxt recursing-file varnameddatanamedrecursing secroots-file varnameddatanamedsecroots","title":"TTL(Time To Live)은 DNS Resource Record의 캐시 유지 시간을 의미한다. 즉, 해당 설정한다. TTL은 초 단위로 설정하며, 86400은 1일을"},{"href":"/docs/linux/operations-deployment/DNS","content":"This line specifies that only the localhost can query this DNS server","title":"1D or 1d 1H 1h 1M 1m 1S 1s"},{"href":"/docs/linux/operations-deployment/DNS","content":"allow-query localhost recursion yes","title":"name server, hey u can find dns data for example"},{"href":"/docs/linux/operations-deployment/DNS","content":"These lines enable DNSSEC Domain Name System Security Extensions which adds security to the DNS protocol by enabling responses be validated","title":"일반적으로 다음과 같은 경우에도 작동하는지 확인하기 위해 두 개의 이름 서버가 사용됩니다.(omit IN)"},{"href":"/docs/linux/operations-deployment/DNS","content":"dnssec-enable yes dnssec-validation dnssec-lookaside auto","title":"ns1.example.com 도메인의 IP 주소"},{"href":"/docs/linux/operations-deployment/DNS","content":"Path to ISC DLV key","title":"example.com 에 접속했을때 203.0.113.15 의 내 어플리케이션에 접속시키기 위한 정보"},{"href":"/docs/linux/operations-deployment/DNS","content":"This line specifies the file containing keys for DNSSEC lookaside validation","title":"다른 서버에 이메일을 어디로 보내야 하는지 알려줍니다."},{"href":"/docs/linux/operations-deployment/DNS","content":"bindkeys-file etcnamediscdlvkey managed-keys-directory varnameddynamic","title":"mail exchanger record, tells other servers where they should send their emails."},{"href":"/docs/linux/operations-deployment/DNS","content":"channel logs to the file datanamedrun with a dynamic severity level","title":"main server 에 대한 IP 주소, 4개의 4바이트 블록으로 구성된 32비트의 주소체계"},{"href":"/docs/linux/operations-deployment/DNS","content":"logging channel default_debug file datanamedrun severity dynamic","title":"ipv6 4개의 16진수 블록으로 구성된 128비트의 주소체계"},{"href":"/docs/linux/operations-deployment/DNS","content":"The type is set to hint which means this a hints file that lists the root servers namedca contains these","title":"안에는 어떤 종류의 텍스트라도 들어있습니다."},{"href":"/docs/linux/operations-deployment/DNS","content":"zone IN type hint file namedca","title":"txt record, can contain any kind of text"},{"href":"/docs/linux/operations-deployment/DNS","content":"examplecom 도메인에 대한 DNS zone의 설정","title":"AAAA ::1"},{"href":"/docs/linux/operations-deployment/DNS","content":"zone examplecom IN","title":"53(127.0.0.53)"},{"href":"/docs/linux/operations-deployment/DNS","content":"이 DNS 서버가 examplecom 도메인에 대한 마스터 서버임을 지정합니다 서버는 정보의 주요 출처이며 도메인의 레코드 변경을 관리합니다","title":"Practice"},{"href":"/docs/linux/operations-deployment/DNS","content":"type master","title":"Which is the configuration file of our Bind DNS server?"},{"href":"/docs/linux/operations-deployment/DNS","content":"도메인에 대한 DNS 레코드를 포함하는 파일을 지정합니다","title":"Where does bind DNS server store all zone files on a RedHat based linux machine?"},{"href":"/docs/linux/operations-deployment/DNS","content":"file examplecomzone","title":"What is the default port number of DNS server?"},{"href":"/docs/linux/operations-deployment/DNS","content":"DNS 레코드에 대한 변경이 examplecomzone 파일을 수동으로 편집함으로써만 이루어질 수 있음을 의미합니다","title":"Install bind DNS server on this system."},{"href":"/docs/linux/operations-deployment/DNS","content":"allow-update none include etcnamedrfc1912zones etcnamedrootkey 처음 파일을 작성할 때 국룰은 템플릿 찾아 가져오는 것이다 데몬 서비스가 실행 할 수 있도록 권한 그대로 복사해오자 bash sudo ls varnamed cp --preserveownership varnamednamedlocalhost varnamedexamplecomzone cat localhost Zone 파일은 다음과 같은 구조를 가진다 sh","title":"Configure the Bind daemon to accept queries from **any IP** on Internet."},{"href":"/docs/linux/operations-deployment/DNS","content":"TTLTime To Live은 DNS Resource Record의 캐시 유지 시간을 의미한다 즉 해당 설정한다 TTL은 초 단위로 설정하며 86400은 1일을","title":"check keyword"},{"href":"/docs/linux/operations-deployment/DNS","content":"1D or 1d 1H 1h 1M 1m 1S 1s","title":"반드시 서브넷 형태로 넣어야한다;; 오바임"},{"href":"/docs/linux/operations-deployment/DNS","content":"TTL 86400 IN SOA administratorexamplecom 2019010101 Serial시리얼 번호 - zone 파일이 변경 될때마다 증가시켜야 한다 10자리 이하의 숫자로 표현한다 3600 Refresh캐시된 파일을 다시 읽어들이는 주기 초 단위 마스터 체크 1800 Retry 서버와의 연결이 끊겼을 때 서버에 재연결을 시도하는 604800 Expire 7일 Zone 만료되었다고 판단하는 시간 Minimum 캐시된 파일의 최소 유지","title":"Query the local DNS server and identify current `A` record value for `example.com` domain."},{"href":"/docs/linux/operations-deployment/DNS","content":"name server hey u can find dns data for example","title":"You might have noticed that in the previous question, A record value for `example.com` domain is different what we `/var/named/example.com.zone` DNS zone file. Which means, this file isn't use yet or server hasn't read it yet."},{"href":"/docs/linux/operations-deployment/DNS","content":"IN NS ns1examplecom","title":"check correctly applied"},{"href":"/docs/linux/operations-deployment/DNS","content":"일반적으로 다음과 같은 경우에도 작동하는지 확인하기 위해 두 개의 이름 서버가 사용됩니다omit IN","title":"insert"},{"href":"/docs/linux/operations-deployment/DNS","content":"NS ns2examplecom","title":"Modify `/var/named/example.com.zone` and add a new entry so that this subdomain `database.example.com` has IP address: `1.2.3.4`"},{"href":"/docs/linux/operations-deployment/DNS","content":"ns1examplecom 도메인의 IP 주소","title":"Modify `/var/named/example.com.zone` and make `mysql.example.com` an alias for `database.example.com` by adding the proper CNAME entry."},{"href":"/docs/linux/operations-deployment/DNS","content":"ns1 IN A 1011129 ns2 10111210","title":"By default the bind server also fetches DNS data from other servers on Internet, when it does not have available in its own cache. But somehow our is able to query `kodekloud.com` domain data."},{"href":"/docs/linux/operations-deployment/DNS","content":"examplecom 에 접속했을때 203011315 의 내 어플리케이션에 접속시키기 위한 정보","title":"not found"},{"href":"/docs/linux/operations-deployment/DNS","content":"A 203011315","title":"founded from /etc/resolv.conf"},{"href":"/docs/linux/operations-deployment/DNS","content":"wwwexamplecom 으로 접근 했을때 리다이렉션 시키기 위한 정보","title":"insert"},{"href":"/docs/linux/operations-deployment/DNS","content":"www CNAME 203011315","title":"Using `dig` utility retrieve all record types (including MX, TXT etc) associated with our `example.com` domain and save the output in `/home/bob/records` file."},{"href":"/docs/linux/operations-deployment/DNS","content":"다른 서버에 이메일을 어디로 보내야 하는지 알려줍니다","title":"Change the TTL for `example.com` domain to tell other DNS servers that, they may query our zone cache this data 2 hours."},{"href":"/docs/linux/operations-deployment/DNS","content":"You dont get what you wish for work Domain Name SystemDNS은 인터넷에서 사람이 읽을 수 있는 도메인 이름을 컴퓨터가 IP 주소로 변환하는 분산형 데이터베이스 시스템입니다 인터넷에 연결된 모든 컴퓨터에는 고유한 주소가 있습니다 주소는 숫자의 집합으로 이루어져 있으며 기억하기 어렵습니다 따라서 인터넷을 사용하기 쉽게 하기 위해 이름이 사용됩니다 이름은 이해하기 쉬운 문자열로 주소에 매핑됩니다 예를 들어 googlecom은 142250190142이라는 사용자가 googlecom을 입력하면 DNS 시스템은 이를 142250190142으로 변환하여 해당 연결합니다","title":"DNS는 다음과 같은 단계로 작동합니다."},{"href":"/docs/linux/operations-deployment/DNS","content":"DNS는 다음과 같은 단계로 작동합니다","title":"DNS는 다음과 같은 기능을 제공합니다."},{"href":"/docs/linux/operations-deployment/DNS","content":"1 사용자는 브라우저에 도메인 이름을 입력합니다 2 브라우저는 DNS 서버에 이름에 대한 정보를 요청합니다 3 서버는 검색합니다 4 해당하는 IP 주소를 사용자에게 반환합니다 5 사용하여 해당 컴퓨터에 연결합니다 DNS는 인터넷에서 매우 중요한 역할을 합니다 DNS가 없다면 입력해야 하기 때문에 인터넷을 사용하기 어려울 것입니다","title":"DNS Zone?"},{"href":"/docs/linux/operations-deployment/DNS","content":"DNS는 다음과 같은 기능을 제공합니다","title":"DNS zone의 목적."},{"href":"/docs/linux/operations-deployment/DNS","content":"도메인 이름과 IP 주소의 매핑 웹사이트에 대한 접근 이메일 전송 네트워크 서비스 검색 DNS는 분산형 데이터베이스 시스템입니다 즉 DNS 서버는 전 세계에 분산되어 있으며 각 특정 이름에 정보를 저장합니다 이렇게 하면 서버의 부하를 분산하고 단일 장애에 대비할 수 있습니다 인터넷의 필수 요소이며 효율적이고 안정적인 운영에 기여하고","title":"Zone 파일"},{"href":"/docs/linux/operations-deployment/DNS","content":"DNS zone은 도메인 이름 시스템에서 특정 조직이나 관리자가 관리하는 네임스페이스의 부분입니다 신뢰할 수 있는 서버와 같은 구성 요소를 보다 세밀하게 제어할 관리 공간입니다 예로 googlecom 다음과 두 가지 유형으로 나눌 있습니다 기본 zone 이름의 최상위 수준을 나타냅니다 예를 들어 examplecom은 zone입니다 하위 zone에 속하는 수준 도메인을 wwwexamplecom은 examplecom의 서버에 저장된 텍스트 파일인 파일로 구성됩니다 파일에는 해당 zone의 IP 주소 서버의 등과 정보가 포함되어","title":"Configuration"},{"href":"/docs/linux/operations-deployment/DNS","content":"DNS zone의 목적","title":"DNS Zone 파일의 구조"},{"href":"/docs/linux/operations-deployment/DNS","content":"도메인 이름과 IP 주소의 매핑 DNS zone은 정보를 저장합니다 이를 통해 사용자는 이름을 입력하여 해당 주소에 연결할 수 있습니다 이름의 관리 관리를 단순화합니다 zone 관리자는 파일을 주소 서버의 이름 등과 같은 변경할 부하 분산 부하를 분산하는 데 도움이 됩니다 zone을 여러 서버에 분산하여 각 적절한 저장할 인터넷에서 매우 중요한 역할을 합니다 매핑을 효율적으로 관리하고 분산할","title":"This line specifies the working directory for server."},{"href":"/docs/linux/operations-deployment/DNS","content":"Zone 파일은 각 Zone의 정보와 내의 Record 정보들을 기술한 텍스트 파일이다 이 DNS 서버에 존재하며 설정 파일 및 정보를 제공하는 데이터베이스와 같은 역할을 한다 DNS의 마스터 - 슬레이브 시 슬레이브가 복제replication을 위해 마스터에서 주기적으로 업데이트 여부를 확인하고 업데이트가 있다면 가져오는 정보이기도 하다 자체적으로 DNS를 운영하는 경우 varnameduserdomainnamecomzone 와 경로에서 얻을 수 있다 도메인 Registrar를 통해 관리하는 고객이라면 해당 서비스가 export 기능으로 쉽게 결국 Zone에 대해 SOAStart of Authority 레코드와 zone에 포함된 서브 도메인들의 Resource 레코드 값을 정의한 자세한 정보는 RFC 1035httpstoolsietforghtmlrfc1035 참고할 것 출처 DNSDomain Name System Zone을 이해하자작성자 테크유람","title":"This line specifies that only the localhost can query this DNS server."},{"href":"/docs/linux/operations-deployment/DNS","content":"named는 DNS 서버의 데몬 프로세스로 BINDBerkeley Internet Name Domain 프로젝트의 일부입니다 BIND 프로젝트는 서버를 구축하는 데 사용되는 가장 널리 오픈 소스 소프트웨어입니다","title":"/* Path to ISC DLV key */"},{"href":"/docs/linux/operations-deployment/DNS","content":"Configuration","title":"This line specifies the file containing keys for DNSSEC lookaside validation."},{"href":"/docs/linux/operations-deployment/DNS","content":"- named는 etcnamedconf 파일을 사용하여 구성됩니다 기본적으로 varnamed 디렉토리에 있는 zone 도메인 이름에 대한 정보를 저장합니다 varrunnamednamedpid 기본 PID 파일","title":"channel logs to the file data/named.run with a dynamic severity level."},{"href":"/docs/linux/operations-deployment/DNS","content":"DNS Zone 파일의 구조","title":". The type is set to hint, which means this a hints file that lists the root servers. named.ca contains these hints."},{"href":"/docs/linux/operations-deployment/DNS","content":"Zone 파일은 DNS Zone에 대한 SOAStart of Authority 레코드와 해당 zone에 포함된 서브 도메인들의 Resource 레코드 값을 정의한 텍스트 파일이다 자 어떻게 구성할 수 있을까 가장 먼저 etcnamedconf 파일을 열어보자 다음과 같은 구조를 가진다 bash options","title":"\"example.com\" 도메인에 대한 DNS zone의 설정"},{"href":"/docs/linux/operations-deployment/DNS","content":"This line specifies the working directory for server","title":"이 DNS 서버가 \"example.com\" 도메인에 대한 마스터 서버임을 지정합니다. 서버는 정보의 주요 출처이며, 도메인의 레코드 변경을 관리합니다."},{"href":"/docs/linux/operations-deployment/DNS","content":"directory varnamed","title":"도메인에 대한 DNS 레코드를 포함하는 파일을 지정합니다."},{"href":"/docs/linux/operations-deployment/DNS","content":"These lines specify various files used for dumping the servers cache logging statistics etc","title":"DNS 레코드에 대한 변경이 \"example.com.zone\" 파일을 수동으로 편집함으로써만 이루어질 수 있음을 의미합니다."},{"href":"/docs/linux/operations-deployment/DNS","content":"dump-file varnameddatacache_dumpdb statistics-file varnameddatanamed_statstxt memstatistics-file varnameddatanamed_mem_statstxt recursing-file varnameddatanamedrecursing secroots-file varnameddatanamedsecroots","title":"TTL(Time To Live)은 DNS Resource Record의 캐시 유지 시간을 의미한다. 즉, 해당 설정한다. TTL은 초 단위로 설정하며, 86400은 1일을"},{"href":"/docs/linux/operations-deployment/DNS","content":"This line specifies that only the localhost can query this DNS server","title":"1D or 1d 1H 1h 1M 1m 1S 1s"},{"href":"/docs/linux/operations-deployment/DNS","content":"allow-query localhost recursion yes","title":"name server, hey u can find dns data for example"},{"href":"/docs/linux/operations-deployment/DNS","content":"These lines enable DNSSEC Domain Name System Security Extensions which adds security to the DNS protocol by enabling responses be validated","title":"일반적으로 다음과 같은 경우에도 작동하는지 확인하기 위해 두 개의 이름 서버가 사용됩니다.(omit IN)"},{"href":"/docs/linux/operations-deployment/DNS","content":"dnssec-enable yes dnssec-validation dnssec-lookaside auto","title":"ns1.example.com 도메인의 IP 주소"},{"href":"/docs/linux/operations-deployment/DNS","content":"Path to ISC DLV key","title":"example.com 에 접속했을때 203.0.113.15 의 내 어플리케이션에 접속시키기 위한 정보"},{"href":"/docs/linux/operations-deployment/DNS","content":"This line specifies the file containing keys for DNSSEC lookaside validation","title":"다른 서버에 이메일을 어디로 보내야 하는지 알려줍니다."},{"href":"/docs/linux/operations-deployment/DNS","content":"bindkeys-file etcnamediscdlvkey managed-keys-directory varnameddynamic","title":"mail exchanger record, tells other servers where they should send their emails."},{"href":"/docs/linux/operations-deployment/DNS","content":"channel logs to the file datanamedrun with a dynamic severity level","title":"main server 에 대한 IP 주소, 4개의 4바이트 블록으로 구성된 32비트의 주소체계"},{"href":"/docs/linux/operations-deployment/DNS","content":"logging channel default_debug file datanamedrun severity dynamic","title":"ipv6 4개의 16진수 블록으로 구성된 128비트의 주소체계"},{"href":"/docs/linux/operations-deployment/DNS","content":"The type is set to hint which means this a hints file that lists the root servers namedca contains these","title":"안에는 어떤 종류의 텍스트라도 들어있습니다."},{"href":"/docs/linux/operations-deployment/DNS","content":"zone IN type hint file namedca","title":"txt record, can contain any kind of text"},{"href":"/docs/linux/operations-deployment/DNS","content":"examplecom 도메인에 대한 DNS zone의 설정","title":"AAAA ::1"},{"href":"/docs/linux/operations-deployment/DNS","content":"zone examplecom IN","title":"53(127.0.0.53)"},{"href":"/docs/linux/operations-deployment/DNS","content":"이 DNS 서버가 examplecom 도메인에 대한 마스터 서버임을 지정합니다 서버는 정보의 주요 출처이며 도메인의 레코드 변경을 관리합니다","title":"Practice"},{"href":"/docs/linux/operations-deployment/DNS","content":"type master","title":"Which is the configuration file of our Bind DNS server?"},{"href":"/docs/linux/operations-deployment/DNS","content":"도메인에 대한 DNS 레코드를 포함하는 파일을 지정합니다","title":"Where does bind DNS server store all zone files on a RedHat based linux machine?"},{"href":"/docs/linux/operations-deployment/DNS","content":"file examplecomzone","title":"What is the default port number of DNS server?"},{"href":"/docs/linux/operations-deployment/DNS","content":"DNS 레코드에 대한 변경이 examplecomzone 파일을 수동으로 편집함으로써만 이루어질 수 있음을 의미합니다","title":"Install bind DNS server on this system."},{"href":"/docs/linux/operations-deployment/DNS","content":"allow-update none include etcnamedrfc1912zones etcnamedrootkey 처음 파일을 작성할 때 국룰은 템플릿 찾아 가져오는 것이다 데몬 서비스가 실행 할 수 있도록 권한 그대로 복사해오자 bash sudo ls varnamed cp --preserveownership varnamednamedlocalhost varnamedexamplecomzone cat localhost Zone 파일은 다음과 같은 구조를 가진다 sh","title":"Configure the Bind daemon to accept queries from **any IP** on Internet."},{"href":"/docs/linux/operations-deployment/DNS","content":"TTLTime To Live은 DNS Resource Record의 캐시 유지 시간을 의미한다 즉 해당 설정한다 TTL은 초 단위로 설정하며 86400은 1일을","title":"check keyword"},{"href":"/docs/linux/operations-deployment/DNS","content":"1D or 1d 1H 1h 1M 1m 1S 1s","title":"반드시 서브넷 형태로 넣어야한다;; 오바임"},{"href":"/docs/linux/operations-deployment/DNS","content":"TTL 86400 IN SOA administratorexamplecom 2019010101 Serial시리얼 번호 - zone 파일이 변경 될때마다 증가시켜야 한다 10자리 이하의 숫자로 표현한다 3600 Refresh캐시된 파일을 다시 읽어들이는 주기 초 단위 마스터 체크 1800 Retry 서버와의 연결이 끊겼을 때 서버에 재연결을 시도하는 604800 Expire 7일 Zone 만료되었다고 판단하는 시간 Minimum 캐시된 파일의 최소 유지","title":"Query the local DNS server and identify current `A` record value for `example.com` domain."},{"href":"/docs/linux/operations-deployment/DNS","content":"name server hey u can find dns data for example","title":"You might have noticed that in the previous question, A record value for `example.com` domain is different what we `/var/named/example.com.zone` DNS zone file. Which means, this file isn't use yet or server hasn't read it yet."},{"href":"/docs/linux/operations-deployment/DNS","content":"IN NS ns1examplecom","title":"check correctly applied"},{"href":"/docs/linux/operations-deployment/DNS","content":"일반적으로 다음과 같은 경우에도 작동하는지 확인하기 위해 두 개의 이름 서버가 사용됩니다omit IN","title":"insert"},{"href":"/docs/linux/operations-deployment/DNS","content":"NS ns2examplecom","title":"Modify `/var/named/example.com.zone` and add a new entry so that this subdomain `database.example.com` has IP address: `1.2.3.4`"},{"href":"/docs/linux/operations-deployment/DNS","content":"ns1examplecom 도메인의 IP 주소","title":"Modify `/var/named/example.com.zone` and make `mysql.example.com` an alias for `database.example.com` by adding the proper CNAME entry."},{"href":"/docs/linux/operations-deployment/DNS","content":"ns1 IN A 1011129 ns2 10111210","title":"By default the bind server also fetches DNS data from other servers on Internet, when it does not have available in its own cache. But somehow our is able to query `kodekloud.com` domain data."},{"href":"/docs/linux/operations-deployment/DNS","content":"examplecom 에 접속했을때 203011315 의 내 어플리케이션에 접속시키기 위한 정보","title":"not found"},{"href":"/docs/linux/operations-deployment/DNS","content":"A 203011315","title":"founded from /etc/resolv.conf"},{"href":"/docs/linux/operations-deployment/DNS","content":"wwwexamplecom 으로 접근 했을때 리다이렉션 시키기 위한 정보","title":"insert"},{"href":"/docs/linux/operations-deployment/DNS","content":"www CNAME 203011315","title":"Using `dig` utility retrieve all record types (including MX, TXT etc) associated with our `example.com` domain and save the output in `/home/bob/records` file."},{"href":"/docs/linux/operations-deployment/DNS","content":"다른 서버에 이메일을 어디로 보내야 하는지 알려줍니다","title":"Change the TTL for `example.com` domain to tell other DNS servers that, they may query our zone cache this data 2 hours."},{"href":"/docs/framework-next/convention/name","content":"- 컴포넌트 파일 PascalCasetsx","title":"Good"},{"href":"/docs/framework-next/convention/name","content":"폴더명은 케밥 케이스로 작성합니다","title":"함수명"},{"href":"/docs/framework-next/convention/name","content":"- components network-boundary","title":"Good"},{"href":"/docs/framework-next/convention/name","content":"ts const CONSTANT_VALUE 어퍼 스네이크 케이스 상수 localVariable 카멜 지역변수 globalVariable 전역변수 export function exportFunction 함수 ---","title":"Good"},{"href":"/docs/framework-next/convention/name","content":"최 상위 함수는 function keyword 로 작성합니다","title":"타입스크립트"},{"href":"/docs/framework-next/convention/name","content":"tsx export function useIntersect onIntersect IntersectHandler options IntersectionObserverInit","title":"Interface"},{"href":"/docs/framework-next/convention/name","content":"지역scope 함수는 arrow function 으로 작성합니다","title":"Good"},{"href":"/docs/framework-next/convention/name","content":"tsx export function useIntersect onIntersect IntersectHandler options IntersectionObserverInit const ref useRefHTMLDivElementnull callback useCallback entries IntersectionObserverEntry observer IntersectionObserver consolelogentries entriesforEachentry if entryisIntersecting return onIntersectentry useEffect refcurrent new IntersectionObservercallback observerobserverefcurrent observerdisconnect","title":"Good"},{"href":"/docs/framework-next/convention/name","content":"인라인 Functional Component 는 arrow function 으로 작성합니다","title":"페이지 모듈명은 다음과 같이 작성하세요"},{"href":"/docs/linux/operations-deployment/KVM","content":"Kernel-based Virtual Machine KVM은 리눅스 커널에서 하드웨어 가상화를 지원하는 모듈이다 QEMU를 이용하여 수행한다 QEMU는 CPU 에뮬레이션을 가상화 소프트웨어이다 수행하며 KVM 모듈을","title":"Setup"},{"href":"/docs/linux/operations-deployment/KVM","content":"사용될 패키지를 설치한다 bash","title":"$ sudo systemctl start libvirtd"},{"href":"/docs/linux/operations-deployment/KVM","content":"sudo dnf install qemu-kvm libvirt","title":"off"},{"href":"/docs/linux/operations-deployment/KVM","content":"sudo systemctl start libvirtd","title":"get info"},{"href":"/docs/linux/operations-deployment/KVM","content":"sudo systemctl enable libvirtd","title":"set maximum vcpus not assigned real cpu"},{"href":"/docs/linux/operations-deployment/KVM","content":"관리할 가상 머신을 명세하는 XML 파일을 생성한다 bash vi testmachinexml xml -- domain basically refer to a vm typeqemu nameTestMachinename memory unitKiB1048576memory 1GB unitGiB1memory vcpu placementstatic2vcpu os This element describes the type of VM The arch attribute specifies architecture VMs CPU 하드웨어 의미합니다 archx86_64 machinepc-i440fx-212hvmtype will try boot from hard drive first devhd devices disk typefile devicedisk driver nameqemu typeqcow2 source filevarliblibvirtimagestestmachineqcow2 target devvda busvirtio interface typenetwork networkdefault 이제 virsh은 가상화 관리를 위한 명령어를 제공하는 프로그램으로 libvirt 패키지에 포함되어 있다 sudo virsh define","title":"여기서 --config 는 maximum을 자동으로 적용하도록 설정한다."},{"href":"/docs/linux/operations-deployment/KVM","content":"sudo virsh define --disable TestMachine","title":"not active yet"},{"href":"/docs/linux/operations-deployment/KVM","content":"sudo virsh dominfo TestMachine Id - Name UUID 01e3 OS Type hvm State shut off CPUs 1 Max memory 1048576 KiB Used Persistent yes Autostart disable Managed save no Security model selinux DOI 0 2CPU로 변경한다 bash help setvcpus Change the number of virtual 2","title":"shutdown (graceful)"},{"href":"/docs/linux/operations-deployment/KVM","content":"error invalid argurments 에러가 발생max allowable vcpus for the  persistent domain is 1","title":"force shutdown (unplugging power cord in other words not graceful shutdown)"},{"href":"/docs/linux/operations-deployment/KVM","content":"set maximum vcpus not assigned real cpu","title":"virt-manager"},{"href":"/docs/linux/operations-deployment/KVM","content":"sudo virsh setvcpus TestMachine 2 --config --maximum","title":"About virt-manager’s supporting tools"},{"href":"/docs/linux/operations-deployment/KVM","content":"여기서 --config 는 maximum을 자동으로 적용하도록 설정한다","title":"setup"},{"href":"/docs/linux/operations-deployment/KVM","content":"sudo virsh setvcpus TestMachine 2 --config","title":"install"},{"href":"/docs/linux/operations-deployment/KVM","content":"set maximum memory","title":"download ubuntu img"},{"href":"/docs/linux/operations-deployment/KVM","content":"sudo virsh setmaxmem TestMachine 2G --config 가상 머신을 시작한다 bash","title":"print img info"},{"href":"/docs/linux/operations-deployment/KVM","content":"not active yet","title":"copy img to libvirt"},{"href":"/docs/linux/operations-deployment/KVM","content":"sudo virsh list --all Id Name State --------------------------- 1 TestMachine shut off start running 서버가 리부팅을 하면 가상 머신이 자동으로 시작되도록 설정한다 bash autostart 리부팅등 종료 명령어를 VM에 전달한다","title":"Practice"},{"href":"/docs/linux/operations-deployment/KVM","content":"sudo virsh reboot TestMachine Domain is being rebooted","title":"Edit the mariadb-server.cnf config file to enable remote access your MariaDB server."},{"href":"/docs/linux/operations-deployment/KVM","content":"shutdown graceful","title":"pipe to exclude include docker"},{"href":"/docs/linux/operations-deployment/KVM","content":"sudo virsh shutdown TestMachine Domain is being","title":"change the password for MariaDB root user to `Secu43@123`"},{"href":"/docs/linux/operations-deployment/KVM","content":"force shutdown unplugging power cord in other words not graceful","title":"Change the MariaDB server port to 3308"},{"href":"/docs/linux/operations-deployment/KVM","content":"sudo virsh reset TestMachine Domain is being","title":"check before port is 3306"},{"href":"/docs/linux/operations-deployment/KVM","content":"hard power off not graceful","title":"We have a configuration file /opt/testmachine2.xml on this system."},{"href":"/docs/linux/operations-deployment/KVM","content":"sudo virsh destroy TestMachine Domain destroyed 위 명령어는 list --all 을 통해 shutdown 상태를 확인 할 수 있다 완전히 종료된 가상 머신을 삭제한다 bash undefine 해당 명령은 우리가 정의한 컴퓨터만 삭제하지만 저장된 데이터는 삭제하지 않습니다연결된 디스크가 있는 경우 이번에는 모든 것을 제거하고 전체 머신 데이터를 폐기한다고 가정해 보겠습니다 help --remove-all-storage --- 우린 지금까지 KVM을 이용하여 생성하고 관리하는 최소한의 방법을 알아보았다 좀더 흥미롭고 실무적인 내용을 알아보자","title":"we want VM2 virtual machine to start up automatically at boot."},{"href":"/docs/linux/operations-deployment/KVM","content":"virt-manager","title":"Change the memory size for `VM2`, set its value to `80M`"},{"href":"/docs/linux/operations-deployment/KVM","content":"virt-manager는 GUI를 이용하여 가상 머신을 관리libvirt할 수 있는 프로그램이다 주로 KVM VM을 대상으로 하지만 Xen 및 LXCLinux 컨테이너도 관리합니다","title":"References"},{"href":"/docs/linux/operations-deployment/KVM","content":"Kernel-based Virtual Machine KVM은 리눅스 커널에서 하드웨어 가상화를 지원하는 모듈이다 QEMU를 이용하여 수행한다 QEMU는 CPU 에뮬레이션을 가상화 소프트웨어이다 수행하며 KVM 모듈을","title":"Setup"},{"href":"/docs/linux/operations-deployment/KVM","content":"사용될 패키지를 설치한다 bash","title":"$ sudo systemctl start libvirtd"},{"href":"/docs/linux/operations-deployment/KVM","content":"sudo dnf install qemu-kvm libvirt","title":"off"},{"href":"/docs/linux/operations-deployment/KVM","content":"sudo systemctl start libvirtd","title":"get info"},{"href":"/docs/linux/operations-deployment/KVM","content":"sudo systemctl enable libvirtd","title":"set maximum vcpus not assigned real cpu"},{"href":"/docs/linux/operations-deployment/KVM","content":"관리할 가상 머신을 명세하는 XML 파일을 생성한다 bash vi testmachinexml xml -- domain basically refer to a vm typeqemu nameTestMachinename memory unitKiB1048576memory 1GB unitGiB1memory vcpu placementstatic2vcpu os This element describes the type of VM The arch attribute specifies architecture VMs CPU 하드웨어 의미합니다 archx86_64 machinepc-i440fx-212hvmtype will try boot from hard drive first devhd devices disk typefile devicedisk driver nameqemu typeqcow2 source filevarliblibvirtimagestestmachineqcow2 target devvda busvirtio interface typenetwork networkdefault 이제 virsh은 가상화 관리를 위한 명령어를 제공하는 프로그램으로 libvirt 패키지에 포함되어 있다 sudo virsh define","title":"여기서 --config 는 maximum을 자동으로 적용하도록 설정한다."},{"href":"/docs/linux/operations-deployment/KVM","content":"sudo virsh define --disable TestMachine","title":"not active yet"},{"href":"/docs/linux/operations-deployment/KVM","content":"sudo virsh dominfo TestMachine Id - Name UUID 01e3 OS Type hvm State shut off CPUs 1 Max memory 1048576 KiB Used Persistent yes Autostart disable Managed save no Security model selinux DOI 0 2CPU로 변경한다 bash help setvcpus Change the number of virtual 2","title":"shutdown (graceful)"},{"href":"/docs/linux/operations-deployment/KVM","content":"error invalid argurments 에러가 발생max allowable vcpus for the  persistent domain is 1","title":"force shutdown (unplugging power cord in other words not graceful shutdown)"},{"href":"/docs/linux/operations-deployment/KVM","content":"set maximum vcpus not assigned real cpu","title":"virt-manager"},{"href":"/docs/linux/operations-deployment/KVM","content":"sudo virsh setvcpus TestMachine 2 --config --maximum","title":"About virt-manager’s supporting tools"},{"href":"/docs/linux/operations-deployment/KVM","content":"여기서 --config 는 maximum을 자동으로 적용하도록 설정한다","title":"setup"},{"href":"/docs/linux/operations-deployment/KVM","content":"sudo virsh setvcpus TestMachine 2 --config","title":"install"},{"href":"/docs/linux/operations-deployment/KVM","content":"set maximum memory","title":"download ubuntu img"},{"href":"/docs/linux/operations-deployment/KVM","content":"sudo virsh setmaxmem TestMachine 2G --config 가상 머신을 시작한다 bash","title":"print img info"},{"href":"/docs/linux/operations-deployment/KVM","content":"not active yet","title":"copy img to libvirt"},{"href":"/docs/linux/operations-deployment/KVM","content":"sudo virsh list --all Id Name State --------------------------- 1 TestMachine shut off start running 서버가 리부팅을 하면 가상 머신이 자동으로 시작되도록 설정한다 bash autostart 리부팅등 종료 명령어를 VM에 전달한다","title":"Practice"},{"href":"/docs/linux/operations-deployment/KVM","content":"sudo virsh reboot TestMachine Domain is being rebooted","title":"Edit the mariadb-server.cnf config file to enable remote access your MariaDB server."},{"href":"/docs/linux/operations-deployment/KVM","content":"shutdown graceful","title":"pipe to exclude include docker"},{"href":"/docs/linux/operations-deployment/KVM","content":"sudo virsh shutdown TestMachine Domain is being","title":"change the password for MariaDB root user to `Secu43@123`"},{"href":"/docs/linux/operations-deployment/KVM","content":"force shutdown unplugging power cord in other words not graceful","title":"Change the MariaDB server port to 3308"},{"href":"/docs/linux/operations-deployment/KVM","content":"sudo virsh reset TestMachine Domain is being","title":"check before port is 3306"},{"href":"/docs/linux/operations-deployment/KVM","content":"hard power off not graceful","title":"We have a configuration file /opt/testmachine2.xml on this system."},{"href":"/docs/linux/operations-deployment/KVM","content":"sudo virsh destroy TestMachine Domain destroyed 위 명령어는 list --all 을 통해 shutdown 상태를 확인 할 수 있다 완전히 종료된 가상 머신을 삭제한다 bash undefine 해당 명령은 우리가 정의한 컴퓨터만 삭제하지만 저장된 데이터는 삭제하지 않습니다연결된 디스크가 있는 경우 이번에는 모든 것을 제거하고 전체 머신 데이터를 폐기한다고 가정해 보겠습니다 help --remove-all-storage --- 우린 지금까지 KVM을 이용하여 생성하고 관리하는 최소한의 방법을 알아보았다 좀더 흥미롭고 실무적인 내용을 알아보자","title":"we want VM2 virtual machine to start up automatically at boot."},{"href":"/docs/linux/operations-deployment/KVM","content":"virt-manager","title":"Change the memory size for `VM2`, set its value to `80M`"},{"href":"/docs/linux/operations-deployment/KVM","content":"virt-manager는 GUI를 이용하여 가상 머신을 관리libvirt할 수 있는 프로그램이다 주로 KVM VM을 대상으로 하지만 Xen 및 LXCLinux 컨테이너도 관리합니다","title":"References"},{"href":"/docs/framework-next/convention/structure","content":"프로젝트 파일 및 폴더 구조","title":"프로젝트 파일 및 폴더 구조"},{"href":"/docs/framework-next/convention/structure","content":"이 페이지는 파일 및 폴더 구조를 프로젝트에 맞게 설계할 수 있는 개요를 제공합니다 해당 문서는 아래 문서들의 개념을 이미 읽었다고 가정합니다 - NextJs Project Structurehttpsnextjsorgdocsgetting-startedproject-structure App router Routinghttpsnextjsorgdocsappbuilding-your-applicationrouting","title":"키워드"},{"href":"/docs/framework-next/convention/structure","content":"- under score folderhttpsnextjsorgdocsappbuilding-your-applicationroutingcolocation","title":"route-groups): parenthesis prefix(예시 auth) 인 폴더는 로직 그룹화를 위한 네이밍으로 라우터에서 제외됩니다."},{"href":"/docs/framework-next/convention/structure","content":"private-folders underscore prefix예시 _components 인 폴더는 라우팅 목적이 아닌 모듈에 대한 네이밍으로 라우터에서 제외됩니다","title":"최상위 구조"},{"href":"/docs/framework-next/convention/structure","content":"- parenthesis folderhttpsnextjsorgdocsappbuilding-your-applicationroutingcolocation","title":"모듈 구조"},{"href":"/docs/linux/operations-deployment/SELinuxAppArmor","content":"SELinuxAppArmor","title":"SELinux/AppArmor"},{"href":"/docs/linux/operations-deployment/SELinuxAppArmor","content":"우리는 리눅스에는 파일과 디렉터리에 대한 제어 즉 콘텐츠를 읽고 쓰고 실행할 수 있는 사용자를 결정할 권한이 있습니다 또한 일반 사용자는 루트 사용자가 할 특정 작업을 수행할 없습니다 그러나 이러한 형태의 보안은 오늘날의 정교한 사이버 공격에는 충분하지 않습니다 예를 들어 웹 서버와 같은 프로그램을 실행하는 권한을 가지고 해커가 서버를 통해 폴더로 이동한다고 가정해 보겠습니다 그녀는 이제 해당 폴더에 대해 프로세스가 가졌던 것과 동일한 가지며 이 취약성을 이용하여 시스템에 공격을 다행히도 리눅스 커널은 소위 모듈로 쉽게 확장할 있고 접근을 제한하는 매우 고급 기능을 추가한 SELinux라는 보안 모듈이 SELinux는 CentOS Stream에서 기본적으로 활성화되어 허용 또는 거부해야 하는 작업에 세분화 된 제어를 하지만 어떻게 결정을 내릴 있을까요 ls -l 와 출력은 문자열을 파일에 설정되어 있는지 알 SELinux에서도 위와 -Z 명령어로 확인할 그리고 SELinux 컨텍스트 레이블이라고 합니다 bash varwwwhtml","title":"user role type level"},{"href":"/docs/linux/operations-deployment/SELinuxAppArmor","content":"drwxr-xr-x root system_uobject_rhttpd_sys_content_ts0 html unconfined_uobject_rdefault_ts0 html2 unconfined_uobject_ruser_homes0 html3 이러한 컨텍스트는 파일 및 디렉터리 사용 권한과 비슷하지만 훨씬 더 복잡합니다 - user system_u SELinux 사용자 unconfined_u 제한되지 않은 role object_r 파일에 대한 역할 unconfined_r type httpd_sys_content_t 웹 서버가 읽고 실행할 수 있는 default_t 기본 user_home 홈 level s0 레벨 account사용자 process가 생성되면 SELinux는 account에 사전 정의된 목록을 준비합니다 그리고 매번 account가 실행될 때마다 account의 role에 정책을 검사합니다 정책은 컨텍스트 레이블에 저장되어 있습니다","title":"시나리오1"},{"href":"/docs/linux/operations-deployment/SELinuxAppArmor","content":"developer user 는 도커와 nginx를 실행할 수 있어야 하지만 시스템 설정을 변경할 수는 없습니다 guest 도 nginx프로세스를 제어할 없어야 합니다","title":"login Manage mappings between linux users and SELinux confined"},{"href":"/docs/linux/operations-deployment/SELinuxAppArmor","content":"예를 들면 제인은 고위 군 장교이고 높은 레벨을 가질 것이고 레벨 4는 극비 파일로 0에서 4까지 분류된 문서를 읽을 수 있을 것입니다 반면에 1 접근 권한을 가진 사용자는 1과 0에서만 접근할 있습니다 --- 즉 해커가 웹 사이트 방문자에게 리소스를 제공하는 아파치 프로그램을 제어한다고 상상해 보세요 그들은 여전히 SELinux 도메인에 제한되어 있으므로 이러한 경계에서 벗어날 없습니다 사실상 가상 감옥에 있으며 따라서 그들이 할 있는 피해는 크게 줄어듭니다","title":"excute"},{"href":"/docs/linux/operations-deployment/SELinuxAppArmor","content":"현재 프로세스에 대한 SELinux 컨텍스트 레이블을 확인하려면 아래 명령어를 입력합니다 bash","title":"Practice"},{"href":"/docs/linux/operations-deployment/SELinuxAppArmor","content":"Z 컨텍스트 레이블을 확인","title":"`SELinux`를 `Permissive`로 변경하고, `Enforcing`으로 변경합니다."},{"href":"/docs/linux/operations-deployment/SELinuxAppArmor","content":"ps -auxZ 그리고 자신의 컨텍스트 레이블을 확인하려면 아래 명령어를 입력합니다 bash id -Z semanage - SELinux Policy Management tool은 정책을 관리하는데 사용됩니다","title":"Temporarily"},{"href":"/docs/linux/operations-deployment/SELinuxAppArmor","content":"login Manage mappings between linux users and SELinux confined","title":"Permanently"},{"href":"/docs/linux/operations-deployment/SELinuxAppArmor","content":"sudo semanage login -l","title":"Find the SELinux labels of `sshd` process running on this system, save its value in` /home/bob/sshd` file."},{"href":"/docs/linux/operations-deployment/SELinuxAppArmor","content":"user Manage SELinux confined갇힌 users Roles and levels for an","title":"Check out the `SELinux label` for file stored at `/bin/sudo`. Ignore user and role` here."},{"href":"/docs/linux/operations-deployment/SELinuxAppArmor","content":"sudo semanage user -l 제한을 하기전에 몇가지 용어를 알아야 합니다 - Permissive means its allowing everything and just locking actions that should have been restricted 기본이 허용이며 제한적으로 거부합니다 Enforcing only whats explicitly allowed denying else 제한거부이며 허용합니다 Disabled not doing anything at all 아무것도 하지 않습니다 --- 이제 Linux 보안 모듈로 필수 액세스 제어를 시행하는 방법을 살펴보겠습니다 Red Hat 및 CentOS OS에는 기본적으로 Linux가 활성화되어 있지만 Ubuntu에는 사용되는 apparmor 모듈을 활성화 해야합니다 우선 우분투에서 처음부터 어떻게 시작할 수 있는지 는 있으므로 먼저 두 개의 동시에 사용하면 충돌이나 예상치 못한 결과가 발생할 있어서 비활성화해야 bash systemctl stop disable 다음으로 Linux를 시작하기 위해 패키지를 설치하겠습니다 apt install selinux-basics auditd sestatus SELinux status disabled 예상한 대로 우리의 경우에는 여전히 비활성화되어 있습니다 시스템에서 활성화하려면 몇 가지 사항을 설정해야 1 커널에 로드하도록 지시하도록 부트 로더를 구성해야 2 시스템의 모든 파일에 적절한 레이블을 지정해야 3 재부팅할 때마다 다시 루트 경로의 확인해보겠습니다 ls -Z bin boot dev etc home lib lib64 media mnt opt proc root run sbin srv sys tmp usr var 레이블 대신 물음표가 나타납니다 하지만 좋은 점은 활성화하는 데 필요한 단계를 수행할 있는 유틸리티가 있다는 것입니다 selinux-activate Activating SE Sourcing file etcdefaultgrub etcdefaultgrubdinit-selectcfg Generating grub configuration Found linux image bootvmlinuz-540-91-generic initrd bootinitrdimg-540-91-generic is activated Please reboot your system 위 명령어는 1번 부트로더를 수정하고 2번 지시하기 수정한 것을 볼 부트로더 수정을 cat GRUB_CMDLINE_LINUX securityselinux 내용은 부트로더에게 인수를 전달하도록 지시합니다 -a autorelabel 파일은 다음 부팅 시 지정하도록 좋습니다 재부팅을 수행하겠습니다 지정하는 과정이 끝나면 grub을 보게 될 팝업되는 메뉴에서 default enter 해도 큰 문제는 없습니다 그리고 것이 제대로 레이블이 지정되었는지 확인해 보겠습니다 system_uobject_rbin_ts0 system_uobject_rboot_ts0 system_uobject_rdevice_ts0 system_uobject_retc_ts0 있음을 알 enabled SELinuxfs mount sysfsselinux directory etcselinux Loaded policy name Current mode permissive 현재 모드로 설정되어 getenforce 명령어를 사용하여 모드를 확인할 모드는 SELinux가 정책을 시행하지 않는 모드디버깅입니다 요것이 audit daemon 을 설치한 이유입니다 이 발생하는 일반적인 작업을 관찰하도록 바로 enforce 전환 할 경우 SSH를 통한 로그인도 허용되지 아래 명령을 실행하여 감사 로그에 기록한 내용을 audit2why --all less 옵션은 명령에 기록된 이벤트를 표시하도록 로그를 ssh 로 검색하면 관련 로그가 나오는데 내용이 아래와 같습니다","title":"Change the `SELinux context` of `/var/index.html` file to` httpd_sys_content_t`"},{"href":"/docs/linux/operations-deployment/SELinuxAppArmor","content":"SELinuxAppArmor","title":"SELinux/AppArmor"},{"href":"/docs/linux/operations-deployment/SELinuxAppArmor","content":"우리는 리눅스에는 파일과 디렉터리에 대한 제어 즉 콘텐츠를 읽고 쓰고 실행할 수 있는 사용자를 결정할 권한이 있습니다 또한 일반 사용자는 루트 사용자가 할 특정 작업을 수행할 없습니다 그러나 이러한 형태의 보안은 오늘날의 정교한 사이버 공격에는 충분하지 않습니다 예를 들어 웹 서버와 같은 프로그램을 실행하는 권한을 가지고 해커가 서버를 통해 폴더로 이동한다고 가정해 보겠습니다 그녀는 이제 해당 폴더에 대해 프로세스가 가졌던 것과 동일한 가지며 이 취약성을 이용하여 시스템에 공격을 다행히도 리눅스 커널은 소위 모듈로 쉽게 확장할 있고 접근을 제한하는 매우 고급 기능을 추가한 SELinux라는 보안 모듈이 SELinux는 CentOS Stream에서 기본적으로 활성화되어 허용 또는 거부해야 하는 작업에 세분화 된 제어를 하지만 어떻게 결정을 내릴 있을까요 ls -l 와 출력은 문자열을 파일에 설정되어 있는지 알 SELinux에서도 위와 -Z 명령어로 확인할 그리고 SELinux 컨텍스트 레이블이라고 합니다 bash varwwwhtml","title":"user role type level"},{"href":"/docs/linux/operations-deployment/SELinuxAppArmor","content":"drwxr-xr-x root system_uobject_rhttpd_sys_content_ts0 html unconfined_uobject_rdefault_ts0 html2 unconfined_uobject_ruser_homes0 html3 이러한 컨텍스트는 파일 및 디렉터리 사용 권한과 비슷하지만 훨씬 더 복잡합니다 - user system_u SELinux 사용자 unconfined_u 제한되지 않은 role object_r 파일에 대한 역할 unconfined_r type httpd_sys_content_t 웹 서버가 읽고 실행할 수 있는 default_t 기본 user_home 홈 level s0 레벨 account사용자 process가 생성되면 SELinux는 account에 사전 정의된 목록을 준비합니다 그리고 매번 account가 실행될 때마다 account의 role에 정책을 검사합니다 정책은 컨텍스트 레이블에 저장되어 있습니다","title":"시나리오1"},{"href":"/docs/linux/operations-deployment/SELinuxAppArmor","content":"developer user 는 도커와 nginx를 실행할 수 있어야 하지만 시스템 설정을 변경할 수는 없습니다 guest 도 nginx프로세스를 제어할 없어야 합니다","title":"login Manage mappings between linux users and SELinux confined"},{"href":"/docs/linux/operations-deployment/SELinuxAppArmor","content":"예를 들면 제인은 고위 군 장교이고 높은 레벨을 가질 것이고 레벨 4는 극비 파일로 0에서 4까지 분류된 문서를 읽을 수 있을 것입니다 반면에 1 접근 권한을 가진 사용자는 1과 0에서만 접근할 있습니다 --- 즉 해커가 웹 사이트 방문자에게 리소스를 제공하는 아파치 프로그램을 제어한다고 상상해 보세요 그들은 여전히 SELinux 도메인에 제한되어 있으므로 이러한 경계에서 벗어날 없습니다 사실상 가상 감옥에 있으며 따라서 그들이 할 있는 피해는 크게 줄어듭니다","title":"excute"},{"href":"/docs/linux/operations-deployment/SELinuxAppArmor","content":"현재 프로세스에 대한 SELinux 컨텍스트 레이블을 확인하려면 아래 명령어를 입력합니다 bash","title":"Practice"},{"href":"/docs/linux/operations-deployment/SELinuxAppArmor","content":"Z 컨텍스트 레이블을 확인","title":"`SELinux`를 `Permissive`로 변경하고, `Enforcing`으로 변경합니다."},{"href":"/docs/linux/operations-deployment/SELinuxAppArmor","content":"ps -auxZ 그리고 자신의 컨텍스트 레이블을 확인하려면 아래 명령어를 입력합니다 bash id -Z semanage - SELinux Policy Management tool은 정책을 관리하는데 사용됩니다","title":"Temporarily"},{"href":"/docs/linux/operations-deployment/SELinuxAppArmor","content":"login Manage mappings between linux users and SELinux confined","title":"Permanently"},{"href":"/docs/linux/operations-deployment/SELinuxAppArmor","content":"sudo semanage login -l","title":"Find the SELinux labels of `sshd` process running on this system, save its value in` /home/bob/sshd` file."},{"href":"/docs/linux/operations-deployment/SELinuxAppArmor","content":"user Manage SELinux confined갇힌 users Roles and levels for an","title":"Check out the `SELinux label` for file stored at `/bin/sudo`. Ignore user and role` here."},{"href":"/docs/linux/operations-deployment/SELinuxAppArmor","content":"sudo semanage user -l 제한을 하기전에 몇가지 용어를 알아야 합니다 - Permissive means its allowing everything and just locking actions that should have been restricted 기본이 허용이며 제한적으로 거부합니다 Enforcing only whats explicitly allowed denying else 제한거부이며 허용합니다 Disabled not doing anything at all 아무것도 하지 않습니다 --- 이제 Linux 보안 모듈로 필수 액세스 제어를 시행하는 방법을 살펴보겠습니다 Red Hat 및 CentOS OS에는 기본적으로 Linux가 활성화되어 있지만 Ubuntu에는 사용되는 apparmor 모듈을 활성화 해야합니다 우선 우분투에서 처음부터 어떻게 시작할 수 있는지 는 있으므로 먼저 두 개의 동시에 사용하면 충돌이나 예상치 못한 결과가 발생할 있어서 비활성화해야 bash systemctl stop disable 다음으로 Linux를 시작하기 위해 패키지를 설치하겠습니다 apt install selinux-basics auditd sestatus SELinux status disabled 예상한 대로 우리의 경우에는 여전히 비활성화되어 있습니다 시스템에서 활성화하려면 몇 가지 사항을 설정해야 1 커널에 로드하도록 지시하도록 부트 로더를 구성해야 2 시스템의 모든 파일에 적절한 레이블을 지정해야 3 재부팅할 때마다 다시 루트 경로의 확인해보겠습니다 ls -Z bin boot dev etc home lib lib64 media mnt opt proc root run sbin srv sys tmp usr var 레이블 대신 물음표가 나타납니다 하지만 좋은 점은 활성화하는 데 필요한 단계를 수행할 있는 유틸리티가 있다는 것입니다 selinux-activate Activating SE Sourcing file etcdefaultgrub etcdefaultgrubdinit-selectcfg Generating grub configuration Found linux image bootvmlinuz-540-91-generic initrd bootinitrdimg-540-91-generic is activated Please reboot your system 위 명령어는 1번 부트로더를 수정하고 2번 지시하기 수정한 것을 볼 부트로더 수정을 cat GRUB_CMDLINE_LINUX securityselinux 내용은 부트로더에게 인수를 전달하도록 지시합니다 -a autorelabel 파일은 다음 부팅 시 지정하도록 좋습니다 재부팅을 수행하겠습니다 지정하는 과정이 끝나면 grub을 보게 될 팝업되는 메뉴에서 default enter 해도 큰 문제는 없습니다 그리고 것이 제대로 레이블이 지정되었는지 확인해 보겠습니다 system_uobject_rbin_ts0 system_uobject_rboot_ts0 system_uobject_rdevice_ts0 system_uobject_retc_ts0 있음을 알 enabled SELinuxfs mount sysfsselinux directory etcselinux Loaded policy name Current mode permissive 현재 모드로 설정되어 getenforce 명령어를 사용하여 모드를 확인할 모드는 SELinux가 정책을 시행하지 않는 모드디버깅입니다 요것이 audit daemon 을 설치한 이유입니다 이 발생하는 일반적인 작업을 관찰하도록 바로 enforce 전환 할 경우 SSH를 통한 로그인도 허용되지 아래 명령을 실행하여 감사 로그에 기록한 내용을 audit2why --all less 옵션은 명령에 기록된 이벤트를 표시하도록 로그를 ssh 로 검색하면 관련 로그가 나오는데 내용이 아래와 같습니다","title":"Change the `SELinux context` of `/var/index.html` file to` httpd_sys_content_t`"},{"href":"/docs/framework-next/getting-started","content":"애버커스의 프론트엔드 개발자들이 React 프로젝트를 보다 빠르게 시작할 수 있도록 돕기 위해 Nextjshttpsnextjsorg 기반의 템플릿을 제작했습니다 이 템플릿은 매 프로젝트마다 프레임워크를 새로 제작하는 번거로움을 줄이고 장소와 시간에 구애받지 않고 해결된 문제점을 공유합니다 이를 통해 개발자는 같은 문제를 반복적으로 겪지 완성도 높은 진행할 있습니다 ---","title":"시작하기"},{"href":"/docs/framework-next/getting-started","content":"먼저 Nodejs 버전 1812 이상과 PNPM 8 이상이 필요합니다 최신 버전의 Nodejs를 설치하려면 공식 홈페이지httpsnodejsorgko를 참고하세요","title":"2. 의존성 설치"},{"href":"/docs/framework-next/getting-started","content":"bash git clone httpsgithubcomseongpil0948framework-nextgit cd framework-next","title":"새로운 페이지 추가하기"},{"href":"/docs/framework-next/getting-started","content":"bash pnpm install","title":"2. 페이지 컴포넌트 작성"},{"href":"/docs/framework-next/getting-started","content":"bash pnpm dev - httplocalhost3000httplocalhost3000에 접속하여 확인해보세요 원하는 에디터로 프로젝트를 열어보세요 VSCode 권장 ---","title":"새로운 컴포넌트 추가하기"},{"href":"/docs/framework-next/getting-started","content":"새로운 페이지 추가하기","title":"1. 컴포넌트 생성"},{"href":"/docs/framework-next/getting-started","content":"아래 명령어는 applangmoduleName 디렉토리에 pagetsx 파일을 생성합니다 명령어의 test 부분을 원하는 페이지 이름으로 변경하여 실행 시켜보세요 bash moduleNametest mkdir -p touch applangmoduleNamepagetsx code","title":"프로젝트 테마 설정"},{"href":"/docs/framework-next/getting-started","content":"2 페이지 컴포넌트 작성","title":"Primary 컬러 변경하기"},{"href":"/docs/framework-next/getting-started","content":"아래 코드를 붙여넣습니다 CodeHeader textTestComponenttsx tsx import CmTitle from app_componentsserver-onlytitle getDictionary applangdictionaries CmButton app_componentsserver-onlybutton clsx export async function generateStaticParams return AVAIL_LOCALESmaplang lang interface Param params TAvailLocale default SSGPage const dict await getDictionarylang section classNameflex flex-col items-center justify-center gap-4 py-8 div classNameinline-block max-w-lg text-center CmTitleWelcome to nbspCmTitle CmTitleHiCmTitle h3by Seongpilh3 p classNameclsxtext-primary-700Byep className bg-purple-200purpleCmButton colorprimaryprimaryCmButton httplocalhost3000kotesthttplocalhost3000kotest 페이지에 접속하여 확인해보세요 만약 moduelName 변수를 수정하셨다면 test 를 변경한 문자로 수정 후 접근해보세요","title":"Linting"},{"href":"/docs/framework-next/getting-started","content":"3 컴포넌트 선정 및 삽입배포서버","title":"ESLint"},{"href":"/docs/framework-next/getting-started","content":"우리는 storybook 브랜치로 컴포넌트 목록 페이지를 제공하고 있습니다 기존 프레임워크와 다르게 스토리북은 빌드 목록에 포함되지 않습니다 즉 배포 용량을 줄이고 속도를 높이는 이점이 1 스토리북 서버httpsframework-next-git-storybook-seongpil0948vercelapp 에 접속하여 원하는 컴포넌트를 선정 삽입합니다 ---","title":"Prettier"},{"href":"/docs/framework-next/getting-started","content":"새로운 컴포넌트 추가하기","title":"마무리"},{"href":"/docs/linux/operations-deployment/SSH","content":"what is ssh","title":"what is ssh"},{"href":"/docs/linux/operations-deployment/SSH","content":"SSH Secure Shell 은 네트워크 서비스를 안전하게 운영하기 위한 프로토콜이다 SSH는 원격 시스템에 로그인하거나 시스템에서 명령을 실행하고 시스템과 데이터를 안전하게암호화 전송하는데 사용된다 기본적으로 TCP를 사용하며 22번 포트를 사용한다","title":"ssh daemon"},{"href":"/docs/linux/operations-deployment/SSH","content":"OpenSSH daemon configuration file man sshd_config을 참고하자 설정파일은 etcsshsshd_config 에 위치한다 bash etcssh moduli sshd_config ssh_host_dsa_keypub ssh_host_ed25519_key ssh_host_rsa_keypub ssh_config sshd_configd ssh_host_ecdsa_key ssh_host_ed25519_keypub ssh_import_id ssh_configd ssh_host_dsa_key ssh_host_ecdsa_keypub ssh_host_rsa_key 설정 정보와 tls 통신에 사용되는 키 파일들이 있다 sudo cat","title":"sshd_config(5) for more information."},{"href":"/docs/linux/operations-deployment/SSH","content":"This is the sshd server system-wide configuration file  See","title":"This sshd was compiled with PATH=/usr/bin:/bin:/usr/sbin:/sbin"},{"href":"/docs/linux/operations-deployment/SSH","content":"sshd_config5 for more information","title":"OpenSSH is to specify options with their default value where"},{"href":"/docs/linux/operations-deployment/SSH","content":"This sshd was compiled with PATHusrbinbinusrsbinsbin","title":"default value."},{"href":"/docs/linux/operations-deployment/SSH","content":"The strategy used for options in the default sshd_config shipped with","title":"AddressFamily any"},{"href":"/docs/linux/operations-deployment/SSH","content":"OpenSSH is to specify options with their default value where","title":"ListenAddress ::"},{"href":"/docs/linux/operations-deployment/SSH","content":"possible but leave them commented  Uncommented options override the","title":"HostKey /etc/ssh/ssh_host_ecdsa_key"},{"href":"/docs/linux/operations-deployment/SSH","content":"default value","title":"Keyword"},{"href":"/docs/linux/operations-deployment/SSH","content":"Include etcsshsshd_configdconf","title":"/etc/ssh/sshd_config"},{"href":"/docs/linux/operations-deployment/SSH","content":"AddressFamily any","title":"ssh"},{"href":"/docs/linux/operations-deployment/SSH","content":"ListenAddress 0000","title":"Example"},{"href":"/docs/linux/operations-deployment/SSH","content":"what is ssh","title":"what is ssh"},{"href":"/docs/linux/operations-deployment/SSH","content":"SSH Secure Shell 은 네트워크 서비스를 안전하게 운영하기 위한 프로토콜이다 SSH는 원격 시스템에 로그인하거나 시스템에서 명령을 실행하고 시스템과 데이터를 안전하게암호화 전송하는데 사용된다 기본적으로 TCP를 사용하며 22번 포트를 사용한다","title":"ssh daemon"},{"href":"/docs/linux/operations-deployment/SSH","content":"OpenSSH daemon configuration file man sshd_config을 참고하자 설정파일은 etcsshsshd_config 에 위치한다 bash etcssh moduli sshd_config ssh_host_dsa_keypub ssh_host_ed25519_key ssh_host_rsa_keypub ssh_config sshd_configd ssh_host_ecdsa_key ssh_host_ed25519_keypub ssh_import_id ssh_configd ssh_host_dsa_key ssh_host_ecdsa_keypub ssh_host_rsa_key 설정 정보와 tls 통신에 사용되는 키 파일들이 있다 sudo cat","title":"sshd_config(5) for more information."},{"href":"/docs/linux/operations-deployment/SSH","content":"This is the sshd server system-wide configuration file  See","title":"This sshd was compiled with PATH=/usr/bin:/bin:/usr/sbin:/sbin"},{"href":"/docs/linux/operations-deployment/SSH","content":"sshd_config5 for more information","title":"OpenSSH is to specify options with their default value where"},{"href":"/docs/linux/operations-deployment/SSH","content":"This sshd was compiled with PATHusrbinbinusrsbinsbin","title":"default value."},{"href":"/docs/linux/operations-deployment/SSH","content":"The strategy used for options in the default sshd_config shipped with","title":"AddressFamily any"},{"href":"/docs/linux/operations-deployment/SSH","content":"OpenSSH is to specify options with their default value where","title":"ListenAddress ::"},{"href":"/docs/linux/operations-deployment/SSH","content":"possible but leave them commented  Uncommented options override the","title":"HostKey /etc/ssh/ssh_host_ecdsa_key"},{"href":"/docs/linux/operations-deployment/SSH","content":"default value","title":"Keyword"},{"href":"/docs/linux/operations-deployment/SSH","content":"Include etcsshsshd_configdconf","title":"/etc/ssh/sshd_config"},{"href":"/docs/linux/operations-deployment/SSH","content":"AddressFamily any","title":"ssh"},{"href":"/docs/linux/operations-deployment/SSH","content":"ListenAddress 0000","title":"Example"},{"href":"/docs/framework-next/guide/contribute","content":"Contribute Guide","title":"Contribute Guide"},{"href":"/docs/framework-next/guide/contribute","content":"먼저 기여에 관심을 가져주셔서 정말 기쁩니다 기여를 제출하기 전에 잠시 시간을 내어 다음 지침을 읽어보시기 바랍니다 우선 각 팀이 실무 프로젝트를 진행하면 마일스톤을 생성하여 해당프로젝트에서 발견된 이슈들을 개선할 수 있도록 합니다","title":"Setup"},{"href":"/docs/framework-next/guide/contribute","content":"Getting starteddocframework-nextgetting-started 문서를 참고하여 개발 환경을 설정합니다","title":"Issue Report"},{"href":"/docs/framework-next/guide/contribute","content":"- hotfix를 제외하고 모든 작업은 dev 브랜치에서 파생된 브랜치를 생성하여 작업합니다 ---","title":"Add Feature"},{"href":"/docs/framework-next/guide/contribute","content":"Issue Report","title":"Report Bug"},{"href":"/docs/framework-next/guide/contribute","content":"이슈 프로세스에 대해 설명합니다 1 이슈를 생성하기 전 같은 내용의 이슈가 없는지 검색을 통해 확인 해보세요 2 티켓을 생성해주세요 Title Format issue type title Example feateditor 복사하기 버튼 기능 추가 3 이슈에 대한 브랜치를 생성 create branch 해주세요 브랜치 이름은 kebab case 를 준수한다 number-issue type-issue name 4 Remote 저장소에 자동 생성된 브랜치로 switch 혹은 checkout 5 로컬 저장소에서 코드 수정 하시고 커밋을 진행해주세요 6 원격 병합전 Git rebase 로 작업 결과를 최신화 7 병합 대상 Merge Request를 생성를 8 병합을 확인하고 자신의 브랜치가 삭제 되었는지 확인해주세요 ---","title":"Pull Request"},{"href":"/docs/framework-next/guide/contribute","content":"Discussionhttpsgithubcomseongpil0948framework-nextdiscussions 에서 궁금한 사항을 질문하고 기획할 수 있습니다 ---","title":"Commit type"},{"href":"/docs/framework-next/guide/contribute","content":"Add Feature","title":"Commit format"},{"href":"/docs/framework-next/guide/contribute","content":"- 어떤 문제를 해결하기 위한 기능인지 설명해주세요 기능을 구현하기 방법을 영향을 받게 될 기존 코드에 대한 설명을 해주세요 최소한의 코드를 제공해주세요 어떠한 이점을 볼 수 있는지 관련 문서를 제공하면 좋습니다 기능 완료에 기준과 테스트 ---","title":"**예시**"},{"href":"/docs/linux/operations-deployment/TLS","content":"TLSTransport Layer Security는 네트워크 통신을 위한 보안 프로토콜입니다 TLS는 데이터 암호화 무결성 검증 서버 인증을 제공하여 안전한 가능하게 합니다 HTTPS SSH SMTP FTP 등 다양한 프로토콜에서 사용됩니다","title":"브라우저 HTTPS 접속 시의 TLS 절차"},{"href":"/docs/linux/operations-deployment/TLS","content":"브라우저 HTTPS 접속 시의 TLS 절차","title":"SSH로 원격 서버에 접속할 때의 TLS 절차"},{"href":"/docs/linux/operations-deployment/TLS","content":"TLSTransport Layer Security는 네트워크 통신을 위한 보안 프로토콜입니다 TLS는 데이터 암호화 무결성 검증 서버 인증을 제공하여 안전한 가능하게 합니다 HTTPS SSH SMTP FTP 등 다양한 프로토콜에서 사용됩니다","title":"브라우저 HTTPS 접속 시의 TLS 절차"},{"href":"/docs/linux/operations-deployment/TLS","content":"브라우저 HTTPS 접속 시의 TLS 절차","title":"SSH로 원격 서버에 접속할 때의 TLS 절차"},{"href":"/docs/framework-next/guide/mdx-sample","content":"여기에 Discription을 작성하세요 외부 링크는 이렇게httpsnextuiorgdocs 불러옵니다 ---","title":"부제목(H2)"},{"href":"/docs/framework-next/guide/mdx-sample","content":"아래는 코드 블럭입니다 js tailwindconfigjs const nextui requirenextui-orgreact type importtailwindcssConfig moduleexports content node_modulesnextui-orgthemedistjstsjsxtsx theme extend darkMode class plugins 간단한 인라인 코드는 inline code 와 같이 작성하세요 ---","title":"Learn More"},{"href":"/docs/linux/operations-deployment","content":"Operations and Deployment","title":"Operations and Deployment"},{"href":"/docs/linux/operations-deployment","content":"Boot Reboot Shutdown a system","title":"reboot"},{"href":"/docs/linux/operations-deployment","content":"bash sudo systemctl reboot","title":"And that's going to be exactly like unplugging the computer from its power source."},{"href":"/docs/linux/operations-deployment","content":"bash sudo systemctl poweroff That might be because some program is misbehaving or stuck in way and it doesnt want to close You can force all of the programs reboot a more abrupt this not recommended but its possible Cant stress enough that we have do as last resort 이것을 최후의 수단으로 해야 한다는 사실은 아무리 강조해도 지나치지 않습니다 --force","title":"to shut down after 15 minutes"},{"href":"/docs/linux/operations-deployment","content":"The system is going to reboot instantly and programs arent have a chance close properly","title":"Manual"},{"href":"/docs/linux/operations-deployment","content":"And thats going to be exactly like unplugging the computer from its power source","title":"Trouble shoot boot failures"},{"href":"/docs/linux/operations-deployment","content":"이는 컴퓨터의 전원 플러그를 뽑는 것과 똑같습니다","title":"/boot/grub/grub.cfg."},{"href":"/docs/linux/operations-deployment","content":"sudo systemctl reboot --force poweroff The shutdown command is better suited for scheduled reboots or shutdowns so example to shut down at 2 am bash -r 200 System will","title":"For full documentation of the options in this file, see:"},{"href":"/docs/linux/operations-deployment","content":"to shut down after 15 minutes","title":"info -f grub -n 'Simple configuration'"},{"href":"/docs/linux/operations-deployment","content":"sudo shutdown -r 15","title":"command would be used to generate the new grub configuration file."},{"href":"/docs/linux/operations-deployment","content":"인수 없음 도움말을 표시합니다 이 옵션은 를 입력하는 것과 같습니다 아무 옵션을 입력하지 않는 같은 결과를 제공합니다 i GUI를 첫 번째 옵션이어야 합니다 l 로그오프합니다 m 또는 d 옵션과 함께 사용할 수 없습니다 s 컴퓨터를 종료합니다 sg 다음 부팅 시 자동 다시 시작 로그온이 사용하도록 설정된 경우 자동으로 로그인하여 마지막 대화형 사용자를 잠급니다 로그인한 후 등록된 응용 프로그램을 시작하세요 r 완전히 종료하고 시작합니다 g 시스템을 부팅한 후에 a 시스템 종료를 중단합니다 시간 제한 기간 동안에만 있습니다 fw와 사용되어 보류 중인 펌웨어로 부팅을 모두 지웁니다 p 경고 없이 로컬 끕니다 및 f h 최대 절전 모드로 전환합니다 hybrid 빠른 시작을 위해 준비합니다 사용해야 fw shutdown 펌웨어 사용자 인터페이스 e 예기치 못한 컴퓨터 종료의 원인을 문서화합니다 o 고급 옵션 메뉴로 이동하여 computer 대상 지정합니다 t xxx 종료 전 기간을 xxx초로 설정합니다 유효 범위는 0-31536000010년이며 기본값은 30입니다 기간이 0보다 큰 매개 변수가 암시됩니다 c comment 설명합니다 512자를 사용자에게 미리 경고하지 않고 실행 강제로 닫습니다 값이 변수에 대해 지정된 puxxyy p는 종료가 계획되어 있다는 의미입니다 u는 사용자가 정의한다는 p와 u가 지정되어 있지 않으면 계획되지 않은 것입니다 xx는 주요 원인 번호256 미만의 양의 정수입니다","title":"설치 과정의 출력과 에러 메시지가 /home/bob/grub.txt 파일에 기록됩니다."},{"href":"/docs/linux/operations-deployment","content":"Boot or change system into different operating modes","title":"Find out what is the system's current default boot target and save value in /home/bob/boot-target.txt file."},{"href":"/docs/linux/operations-deployment","content":"bash systemctl get-default 위 명령어는 현재 시스템의 기본 부팅 모드를 확인할 수 있습니다 아래 명령어를 입력하여 변경할 sudo set-default multi-usertarget multi-usertarget은 CLICommand Line Interface 의미합니다 그리고 GUIGraphical User 모드로 graphicaltarget 변경후 재부팅을 하면 변경된 부팅이 됩니다 reboot 만약 재부팅 default 없이 변경하고 싶다면 입력합니다 isolate","title":"Refs"},{"href":"/docs/linux/operations-deployment","content":"Operations and Deployment","title":"Operations and Deployment"},{"href":"/docs/linux/operations-deployment","content":"Boot Reboot Shutdown a system","title":"reboot"},{"href":"/docs/linux/operations-deployment","content":"bash sudo systemctl reboot","title":"And that's going to be exactly like unplugging the computer from its power source."},{"href":"/docs/linux/operations-deployment","content":"bash sudo systemctl poweroff That might be because some program is misbehaving or stuck in way and it doesnt want to close You can force all of the programs reboot a more abrupt this not recommended but its possible Cant stress enough that we have do as last resort 이것을 최후의 수단으로 해야 한다는 사실은 아무리 강조해도 지나치지 않습니다 --force","title":"to shut down after 15 minutes"},{"href":"/docs/linux/operations-deployment","content":"The system is going to reboot instantly and programs arent have a chance close properly","title":"Manual"},{"href":"/docs/linux/operations-deployment","content":"And thats going to be exactly like unplugging the computer from its power source","title":"Trouble shoot boot failures"},{"href":"/docs/linux/operations-deployment","content":"이는 컴퓨터의 전원 플러그를 뽑는 것과 똑같습니다","title":"/boot/grub/grub.cfg."},{"href":"/docs/linux/operations-deployment","content":"sudo systemctl reboot --force poweroff The shutdown command is better suited for scheduled reboots or shutdowns so example to shut down at 2 am bash -r 200 System will","title":"For full documentation of the options in this file, see:"},{"href":"/docs/linux/operations-deployment","content":"to shut down after 15 minutes","title":"info -f grub -n 'Simple configuration'"},{"href":"/docs/linux/operations-deployment","content":"sudo shutdown -r 15","title":"command would be used to generate the new grub configuration file."},{"href":"/docs/linux/operations-deployment","content":"인수 없음 도움말을 표시합니다 이 옵션은 를 입력하는 것과 같습니다 아무 옵션을 입력하지 않는 같은 결과를 제공합니다 i GUI를 첫 번째 옵션이어야 합니다 l 로그오프합니다 m 또는 d 옵션과 함께 사용할 수 없습니다 s 컴퓨터를 종료합니다 sg 다음 부팅 시 자동 다시 시작 로그온이 사용하도록 설정된 경우 자동으로 로그인하여 마지막 대화형 사용자를 잠급니다 로그인한 후 등록된 응용 프로그램을 시작하세요 r 완전히 종료하고 시작합니다 g 시스템을 부팅한 후에 a 시스템 종료를 중단합니다 시간 제한 기간 동안에만 있습니다 fw와 사용되어 보류 중인 펌웨어로 부팅을 모두 지웁니다 p 경고 없이 로컬 끕니다 및 f h 최대 절전 모드로 전환합니다 hybrid 빠른 시작을 위해 준비합니다 사용해야 fw shutdown 펌웨어 사용자 인터페이스 e 예기치 못한 컴퓨터 종료의 원인을 문서화합니다 o 고급 옵션 메뉴로 이동하여 computer 대상 지정합니다 t xxx 종료 전 기간을 xxx초로 설정합니다 유효 범위는 0-31536000010년이며 기본값은 30입니다 기간이 0보다 큰 매개 변수가 암시됩니다 c comment 설명합니다 512자를 사용자에게 미리 경고하지 않고 실행 강제로 닫습니다 값이 변수에 대해 지정된 puxxyy p는 종료가 계획되어 있다는 의미입니다 u는 사용자가 정의한다는 p와 u가 지정되어 있지 않으면 계획되지 않은 것입니다 xx는 주요 원인 번호256 미만의 양의 정수입니다","title":"설치 과정의 출력과 에러 메시지가 /home/bob/grub.txt 파일에 기록됩니다."},{"href":"/docs/linux/operations-deployment","content":"Boot or change system into different operating modes","title":"Find out what is the system's current default boot target and save value in /home/bob/boot-target.txt file."},{"href":"/docs/linux/operations-deployment","content":"bash systemctl get-default 위 명령어는 현재 시스템의 기본 부팅 모드를 확인할 수 있습니다 아래 명령어를 입력하여 변경할 sudo set-default multi-usertarget multi-usertarget은 CLICommand Line Interface 의미합니다 그리고 GUIGraphical User 모드로 graphicaltarget 변경후 재부팅을 하면 변경된 부팅이 됩니다 reboot 만약 재부팅 default 없이 변경하고 싶다면 입력합니다 isolate","title":"Refs"},{"href":"/docs/framework-next/guide/server-client-pattern","content":"React 애플리케이션을 구축할 때 서버나 클라이언트에서 애플리케이션의 어떤 부분을 렌더링해야 하는지 고려해야 합니다 이 페이지에서는 서버 및 클라이언트 구성 요소를 사용할 권장되는 몇 가지 패턴을 다룹니다","title":"컴포넌트간 데이터 공유"},{"href":"/docs/framework-next/guide/server-client-pattern","content":"컴포넌트간 데이터 공유","title":"타사 패키지 및 공급자 사용"},{"href":"/docs/framework-next/guide/server-client-pattern","content":"서버에서 데이터를 가져올 때 여러 구성 요소 간에 공유해야 하는 경우가 있을 수 있습니다 예를 들어 동일한 데이터에 의존하는 레이아웃과 페이지가 사용할 없는 React Context를 사용하거나 props로 전달하는 대신 fetcherJson 또는 React의 캐시 기능을 사용하여 필요한 요소에서 대한 중복 요청에 대해 걱정할 필요가 없습니다 React는 데이터 요청을 자동으로 메모하기 위해 fetch를 확장하고 fetch가 불가능할 있기 때문입니다 ts import server-only export async function getData const res await fetcherJsonhttpsexternal-servicecomdata headers authorization processenvAPI_KEY return resjson 언뜻 보면 getData가 서버와 클라이언트 모두에서 작동하는 것처럼 보입니다 그러나 이 함수에는 서버에서만 실행되도록 작성된 API_KEY가 포함되어 환경 변수 API_KEY에는 NEXT_PUBLIC 접두사가 붙지 않으며 액세스할 있는 개인 변수입니다 iclient-only 패키지는 일단 사용하지 않습니다i getData를 가져오는 요소는 모듈이 사용될 있다는 것을 설명하는 빌드 시간 오류를 수신합니다","title":"지원되지 않는 패턴: 서버 구성 요소를 클라이언트 요소로 가져오기"},{"href":"/docs/framework-next/guide/server-client-pattern","content":"타사 패키지 및 공급자 사용","title":"지원되는 패턴: 서버 구성 요소를 클라이언트 요소에 소품으로 전달"},{"href":"/docs/linux/operations-deployment/daemon-service","content":"데몬은 리눅스 시스템에서 백그라운드에서 실행되는 프로그램입니다 사용자와 직접 상호 작용하지 않고 특정 작업을 수행하도록 설계되었습니다 일반적으로 시스템 부팅 시 자동으로 시작되며 종료될 때까지 계속 실행됩니다","title":"데몬의 주요 특징"},{"href":"/docs/linux/operations-deployment/daemon-service","content":"- 백그라운드 실행 데몬은 사용자 인터페이스 없이 백그라운드에서 실행됩니다 지속적인 시스템 부팅 시 자동으로 시작되며 종료될 때까지 계속 자동화된 작업 특정 작업을 자동화하도록 설계되었습니다 서비스 제공 네트워킹 프린팅 파일 관리 등 다양한 서비스를 제공합니다 데몬의 종류 독립형 데몬 독립적으로 실행되는 데몬입니다 슈퍼 데몬inetd inetd 데몬에 의해 관리되는","title":"데몬 관리"},{"href":"/docs/linux/operations-deployment/daemon-service","content":"데몬은 리눅스 시스템에서 백그라운드에서 실행되는 프로그램입니다 사용자와 직접 상호 작용하지 않고 특정 작업을 수행하도록 설계되었습니다 일반적으로 시스템 부팅 시 자동으로 시작되며 종료될 때까지 계속 실행됩니다","title":"데몬의 주요 특징"},{"href":"/docs/linux/operations-deployment/daemon-service","content":"- 백그라운드 실행 데몬은 사용자 인터페이스 없이 백그라운드에서 실행됩니다 지속적인 시스템 부팅 시 자동으로 시작되며 종료될 때까지 계속 자동화된 작업 특정 작업을 자동화하도록 설계되었습니다 서비스 제공 네트워킹 프린팅 파일 관리 등 다양한 서비스를 제공합니다 데몬의 종류 독립형 데몬 독립적으로 실행되는 데몬입니다 슈퍼 데몬inetd inetd 데몬에 의해 관리되는","title":"데몬 관리"},{"href":"/docs/framework-next/task/seach-engine","content":"작성한 문서들이 많아지다보니 실무에 바로바로 검색할 수 있도록 검색 엔진을 구현하자 결정했습니다","title":"제한사항"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"pgrep pkill pidwait - 프로세스 조회 신호 또는 대기","title":"SYNOPSIS"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"bash pgrep options pattern pkill pidwait","title":"`pkill` only"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"- -a --list-full 모든 컬럼 조회 기본적으로 id만 출력하여 다른 명령어와 조합하여 사용 -d 각 프로세스 ID 를 구분하는 문자열을 지정합니다기본적으로 newline","title":"`pid` 프로세스가 종료될 때까지 대기"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"- --echo killed 된 process id 를 출력합니다","title":"`sshd`, `root` 유저에 대한 프로세스 조회"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"pidwait only","title":"`xterm` 프로세스에 대한 자세한 정보 제공"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"- -u 유저에 대한 프로세스 필터링 -U real user ID에 -i 대소문자 구분하지 않음 --exact 정확한 패턴 일치 -s 세션","title":"`Chrome` 프로세스에 대한 nice value를 +5 변경"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"이름이 상당히 직관적이라 부연설명이 오히려 헷갈릴 수 있다 예제로 보자","title":"background 에서 [pid] 프로세스 종료를 대기한 후 특정 스크립트 실행"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"pid 프로세스가 종료될 때까지 대기","title":"append the following"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"bash pwait pid","title":"excute the script in background"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"sshd daemon에 대한 유저가owned by root인 프로세스 조회","title":"check background jobs"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"bash pgrep -u root sshd","title":"lsof"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"sshd root 유저에 대한 프로세스 조회","title":"Synopsis"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"bash pgrep -u rootdaemon","title":"Options"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"xterm 프로세스에 대한 자세한 정보 제공","title":"Output"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"bash ps -fp pgrep -d -x xterm","title":"파일 Descriptor"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"admin 유저의 python process 종료","title":"print all opend files"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"bash pkill -u admin python","title":"pkill"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"SIGKILL 신호를 사용하여 emacs 프로세스 강제 종료","title":"Jobs"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"bash pkill -KILL emacs","title":"Reference"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"pgrep pkill pidwait - 프로세스 조회 신호 또는 대기","title":"SYNOPSIS"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"bash pgrep options pattern pkill pidwait","title":"`pkill` only"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"- -a --list-full 모든 컬럼 조회 기본적으로 id만 출력하여 다른 명령어와 조합하여 사용 -d 각 프로세스 ID 를 구분하는 문자열을 지정합니다기본적으로 newline","title":"`pid` 프로세스가 종료될 때까지 대기"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"- --echo killed 된 process id 를 출력합니다","title":"`sshd`, `root` 유저에 대한 프로세스 조회"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"pidwait only","title":"`xterm` 프로세스에 대한 자세한 정보 제공"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"- -u 유저에 대한 프로세스 필터링 -U real user ID에 -i 대소문자 구분하지 않음 --exact 정확한 패턴 일치 -s 세션","title":"`Chrome` 프로세스에 대한 nice value를 +5 변경"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"이름이 상당히 직관적이라 부연설명이 오히려 헷갈릴 수 있다 예제로 보자","title":"background 에서 [pid] 프로세스 종료를 대기한 후 특정 스크립트 실행"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"pid 프로세스가 종료될 때까지 대기","title":"append the following"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"bash pwait pid","title":"excute the script in background"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"sshd daemon에 대한 유저가owned by root인 프로세스 조회","title":"check background jobs"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"bash pgrep -u root sshd","title":"lsof"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"sshd root 유저에 대한 프로세스 조회","title":"Synopsis"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"bash pgrep -u rootdaemon","title":"Options"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"xterm 프로세스에 대한 자세한 정보 제공","title":"Output"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"bash ps -fp pgrep -d -x xterm","title":"파일 Descriptor"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"admin 유저의 python process 종료","title":"print all opend files"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"bash pkill -u admin python","title":"pkill"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"SIGKILL 신호를 사용하여 emacs 프로세스 강제 종료","title":"Jobs"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"bash pkill -KILL emacs","title":"Reference"},{"href":"/docs/kubernetes/architecture","content":"처음 쿠버네티스는 Docker와만 일했고 다른 컨테이너 솔루션은 지원하지 않았다 하지만 지금은 Docker뿐만 아니라 솔루션도 지원한다 그렇게 나오게 된 CRIContainer Runtime Interface는 런타임과 통신하기 위한 인터페이스이다 이 규격을 준수하는 모든 시스템은 쿠버네티스에서 사용할 수 있을까 그렇지 않다 OCIOpen Container Initiative는 이미지와 런타임을 표준화하기 위해 만들어졌다 어떻게 빌드실행저장할지 등을 표준화했다 Docker는 CRI를 준수하지 않는다 표준화 전에 출시되었기 때문이다 이미 주요 도커를 dockershim 을 통해 지원하다 버전 1에서 제거하게 되었습니다 그래도 도커로 만든 이미지는 OCI 표준을 준수하기 때문에 있습니다 ㅎㅎ","title":"nerdctl"},{"href":"/docs/kubernetes/architecture","content":"containerD는 OCI 표준을 준수하는 컨테이너 런타임입니다 도커의 런타임을 분리한 프로젝트이지만 현재는 독립된 프로젝트입니다 CRI를 준수하기 때문에 쿠버네티스에서 사용할 수 있습니다 CLI가 없습니다 그래서 containerD를 사용하기 위해서는 필요합니다 나온 것이 nerdctl입니다 명령어도 거의 동일하고 도커보다 빠릅니다","title":"What is Container Runtime Interface(CRI)"},{"href":"/docs/kubernetes/architecture","content":"crictl은 CRI-호환 컨테이너 런타임에 사용할 수 있는 커맨드라인 인터페이스이다 쿠버네티스 노드에서 런타임과 애플리케이션을 검사하고 디버그하는 데 있다 crictl과 그 소스는 cri-tools 저장소에서 호스팅한다 물론 nertctl 처럼 이미지를 빌드하고 실행 할 수는있지만 어렵다 httpskubernetesiokodocstasksdebugdebug-clustercrictl","title":"CRI-O"},{"href":"/docs/kubernetes/architecture","content":"What is Container Runtime InterfaceCRI","title":"컨테이너 생성 및 시작"},{"href":"/docs/kubernetes/architecture","content":"그럼 도대체 CRI는 무엇일까요 의 답은 컨테이너 런타임과 Kubernetes의 Kubelet 간의 통신을 위한 인터페이스입니다 Kubernetes가 다양한 런타임을 지원할 수 있도록 하는 역할을 합니다 다음과 같은 두 가지 주요 인터페이스로 구성됩니다","title":"컨테이너 종료 및 삭제"},{"href":"/docs/kubernetes/architecture","content":"CRI-Containerd","title":"컨테이너 상태 확인"},{"href":"/docs/kubernetes/architecture","content":"CRI-Containerd는 Containerd를 사용하는 컨테이너 런타임과 Kubelet 간의 통신을 위한 인터페이스입니다","title":"컨테이너 네트워킹"},{"href":"/docs/linux/operations-deployment/email","content":"Linux에서의 Email","title":"Linux에서의 Email"},{"href":"/docs/linux/operations-deployment/email","content":"리눅스 특히 Redhat and CentOS는 이메일을 수신하면 varspoolmail에 저장합니다 만약 aaron에게 수신한 이메일이 있다면 varspoolmailaaron followed by username 에 저장됩니다","title":"Email Aliases"},{"href":"/docs/linux/operations-deployment/email","content":"Email Aliases","title":"Install Postfix"},{"href":"/docs/linux/operations-deployment/email","content":"이제 블로그 방문자가 aaron에게 이메일을 보낼 수 있도록 하려면 어떻게 해야 할까요 우리는 몇가지user contact advertising compliant 계정을 서버에 생성해야 합니다 1 aaronexamplecom 2 contactexamplecom 3 advertisingexamplecom 4 compliantexamplecom 하지만 서버관리자인 aaron은 한개의 계정으로 모든 받고 싶습니다 그렇다면 사실 여러개 생성할 필요가 없습니다 email alias 기능을 사용하여 하나의 받을 있습니다 Lets go","title":"echo \"This is the body of email\" | mail -s subject line\" aaron@localhost"},{"href":"/docs/linux/operations-deployment/email","content":"Install Postfix","title":", $` 등의 특수문자를 사용하지 마세요."},{"href":"/docs/linux/operations-deployment/email","content":"Postfix는 SMTP 서버로서 이메일을 보내고 받을 수 있도록 해줍니다 bash sudo dnf install postfix systemctl start enable 빠른 시연을 위해 로컬 호스트 주소로 설정하겠습니다","title":"IMAP and IMAPS"},{"href":"/docs/linux/operations-deployment/email","content":"echo This is the body of email  mail -s subject line aaronlocalhost","title":"잠시 시간을 내어 코멘트를 읽어보세요 (찡긋)."},{"href":"/docs/linux/operations-deployment/email","content":"sendmail aaronlocalhost This is the body of email cat varspoolmailaaron From Wed Sep 1 155801 2021 Return-Path X-Original-To Delivered-To Received by localhost Postfix from userid 1000 id 1B0C3C0A 0900 KST Subject subject line To X-Mailer mail GNU Mailutils 37 Message-Id 202109010658011B0C3C0Alocalhost Date aaron 요론느낌으로 이메일을 보내고 받을 수 있습니다 이제 다른 이메일 주소로 보내보겠습니다 먼저 etcalaises 파일을 수정합니다 절대","title":"많은 설정과 문서 정보들을 확인할 수 있습니다."},{"href":"/docs/linux/operations-deployment/email","content":"등의 특수문자를 사용하지 마세요","title":"IMAP 서버를 활성화합니다."},{"href":"/docs/linux/operations-deployment/email","content":"etcaliases 파일을 수정한 후 newaliases 명령어를 통해 적용할 수 있습니다 bash sudo vim advertising aaron compliant contact 다시 이메일을 보내보겠습니다 sendmail advertisinglocalhost This is the advertise email compliantlocalhost contactlocalhost cat varspoolmailaaron 메일박스에는 이메일이 잘 도착했습니다 이제 예를 들어 연락할 이메일에 응답해야 하는 전체 팀이 있다고 상상해 보세요 읽고 사람은 bob charlie 입니다 수정합니다 varspoolmailbob varspoolmailcharlie 하지만 다른 서비스에 저장된 외부 사서함external으로 메일을 라우팅하려면 어떻게 해야 할까요 예로 advertising메일에 한하여 애널리틱스 팀의 이메일 주소로 aarongooglecom team-analyticscompanycom 포워딩을 할 수도 서버에 저장 많은 선택지를 제공합니다 반드시 Postfix에 적용해야 합니다 잊지마세요찡긋","title":"전체 네트워크에서 접속을 허용합니다."},{"href":"/docs/linux/operations-deployment/email","content":"IMAP and IMAPS","title":"인증서 및 키를 생성합니다."},{"href":"/docs/linux/operations-deployment/email","content":"이메일은 보내는 것 만큼 받는 것도 중요합니다 여러계정을 관리하고 싶다면 IMAP을 사용해야 합니다 IMAP은 이메일을 서버에 저장하고 여러 기기에서 동기화 할 수 있습니다 하지만 보안이 취약합니다 암호화되지 않은 텍스트로 전송합니다 IMAPS는 IMAP과 동일하지만 SSLTLS 프로토콜을 준수하여 통신합니다 IMAPS를 사용하려면 Dovecot을 설치해야 bash sudo dnf install dovecot systemctl start enable 방화벽을 열어줍니다 firewall-cmd --add-serviceimaps --runtime-to-permanent --reload - 재부팅시에도 적용되도록 설정합니다 방화벽 설정을 다시 불러옵니다 --add-service 서비스를 추가합니다 인터넷의 모든 클라이언트에 제공할 준비가 된 IMAP 및 서버를 설정하고 보호하는 것은 매우","title":">>> insert"},{"href":"/docs/linux/operations-deployment/email","content":"잠시 시간을 내어 코멘트를 읽어보세요 찡긋","title":"SSL/TLS 인증서를 사용하도록 설정합니다."},{"href":"/docs/linux/operations-deployment/email","content":"Linux에서의 Email","title":"Linux에서의 Email"},{"href":"/docs/linux/operations-deployment/email","content":"리눅스 특히 Redhat and CentOS는 이메일을 수신하면 varspoolmail에 저장합니다 만약 aaron에게 수신한 이메일이 있다면 varspoolmailaaron followed by username 에 저장됩니다","title":"Email Aliases"},{"href":"/docs/linux/operations-deployment/email","content":"Email Aliases","title":"Install Postfix"},{"href":"/docs/linux/operations-deployment/email","content":"이제 블로그 방문자가 aaron에게 이메일을 보낼 수 있도록 하려면 어떻게 해야 할까요 우리는 몇가지user contact advertising compliant 계정을 서버에 생성해야 합니다 1 aaronexamplecom 2 contactexamplecom 3 advertisingexamplecom 4 compliantexamplecom 하지만 서버관리자인 aaron은 한개의 계정으로 모든 받고 싶습니다 그렇다면 사실 여러개 생성할 필요가 없습니다 email alias 기능을 사용하여 하나의 받을 있습니다 Lets go","title":"echo \"This is the body of email\" | mail -s subject line\" aaron@localhost"},{"href":"/docs/linux/operations-deployment/email","content":"Install Postfix","title":", $` 등의 특수문자를 사용하지 마세요."},{"href":"/docs/linux/operations-deployment/email","content":"Postfix는 SMTP 서버로서 이메일을 보내고 받을 수 있도록 해줍니다 bash sudo dnf install postfix systemctl start enable 빠른 시연을 위해 로컬 호스트 주소로 설정하겠습니다","title":"IMAP and IMAPS"},{"href":"/docs/linux/operations-deployment/email","content":"echo This is the body of email  mail -s subject line aaronlocalhost","title":"잠시 시간을 내어 코멘트를 읽어보세요 (찡긋)."},{"href":"/docs/linux/operations-deployment/email","content":"sendmail aaronlocalhost This is the body of email cat varspoolmailaaron From Wed Sep 1 155801 2021 Return-Path X-Original-To Delivered-To Received by localhost Postfix from userid 1000 id 1B0C3C0A 0900 KST Subject subject line To X-Mailer mail GNU Mailutils 37 Message-Id 202109010658011B0C3C0Alocalhost Date aaron 요론느낌으로 이메일을 보내고 받을 수 있습니다 이제 다른 이메일 주소로 보내보겠습니다 먼저 etcalaises 파일을 수정합니다 절대","title":"많은 설정과 문서 정보들을 확인할 수 있습니다."},{"href":"/docs/linux/operations-deployment/email","content":"등의 특수문자를 사용하지 마세요","title":"IMAP 서버를 활성화합니다."},{"href":"/docs/linux/operations-deployment/email","content":"etcaliases 파일을 수정한 후 newaliases 명령어를 통해 적용할 수 있습니다 bash sudo vim advertising aaron compliant contact 다시 이메일을 보내보겠습니다 sendmail advertisinglocalhost This is the advertise email compliantlocalhost contactlocalhost cat varspoolmailaaron 메일박스에는 이메일이 잘 도착했습니다 이제 예를 들어 연락할 이메일에 응답해야 하는 전체 팀이 있다고 상상해 보세요 읽고 사람은 bob charlie 입니다 수정합니다 varspoolmailbob varspoolmailcharlie 하지만 다른 서비스에 저장된 외부 사서함external으로 메일을 라우팅하려면 어떻게 해야 할까요 예로 advertising메일에 한하여 애널리틱스 팀의 이메일 주소로 aarongooglecom team-analyticscompanycom 포워딩을 할 수도 서버에 저장 많은 선택지를 제공합니다 반드시 Postfix에 적용해야 합니다 잊지마세요찡긋","title":"전체 네트워크에서 접속을 허용합니다."},{"href":"/docs/linux/operations-deployment/email","content":"IMAP and IMAPS","title":"인증서 및 키를 생성합니다."},{"href":"/docs/linux/operations-deployment/email","content":"이메일은 보내는 것 만큼 받는 것도 중요합니다 여러계정을 관리하고 싶다면 IMAP을 사용해야 합니다 IMAP은 이메일을 서버에 저장하고 여러 기기에서 동기화 할 수 있습니다 하지만 보안이 취약합니다 암호화되지 않은 텍스트로 전송합니다 IMAPS는 IMAP과 동일하지만 SSLTLS 프로토콜을 준수하여 통신합니다 IMAPS를 사용하려면 Dovecot을 설치해야 bash sudo dnf install dovecot systemctl start enable 방화벽을 열어줍니다 firewall-cmd --add-serviceimaps --runtime-to-permanent --reload - 재부팅시에도 적용되도록 설정합니다 방화벽 설정을 다시 불러옵니다 --add-service 서비스를 추가합니다 인터넷의 모든 클라이언트에 제공할 준비가 된 IMAP 및 서버를 설정하고 보호하는 것은 매우","title":">>> insert"},{"href":"/docs/linux/operations-deployment/email","content":"잠시 시간을 내어 코멘트를 읽어보세요 찡긋","title":"SSL/TLS 인증서를 사용하도록 설정합니다."},{"href":"/docs/kubernetes/auth","content":"httpskubernetesiodocsreferenceaccess-authn-authzauthentication","title":"TLS"},{"href":"/docs/kubernetes/auth","content":"users-in-kubernetes","title":"Client Certificate Authentication"},{"href":"/docs/kubernetes/auth","content":"유저는 클러스터의 certificate authority CA 로부터 인가 받을 수 있어야합니다 이때 k8s는 인증서crt - subject의 일반 이름 필드에서 사용자 이름을 결정합니다 예 CNseongpilkim 그리고 그 유저의 역할RBAC에 따라 특정 행동을 할 있게 됩니다 반대로 Service Account 의 경우 네임스페이스내 한정 k8s api-server에 의해 생성되며 인증credentials을 위한 토큰이 Secret에 관리됩니다","title":"Create a private key for the user"},{"href":"/docs/kubernetes/auth","content":"Kubernetes 클러스터에서 작업자 노드의 구성 요소 - kublet 및 kube-proxy 는 제어 평면 특히 kube-apiserver와 통신해야 합니다 통신이 방해받지 않고 비공개로 유지되며 클러스터의 각 요소가 신뢰할 수 있는 다른 요소와 통신하고 있는지 확인하기 위해 노드에서 클라이언트 TLS 인증서를 사용하는 것이 좋습니다 기존 통신 지원을 필수 세팅작업 즉 certificate 과정인증서 확인Certificate Authority 인증서 서명 요청crt 서명key를 주요 컴포넌트 노드 별로 세팅해야 했었습니다 이에 쿠버네티스는 이작업을 단순화하기 14 버전 이후 Kubernetes는 요청 API를 도입했습니다 제안서는 여기httpspapagonavernetapissiteproxyurlhttps3A2F2Fgithubcom2Fkubernetes2Fkubernetes2Fpull2F20439에서 확인할 있습니다","title":"부트스트랩 초기화"},{"href":"/docs/kubernetes/auth","content":"X509 client certificates는 클라이언트가 서버에 대한 신원을 증명하는 데 사용할 수 있는 표준 방법입니다 이는 --client-ca-file 플래그를 사용하여 kube-apiserver에 전달됩니다 클라이언트 인증서는 인증서의 조직 필드를 사용자의 그룹 멤버십을 나타낼 수도 있습니다 여러 포함하려면 인증서에 포함하세요 sh","title":"User 생성"},{"href":"/docs/kubernetes/auth","content":"Create a private key for the user","title":"1. 사용자의 인증서를 생성합니다."},{"href":"/docs/kubernetes/auth","content":"app1과 app2라는 두 그룹에 속하는 사용자 이름 jbeda에 대한","title":"csr for crt"},{"href":"/docs/kubernetes/auth","content":"openssl req -new -key jbedapem -out jbeda-csrpem -subj CNjbedaOapp1Oapp2 클라이언트 인증서를 생성하는 방법은 인증서 관리httpskubernetesiodocstasksadminister-clustercertificates를 참조하세요","title":"client cert 파일 생성"},{"href":"/docs/kubernetes/auth","content":"부트스트랩 초기화 프로세스에서는 다음이 발생합니다 1 kubelet begins 2 sees that it does not have a kubeconfig file 3 searches for and finds bootstrap-kubeconfig 4 reads its bootstrap retrieving the URL of API server limited usage token 5 connects to authenticates using 6 now has credentials create retrieve certificate signing request CSR 7 creates itself with signerName set kubernetesiokube-apiserver-client-kubelet 8 is approved in one two ways If configured kube-controller-manager automatically approves an outside process possibly person Kubernetes or via kubectl 9 Certificate created 10 issued 11 retrieves 12 proper key signed 13 normal operation 14 Optional if requests renewal when close expiry 15 The renewed either manually depending on configuration 이 문서의 나머지 부분에서는 TLS 부트스트래핑을 구성하는 데 필요한 단계와 제한 사항을 설명합니다","title":"one day"},{"href":"/docs/kubernetes/auth","content":"TLS 부트스트래핑 및 선택적 자동 승인을 구성하려면 다음 구성 요소에 대한 옵션을 구성해야 합니다 kube-apiserver kube-controller-manager kubelet in-cluster resources ClusterRoleBinding and potentially ClusterRole Kubernetes 인증 기관CA","title":"4. 인증서를 사용자의 kubeconfig 파일에 추가합니다."},{"href":"/docs/kubernetes/auth","content":"클러스터에 사용자를 추가하려면 다음과 같은 절차를 따르세요 sh SAMPLE_DIRsample USER_NAMEsejin ORG_NAMEabacus CA_ROOTetckubernetespkica DUE_DATE10000 DUE_SECONDSDUE_DATE 24 60 mkdir SAMPLE_DIR cd","title":"References"},{"href":"/docs/linux/operations-deployment/kernel-runtime-parameters","content":"Kernel Runtime Parameters","title":"Kernel Runtime Parameters"},{"href":"/docs/linux/operations-deployment/kernel-runtime-parameters","content":"런타임 매개변수는 Linux 커널 로드 될 때 수행하는 방식에 대한 기본 설정을 나타내는 멋진 용어일 뿐입니다 커널은 row level에서 동작하며 설정에 따라 메모리 할당 프로세스 관리 파일 시스템 등을 수행합니다 커널런타임에 사용될 모든 파라미터를 확인하려면 아래 명령어를 입력합니다 bash sudo sysctl -a fspipe-user-pages-soft 12344 fspipe-user-pages-hard 0 netipv6confdefaultdisable_ipv6 위 설정에서 ipv6가 활성화되어 있는 것을 확인할 수 있습니다 is used to modify kernel parameters at runtime The available are those listed under procsys Procfs required for support in You can use both read and write data 이러한 설정들은 etcsysctlconf 파일에 저장되어 이와같이 네트워크 부터 파일시스템 vm 등 커널이 작업에 ipv6를 비활성화하고 싶다면","title":"change not permanently"},{"href":"/docs/linux/operations-deployment/kernel-runtime-parameters","content":"change not permanently","title":"check"},{"href":"/docs/linux/operations-deployment/kernel-runtime-parameters","content":"sudo sysctl -w netipv6confdefaultdisable_ipv61","title":"시나리오"},{"href":"/docs/linux/operations-deployment/kernel-runtime-parameters","content":"sudo sysctl -a grep ipv6 or netipv6confdefaultdisable_ipv6 변경된 값이 영구적으로 적용되게 하려면 설정 파일을 수정해야 합니다 bash man sysctld SYNOPSIS etcsysctldconf runsysctldconf usrlibsysctldconf vi etcsysctld99-sysctlconf input 1","title":"Turn on `kernel.modules_disabled` kernel runtime parameter, so that loading new modules will be disabled."},{"href":"/docs/linux/operations-deployment/kernel-runtime-parameters","content":"만약 vm의 메모리를 설정하고 싶습니다 bash sysctl -a grep vm vmpanic_on_oom 0 vmswappiness 30 위 설정에서 vmswappiness는 30으로 설정되어 있습니다 swappiness는 커널이 어떻게 사용할지에 대한 정책입니다 0이면 적게 사용하고 100이면 스왑을 최대한 사용합니다 이 값을 10으로 변경하고 싶다면 아래 명령어를 입력합니다 sudo vim etcsysctld99-sysctlconf append vmswappiness10 이제 next boot시에 변경된 값이 적용됩니다 즉시 적용하고 -p permanent file","title":"Use the sysctl command to make sure this kernel runtime parameter is actively enabling its settings:"},{"href":"/docs/linux/operations-deployment/kernel-runtime-parameters","content":"Kernel Runtime Parameters","title":"Kernel Runtime Parameters"},{"href":"/docs/linux/operations-deployment/kernel-runtime-parameters","content":"런타임 매개변수는 Linux 커널 로드 될 때 수행하는 방식에 대한 기본 설정을 나타내는 멋진 용어일 뿐입니다 커널은 row level에서 동작하며 설정에 따라 메모리 할당 프로세스 관리 파일 시스템 등을 수행합니다 커널런타임에 사용될 모든 파라미터를 확인하려면 아래 명령어를 입력합니다 bash sudo sysctl -a fspipe-user-pages-soft 12344 fspipe-user-pages-hard 0 netipv6confdefaultdisable_ipv6 위 설정에서 ipv6가 활성화되어 있는 것을 확인할 수 있습니다 is used to modify kernel parameters at runtime The available are those listed under procsys Procfs required for support in You can use both read and write data 이러한 설정들은 etcsysctlconf 파일에 저장되어 이와같이 네트워크 부터 파일시스템 vm 등 커널이 작업에 ipv6를 비활성화하고 싶다면","title":"change not permanently"},{"href":"/docs/linux/operations-deployment/kernel-runtime-parameters","content":"change not permanently","title":"check"},{"href":"/docs/linux/operations-deployment/kernel-runtime-parameters","content":"sudo sysctl -w netipv6confdefaultdisable_ipv61","title":"시나리오"},{"href":"/docs/linux/operations-deployment/kernel-runtime-parameters","content":"sudo sysctl -a grep ipv6 or netipv6confdefaultdisable_ipv6 변경된 값이 영구적으로 적용되게 하려면 설정 파일을 수정해야 합니다 bash man sysctld SYNOPSIS etcsysctldconf runsysctldconf usrlibsysctldconf vi etcsysctld99-sysctlconf input 1","title":"Turn on `kernel.modules_disabled` kernel runtime parameter, so that loading new modules will be disabled."},{"href":"/docs/linux/operations-deployment/kernel-runtime-parameters","content":"만약 vm의 메모리를 설정하고 싶습니다 bash sysctl -a grep vm vmpanic_on_oom 0 vmswappiness 30 위 설정에서 vmswappiness는 30으로 설정되어 있습니다 swappiness는 커널이 어떻게 사용할지에 대한 정책입니다 0이면 적게 사용하고 100이면 스왑을 최대한 사용합니다 이 값을 10으로 변경하고 싶다면 아래 명령어를 입력합니다 sudo vim etcsysctld99-sysctlconf append vmswappiness10 이제 next boot시에 변경된 값이 적용됩니다 즉시 적용하고 -p permanent file","title":"Use the sysctl command to make sure this kernel runtime parameter is actively enabling its settings:"},{"href":"/docs/kubernetes/cheetsheet","content":"Util command","title":"Util command"},{"href":"/docs/kubernetes/cheetsheet","content":"Get the API groups and resource names from command","title":"Query kube"},{"href":"/docs/kubernetes/cheetsheet","content":"sh kubectl api-resources","title":"conditionals-and-comparisons)"},{"href":"/docs/kubernetes/cheetsheet","content":"관련링크httpsjqlanggithubiojqmanual","title":"kubectl get no -o go-template=\"{{range .items}}{{if .spec.unschedulable}}{{.metadata.name}} {{.spec.externalID}}:{{end}}{{end}}\" | tr \":\" \"\\n\"$"},{"href":"/docs/kubernetes/cheetsheet","content":"conditionals-and-comparisons","title":"get cluster role bindings and extract user | group"},{"href":"/docs/kubernetes/cheetsheet","content":"get cluster role bindings and extract user  group","title":"kubectl-context-and-configuration)"},{"href":"/docs/kubernetes/cheetsheet","content":"kubectl get clusterrolebindings -o go-templaterange itemsrange subjectskind-name end - metadataname nend grep Group-systemmasters","title":"-em-cluster-info-em-)"},{"href":"/docs/kubernetes/cheetsheet","content":"kubectl get no -o go-templaterange itemsif specunschedulablemetadataname specexternalIDendend  tr n","title":"1. `k get nodes -o wide` 를 통해 노드들의 ip 정보들을 확인"},{"href":"/docs/kubernetes/cheetsheet","content":"get cluster role bindings and extract user  group","title":"node ip`"},{"href":"/docs/kubernetes/cheetsheet","content":"kubectl get clusterrolebindings -o json jq -r items selectsubjects null subjects selectnamesystemmasters","title":"3. find mac address of interface"},{"href":"/docs/kubernetes/cheetsheet","content":"Cluster information","title":"4. Containerd interface/bridge"},{"href":"/docs/kubernetes/cheetsheet","content":"아래 링크들을 보면 클러스터의 정보들을 확인 할 수 있다 하지만 좀 더 자세한 정보를 알 있도록 정리한다 - kubernetesiohttpskubernetesiodocsreferencekubectlquick-reference","title":"5. find gateway ip address"},{"href":"/docs/kubernetes/cheetsheet","content":"kubectl-context-and-configuration","title":"6. find specific port is using"},{"href":"/docs/kubernetes/cheetsheet","content":"- k8siohttpskubernetesiodocsreferencegeneratedkubectlkubectl-commands","title":"what is port using by kube-scheduler"},{"href":"/docs/kubernetes/cheetsheet","content":"-em-cluster-info-em-","title":"tcp 0 127.0.0.1:10259 0.0.0.0:* LISTEN 3683/kube-scheduler"},{"href":"/docs/kubernetes/cheetsheet","content":"- kubectl cluster-info config view cat kubeconfig ps -aux grep etcd kubelet container","title":"7. number of specific port using by etcd"},{"href":"/docs/kubernetes/cheetsheet","content":"1 k get nodes -o wide 를 통해 노드들의 ip 정보들을 확인","title":"클러스터의 노드들이 속한 IP 범위 확인"},{"href":"/docs/kubernetes/cheetsheet","content":"2 find network interface to witch ip address is assigned","title":"1. make bridge"},{"href":"/docs/kubernetes/cheetsheet","content":"output sh 2 enp2s0f0 BROADCASTMULTICASTUPLOWER_UP mtu 1500 qdisc mq state UP group default qlen 1000 linkether 9440c926370c brd ffffffffffff inet 192168010324 1921680255 scope global dynamic","title":"3. bind a bridge to ip"},{"href":"/docs/kubernetes/cheetsheet","content":"3 find mac address of interface","title":"4. add a veth pair"},{"href":"/docs/kubernetes/cheetsheet","content":"ip link show eth0 output sh 0242c0177d09","title":"5. bind a veth pair to namespace"},{"href":"/docs/kubernetes/cheetsheet","content":"4 Containerd interfacebridge","title":"6. up a veth pair"},{"href":"/docs/kubernetes/cheetsheet","content":"ip address show type bridge 를 통해 containerd 의 확인 할 수 있다","title":"link bwtween two private ip address"},{"href":"/docs/kubernetes/cheetsheet","content":"5 find gateway ip address","title":"network"},{"href":"/docs/kubernetes/cheetsheet","content":"외부로 나가는 gateway ip 를 확인하기 위해 route show grep default 통해 확인 할 수 있다","title":"docker network ls"},{"href":"/docs/kubernetes/cheetsheet","content":"6 find specific port is using","title":"etc"},{"href":"/docs/kubernetes/cheetsheet","content":"what is port using by kube-scheduler","title":"서비스들의 IP 범위"},{"href":"/docs/kubernetes/cheetsheet","content":"netstat -npl grep schedule","title":"static pod 을 실행시키는 kubelet 은 --service-cluster-ip-range 옵션을 통해 서비스들의 IP 범위를 지정한다."},{"href":"/docs/kubernetes/cheetsheet","content":"tcp  0 12700110259 0000 LISTEN 3683kube-scheduler","title":"특정 serviceaccount 에 할당된 role 목록"},{"href":"/docs/kubernetes/cheetsheet","content":"7 number of specific port using by etcd","title":"if weave-net is deployed as the network plugin, you can get Role and ClusterRole used by ServiceAccount:"},{"href":"/docs/kubernetes/cheetsheet","content":"sh netstat -npa grep etcd 2379 wc -l","title":"Kube-proxy mode"},{"href":"/docs/kubernetes/cheetsheet","content":"클러스터의 노드들이 속한 IP 범위 확인","title":"Refer"},{"href":"/docs/kubernetes/cheetsheet","content":"sh ip a grep eth0 ipcalc -b 19211181324 실제 네트워크 범위다","title":"conditionals-and-comparisons"},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"Linux 운영 체제는 주로 서버 지향적이며 서버에서는 항상 무슨 일이 일어났는지 알고 싶어합니다 누가 무엇을 했는지 무엇이 효과가 있었는지 작동하지 않았는지 어떤 오류가 발생했는지 시스템에 액세스했는지 시스템에서 발생하는 모든 중요한 일은 다음 위치에 문자 메시지를 로그라고 부릅니다 리눅스 커널과 이 커널에서 실행되는 대부분의 프로그램은 상태 메시지 오류 경고를 생성합니다 그리고 생성하는 수십 개의 다양한 프로그램이 있을 수 있습니다 것들을 모아서 파일에 잘 정리할 있는 방법이 필요합니다 이것이 daemon rsyslogrocket-fast system for log processing가 하는 일입니다 데몬은 로그를 varlog 디렉토리에있는 기록합니다 만약 유저가 ssh를 사용해 접근했는지 확인하고 싶고 당신은 파일 위치를 모를때 아래와 같이 찾아보면 됩니다 bash sudo grep -r ssh","title":"if you want exclude binary file"},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"if you want exclude binary file","title":"if you want to see only file name"},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"sudo grep -r ssh varlog -v Binary file","title":"헤이 이 바이너리 파일이 사용되는 정보를 보여줘"},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"if you want to see only file name","title":"ssh daemon이 사용되는 정보를 보여줘"},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"sudo grep -r ssh varlog -v Binary file cut -d -f 1 uniq less varlogauthlog1 명령어를 사용하면 파일의 내용을 볼 수 있습니다 pam_unixcronsession session opened for user root by uid0 음 루트가 로그인 했네요 끝 이밖에 다른 로그도 확인해보세요 - 어떠한 유저가 어떤 주소로 부터 포트를 사용해 접근했는지 확인할 패스워드가 틀렸는지 디렉토리에서 실행했는지 모두 기억합니다 어디 실시간으로 살펴볼까요 bash tail varlogauthlog varlogauthlog1Jan 18 182840 michelle abacus TTYpts0 PWDusrsharedoctar USERroot COMMANDbintar xvf THANKSgz -c thank 182844 -xvf 182928 jxvf 203716 PWDhomeabacus COMMANDusrbinmandb journalctl은 좀더 효과적으로 로그를 우리는 sudo를 사용하는 사람들을 확인하고싶습니다","title":"마지막 로그 들을 보여줘"},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"헤이 이 바이너리 파일이 사용되는 정보를 보여줘","title":"에러만 보여줘"},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"sudo journalctl which","title":"emerg (0), alert (1), crit (2), err (3), warning (4), notice (5), info (6), debug (7)."},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"ssh daemon이 사용되는 정보를 보여줘","title":"최근 3개월전 부터 어제까지의 로그를 michelle 메세지가 포함된 보여줘"},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"sudo journalctl -u sshservice","title":"2번째 전의 부팅시 로그 정보를 보여줘"},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"마지막 로그 들을 보여줘","title":"Exercise"},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"journalctl -xef","title":"현재 프로세스의 NICE 값과 함께 트리 구조로 프로세스를 보여줘"},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"journalctl -p err -f 0 -fe","title":"1번 프로세스에 우선순위를 19로 변경"},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"emerg 0 alert 1 crit 2 err 3 warning 4 notice 5 info 6 debug 7","title":"my_program을 실행하면서 우선순위를 19로 변경"},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"최근 3개월전 부터 어제까지의 로그를 michelle 메세지가 포함된 보여줘","title":"**List all files** that are opened by process with PID 1,"},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"journalctl --since 3 months ago --until yesterday -u sshservice -f grep michelle","title":"Search the logs for entries related to **SSH daemon** i.e `sshd`."},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"2번째 전의 부팅시 로그 정보를 보여줘","title":"Identify the PID of process named rpcbind"},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"journalctl -b -2 우리는 각 유저들의 마지막 로그 정보도 확인할 수 있습니다 bash last lastlog","title":"With the systemctl command, find out PID of process currently managed by `sshd.service`. Send SIGHUP signal to this process."},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"현재 프로세스의 NICE 값과 함께 트리 구조로 프로세스를 보여줘","title":"Analyse the **info** priority logs through `journalctl` that begin with letter `c` and store output in `/home/bob/.priority/boot.log` file."},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"bash ps -alf - 명령어는 현재 실행중인 프로세스를 보여줍니다 -a 옵션은 모든 사용자의 -l 긴 포맷으로 -f 트리 구조로","title":"Using ps command, identify the **CPU and Memory usage** by only process having PID `1`"},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"Linux 운영 체제는 주로 서버 지향적이며 서버에서는 항상 무슨 일이 일어났는지 알고 싶어합니다 누가 무엇을 했는지 무엇이 효과가 있었는지 작동하지 않았는지 어떤 오류가 발생했는지 시스템에 액세스했는지 시스템에서 발생하는 모든 중요한 일은 다음 위치에 문자 메시지를 로그라고 부릅니다 리눅스 커널과 이 커널에서 실행되는 대부분의 프로그램은 상태 메시지 오류 경고를 생성합니다 그리고 생성하는 수십 개의 다양한 프로그램이 있을 수 있습니다 것들을 모아서 파일에 잘 정리할 있는 방법이 필요합니다 이것이 daemon rsyslogrocket-fast system for log processing가 하는 일입니다 데몬은 로그를 varlog 디렉토리에있는 기록합니다 만약 유저가 ssh를 사용해 접근했는지 확인하고 싶고 당신은 파일 위치를 모를때 아래와 같이 찾아보면 됩니다 bash sudo grep -r ssh","title":"if you want exclude binary file"},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"if you want exclude binary file","title":"if you want to see only file name"},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"sudo grep -r ssh varlog -v Binary file","title":"헤이 이 바이너리 파일이 사용되는 정보를 보여줘"},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"if you want to see only file name","title":"ssh daemon이 사용되는 정보를 보여줘"},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"sudo grep -r ssh varlog -v Binary file cut -d -f 1 uniq less varlogauthlog1 명령어를 사용하면 파일의 내용을 볼 수 있습니다 pam_unixcronsession session opened for user root by uid0 음 루트가 로그인 했네요 끝 이밖에 다른 로그도 확인해보세요 - 어떠한 유저가 어떤 주소로 부터 포트를 사용해 접근했는지 확인할 패스워드가 틀렸는지 디렉토리에서 실행했는지 모두 기억합니다 어디 실시간으로 살펴볼까요 bash tail varlogauthlog varlogauthlog1Jan 18 182840 michelle abacus TTYpts0 PWDusrsharedoctar USERroot COMMANDbintar xvf THANKSgz -c thank 182844 -xvf 182928 jxvf 203716 PWDhomeabacus COMMANDusrbinmandb journalctl은 좀더 효과적으로 로그를 우리는 sudo를 사용하는 사람들을 확인하고싶습니다","title":"마지막 로그 들을 보여줘"},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"헤이 이 바이너리 파일이 사용되는 정보를 보여줘","title":"에러만 보여줘"},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"sudo journalctl which","title":"emerg (0), alert (1), crit (2), err (3), warning (4), notice (5), info (6), debug (7)."},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"ssh daemon이 사용되는 정보를 보여줘","title":"최근 3개월전 부터 어제까지의 로그를 michelle 메세지가 포함된 보여줘"},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"sudo journalctl -u sshservice","title":"2번째 전의 부팅시 로그 정보를 보여줘"},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"마지막 로그 들을 보여줘","title":"Exercise"},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"journalctl -xef","title":"현재 프로세스의 NICE 값과 함께 트리 구조로 프로세스를 보여줘"},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"journalctl -p err -f 0 -fe","title":"1번 프로세스에 우선순위를 19로 변경"},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"emerg 0 alert 1 crit 2 err 3 warning 4 notice 5 info 6 debug 7","title":"my_program을 실행하면서 우선순위를 19로 변경"},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"최근 3개월전 부터 어제까지의 로그를 michelle 메세지가 포함된 보여줘","title":"**List all files** that are opened by process with PID 1,"},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"journalctl --since 3 months ago --until yesterday -u sshservice -f grep michelle","title":"Search the logs for entries related to **SSH daemon** i.e `sshd`."},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"2번째 전의 부팅시 로그 정보를 보여줘","title":"Identify the PID of process named rpcbind"},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"journalctl -b -2 우리는 각 유저들의 마지막 로그 정보도 확인할 수 있습니다 bash last lastlog","title":"With the systemctl command, find out PID of process currently managed by `sshd.service`. Send SIGHUP signal to this process."},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"현재 프로세스의 NICE 값과 함께 트리 구조로 프로세스를 보여줘","title":"Analyse the **info** priority logs through `journalctl` that begin with letter `c` and store output in `/home/bob/.priority/boot.log` file."},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"bash ps -alf - 명령어는 현재 실행중인 프로세스를 보여줍니다 -a 옵션은 모든 사용자의 -l 긴 포맷으로 -f 트리 구조로","title":"Using ps command, identify the **CPU and Memory usage** by only process having PID `1`"},{"href":"/docs/kubernetes/components/etcd","content":"What is etcd","title":"What is etcd"},{"href":"/docs/linux/operations-deployment/logroate","content":"RabbitMQ 하지만 Log Rotate를 곁들인","title":"RabbitMQ 하지만 Log Rotate를 곁들인"},{"href":"/docs/linux/operations-deployment/logroate","content":"What is log rotate","title":"Why do we need log rotate?"},{"href":"/docs/linux/operations-deployment/logroate","content":"로그 파일을 자동으로 백업하고 압축하고 삭제하는 유틸리티 logrotate는 많은 수의 생성하는 시스템을 쉽게 관리할 수 있도록 설계되었습니다 각 파일은 매일 매주 매월 처리되거나 용량이 너무 커지는 경우 처리될 있습니다","title":"In my case.."},{"href":"/docs/linux/operations-deployment/logroate","content":"Why do we need log rotate","title":"What is RabbitMQ?"},{"href":"/docs/linux/operations-deployment/logroate","content":"로그 파일은 시간이 지남에 따라 커지게 되고 이는 디스크 공간을 많이 차지하게 됩니다 파일을 읽고 쓰는 데 오래 걸리는 현상을 발생시킵니다 따라서 자동으로 백업하고 압축하고 삭제하는 유틸리티가 필요합니다","title":"Why do we need RabbitMQ, RabbitMQ의 활용 분야?"},{"href":"/docs/linux/operations-deployment/logroate","content":"고객사로 부터 CVT Customer Verification Test를 진행하던 중 Log 파일이 너무 커져서 디스크 공간이 부족해지는 현상이 발생했습니다 이를 해결하기 위해 Rotate를 적용하였습니다","title":"1. Install RabbitMQ"},{"href":"/docs/linux/operations-deployment/logroate","content":"What is RabbitMQ","title":"How to use log rotate?"},{"href":"/docs/linux/operations-deployment/logroate","content":"RabbitMQ는 AMQPAdvanced Message Queuing Protocol를 구현한 오픈소스 메시지 브로커 소프트웨어입니다 통상 PubSub 패턴을 요구하는 서비스에서 사용됩니다 ex 채팅 서비스 알림 등","title":"1. Install log rotate"},{"href":"/docs/linux/operations-deployment/logroate","content":"Why do we need RabbitMQ RabbitMQ의 활용 분야","title":"2. Configuration file"},{"href":"/docs/linux/operations-deployment/logroate","content":"RabbitMQ 하지만 Log Rotate를 곁들인","title":"RabbitMQ 하지만 Log Rotate를 곁들인"},{"href":"/docs/linux/operations-deployment/logroate","content":"What is log rotate","title":"Why do we need log rotate?"},{"href":"/docs/linux/operations-deployment/logroate","content":"로그 파일을 자동으로 백업하고 압축하고 삭제하는 유틸리티 logrotate는 많은 수의 생성하는 시스템을 쉽게 관리할 수 있도록 설계되었습니다 각 파일은 매일 매주 매월 처리되거나 용량이 너무 커지는 경우 처리될 있습니다","title":"In my case.."},{"href":"/docs/linux/operations-deployment/logroate","content":"Why do we need log rotate","title":"What is RabbitMQ?"},{"href":"/docs/linux/operations-deployment/logroate","content":"로그 파일은 시간이 지남에 따라 커지게 되고 이는 디스크 공간을 많이 차지하게 됩니다 파일을 읽고 쓰는 데 오래 걸리는 현상을 발생시킵니다 따라서 자동으로 백업하고 압축하고 삭제하는 유틸리티가 필요합니다","title":"Why do we need RabbitMQ, RabbitMQ의 활용 분야?"},{"href":"/docs/linux/operations-deployment/logroate","content":"고객사로 부터 CVT Customer Verification Test를 진행하던 중 Log 파일이 너무 커져서 디스크 공간이 부족해지는 현상이 발생했습니다 이를 해결하기 위해 Rotate를 적용하였습니다","title":"1. Install RabbitMQ"},{"href":"/docs/linux/operations-deployment/logroate","content":"What is RabbitMQ","title":"How to use log rotate?"},{"href":"/docs/linux/operations-deployment/logroate","content":"RabbitMQ는 AMQPAdvanced Message Queuing Protocol를 구현한 오픈소스 메시지 브로커 소프트웨어입니다 통상 PubSub 패턴을 요구하는 서비스에서 사용됩니다 ex 채팅 서비스 알림 등","title":"1. Install log rotate"},{"href":"/docs/linux/operations-deployment/logroate","content":"Why do we need RabbitMQ RabbitMQ의 활용 분야","title":"2. Configuration file"},{"href":"/docs/kubernetes","content":"What is Kubernetes","title":"What is Kubernetes?"},{"href":"/docs/kubernetes","content":"k8s 또는 kube라고도 하는 Kubernetes는 컨테이너화된 애플리케이션의 배포 관리 및 확장을 예약하고 자동화하기 위한 컨테이너 오케스트레이션 플랫폼입니다 애플리케이션을 클러스터로 그룹화하고 클러스터의 리소스를 동적으로 관리하며 상태를 지속적으로 모니터링합니다 배포하고 확장하는 데 필요한 모든 기능을 제공합니다 Google의 엔지니어들이 처음 개발했습니다 Google 내부에서 사용되는 플랫폼인 Borg를 기반으로 개발되었습니다 진입한 방대한 생태계에 머리가 지끈거리고 눈꺼풀이 무거워지는게 느껴진다 하지만 하나씩 미지를 탐험한다면 자신도 모르는 사이에 내가 원하는 것을 찾게 될 것입니다 설명은 어렵지만 결국은 서비스들을 관리하는 도구다 구글 컨테이너의 수는 2백만개가 넘는다고 한다 뭐 한명당 100개씩 배포한다고 하면 향후 5년간 5만 명의 개발자 양성하겠다라는 구글의 의견과 걸맞는 수치다 여러분이라면 2백만개의 컨테이너를 어떻게 관리할 것인가 라는 질문에 대한 답을 생각해보자 그리고 답은 Kubernetes이다 그리스어로 조타수조종사를 의미하는데 헤이 ixi로 라벨링 된 컨테이너들을 19시에 정지하고 08시에 다시 배포해줘 라고 명령하면 마치 한 척의 배의 조타수가 되어 수천수만개의 것처럼","title":"Terms"},{"href":"/docs/kubernetes","content":"용어에 친숙해지기 위해 우리는 몇가지 용어를 알아야 한다","title":"Pod"},{"href":"/docs/kubernetes","content":"- 컨테이너화된 애플리케이션을 실행하는 것을 의미한다 Pod Deployment StatefulSet DaemonSet Job CronJob 등 앱을 리소스를","title":"Node"},{"href":"/docs/kubernetes","content":"자식같은 놈들이다 작은놈이 하고 싶은대로 다한다 Kubernetes에서 생성하고 관리할 수 있는 배포 가능한 가장 작은 컴퓨팅 단위입니다 하나 이상의 컨테이너를 포함하며 컨테이너가 동일한 호스트에서 실행되어야 하는 경우에는 Pod에 배치됩니다 네트워크와 스토리지를 공유하며 Pod의 모든 컨테이너는 IP 주소와 포트 공간을 공유합니다","title":"시작하기"},{"href":"/docs/kubernetes","content":"가부장사회의 아버지와 같다 명령만 겁나게 한다 어따 배치해라 언제해라 어디로가라 노드의 집합을 의미한다 클러스터에는 마스터 노드와 워커 노드가 있다","title":"Reference"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"connect RabbitMQ using websocket","title":"connect RabbitMQ using websocket"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"What is RabbitMQ","title":"Why do we need RabbitMQ, RabbitMQ의 활용 분야?"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"RabbitMQ는 AMQPAdvanced Message Queuing Protocol를 구현한 오픈소스 메시지 브로커 소프트웨어입니다 통상 PubSub 패턴을 요구하는 서비스에서 사용됩니다 ex 채팅 서비스 알림 등","title":"How to install RabbitMQ?"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"Why do we need RabbitMQ RabbitMQ의 활용 분야","title":"Caution"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"RabbitMQ는 다양한 분야에서 활용될 수 있습니다 - 마이크로서비스 아키텍처 간 통신에 RabbitMQ를 사용하여 느슨하게 결합된 시스템을 구축할 이벤트 구동 구축 아키텍처에서 이벤트를 효율적으로 전달하고 처리할 분산 시스템 시스템에서 데이터 동기화 작업 큐 메시지 브로딩 등 용도로 사용할 실시간 처리 데이터를 수집하고","title":"Check RabbitMQ status"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"How to install RabbitMQ","title":"sudo systemctl restart rabbitmq-server.service"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"- RabbitMQ는 Erlang 기반으로 동작합니다 따라서 Erlang에 대한 종속성이 있습니다 OS version 등에 따라 설치 가능여부와 distribution이 다릅니다 유의하시기 바랍니다","title":"check epmd process status"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"Check RabbitMQ status","title":"check process port from id"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"설치가 완료되면 RabbitMQ 서버는 자동으로 실행됩니다 정상적으로 설치된 경우 상태를 확인할 수 있습니다 bash sudo systemctl status rabbitmq-serverservice - broker Loaded loaded libsystemdsystemrabbitmq-serverservice disabled vendor preset enabled Active active running since Fri 2024-04-05 015318 UTC 21s ago Main PID 365429 beamsmp Tasks 24 limit 18438 Memory 749M CGroup systemslicerabbitmq-serverservice usrliberlangerts-1423binbeamsmp -W w -MBas ageffcbf -MHas -MBlmbcs 512 -MHlmbcs -MMmcs 30 -pc unicode -P 1048576 -t 5000000 -stbt db -zdbbl 128000 -sbwt none -sbwtdcpu 365457 erl_child_setup 32768 365479 usrliberlangerts-1423bininet_gethost 4 365480 365499 binsh -s rabbit_disk_monitor Apr 05 015317 sp rabbitmq-server365429 Release series support supported Doc guides httpswwwrabbitmqcomdocsdocumentation Support httpswwwrabbitmqcomdocscontact Tutorials httpswwwrabbitmqcomtutorials Monitoring httpswwwrabbitmqcomdocsmonitoring Logs varlograbbitmqrabbitsplog stdout Config files Starting completed with 0 plugins systemd1 Started 기본 로그 위치는 varlograbbitmq 입니다 startup_log와 startup_err 파일등 다양한 파일이 ls 만약 서버가 실행되지 않는다면 다음 명령을 실행하여 서버를 시작할","title":"Setup RabbitMQ"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"sudo systemctl restart rabbitmq-serverservice","title":"RabbitMQ Plugins"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"sudo systemctl start rabbitmq-serverservice 에러가 발생한다면 시스템 로그를 확인하시기 바랍니다 bash journalctl -xe grep rabbitmq","title":"create new user"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"cat varlograbbitmqstartup_err","title":"set vhost '/' permission to root"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"journalctl -p err -S 1 hour ago -f -u rabbitmq-serverservice 필자의 경우 epmd host에 연결이 실패했다는 에러가 발생했습니다 epmd는 Erlang Port Mapper Daemon으로 노드 간 통신을 위한 포트 매핑을 제공합니다 bash","title":"Declare Exchange, Queue, Binding from CLI"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"check epmd process status","title":"create exchange"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"ps aux grep epmd rabbitmq 291987 00 7940 2576 S Apr04 000 usrliberlangerts-1423binepmd -daemon username 368397 8160 2460 pts0 0210 --colorauto","title":"create queue"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"check process port from id","title":"bind queue"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"sudo ss -lptn grep epmd LISTEN 0 4096 00004369 0000 usersepmdpid291987fd3 4369 usersepmdpid291987fd4 프로세스는 실행되고 있었으므로 다른 이유로 인해 실패한 것으로 보입니다 bash rabbitmqctl status 필자는 에러로그로 부터 node name이 잘못 설정되어 있었음을 확인했습니다 1921680 과 같이 IP 형식으로 호스트 이름을 설정하면 192까지 name으로 인식합니다 따라서 sp로 변경하고 서버를 재시작하였습니다 hostnamectl set-hostname sp systemctl restart rabbitmq-serverservice 정상 동작 확인 Status of rabbitsp Runtime OS PID 365429 Linux Uptime seconds 1373 Is under maintenance false RabbitMQ version 3131 release series support supported Node name Erlang configuration ErlangOTP 26 erts-1423 source 64-bit smp22 ds2210 async-threads1 jitns Crypto library OpenSSL 111f 31 Mar 2020 processes 291 used 1048576 limit Scheduler run queue 1 Cluster heartbeat timeout net_ticktime 60 서버가 재시작되었을 때 자동으로 실행되도록 설정하려면 다음 명령을 실행하십시오 enable","title":"Connect Vue.js to RabbitMQ"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"Setup RabbitMQ","title":"Install mqtt"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"RabbitMQ Plugins","title":"usage mqtt client"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"RabbitMQ는 기본적으로 guest 사용자로 접속할 수 있습니다 bash sudo rabbitmqctl list_users Listing users guest\tadministrator 보안을 위해 신규 사용자 추가 후 삭제하겠습니다","title":"Conclusion"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"connect RabbitMQ using websocket","title":"connect RabbitMQ using websocket"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"What is RabbitMQ","title":"Why do we need RabbitMQ, RabbitMQ의 활용 분야?"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"RabbitMQ는 AMQPAdvanced Message Queuing Protocol를 구현한 오픈소스 메시지 브로커 소프트웨어입니다 통상 PubSub 패턴을 요구하는 서비스에서 사용됩니다 ex 채팅 서비스 알림 등","title":"How to install RabbitMQ?"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"Why do we need RabbitMQ RabbitMQ의 활용 분야","title":"Caution"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"RabbitMQ는 다양한 분야에서 활용될 수 있습니다 - 마이크로서비스 아키텍처 간 통신에 RabbitMQ를 사용하여 느슨하게 결합된 시스템을 구축할 이벤트 구동 구축 아키텍처에서 이벤트를 효율적으로 전달하고 처리할 분산 시스템 시스템에서 데이터 동기화 작업 큐 메시지 브로딩 등 용도로 사용할 실시간 처리 데이터를 수집하고","title":"Check RabbitMQ status"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"How to install RabbitMQ","title":"sudo systemctl restart rabbitmq-server.service"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"- RabbitMQ는 Erlang 기반으로 동작합니다 따라서 Erlang에 대한 종속성이 있습니다 OS version 등에 따라 설치 가능여부와 distribution이 다릅니다 유의하시기 바랍니다","title":"check epmd process status"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"Check RabbitMQ status","title":"check process port from id"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"설치가 완료되면 RabbitMQ 서버는 자동으로 실행됩니다 정상적으로 설치된 경우 상태를 확인할 수 있습니다 bash sudo systemctl status rabbitmq-serverservice - broker Loaded loaded libsystemdsystemrabbitmq-serverservice disabled vendor preset enabled Active active running since Fri 2024-04-05 015318 UTC 21s ago Main PID 365429 beamsmp Tasks 24 limit 18438 Memory 749M CGroup systemslicerabbitmq-serverservice usrliberlangerts-1423binbeamsmp -W w -MBas ageffcbf -MHas -MBlmbcs 512 -MHlmbcs -MMmcs 30 -pc unicode -P 1048576 -t 5000000 -stbt db -zdbbl 128000 -sbwt none -sbwtdcpu 365457 erl_child_setup 32768 365479 usrliberlangerts-1423bininet_gethost 4 365480 365499 binsh -s rabbit_disk_monitor Apr 05 015317 sp rabbitmq-server365429 Release series support supported Doc guides httpswwwrabbitmqcomdocsdocumentation Support httpswwwrabbitmqcomdocscontact Tutorials httpswwwrabbitmqcomtutorials Monitoring httpswwwrabbitmqcomdocsmonitoring Logs varlograbbitmqrabbitsplog stdout Config files Starting completed with 0 plugins systemd1 Started 기본 로그 위치는 varlograbbitmq 입니다 startup_log와 startup_err 파일등 다양한 파일이 ls 만약 서버가 실행되지 않는다면 다음 명령을 실행하여 서버를 시작할","title":"Setup RabbitMQ"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"sudo systemctl restart rabbitmq-serverservice","title":"RabbitMQ Plugins"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"sudo systemctl start rabbitmq-serverservice 에러가 발생한다면 시스템 로그를 확인하시기 바랍니다 bash journalctl -xe grep rabbitmq","title":"create new user"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"cat varlograbbitmqstartup_err","title":"set vhost '/' permission to root"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"journalctl -p err -S 1 hour ago -f -u rabbitmq-serverservice 필자의 경우 epmd host에 연결이 실패했다는 에러가 발생했습니다 epmd는 Erlang Port Mapper Daemon으로 노드 간 통신을 위한 포트 매핑을 제공합니다 bash","title":"Declare Exchange, Queue, Binding from CLI"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"check epmd process status","title":"create exchange"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"ps aux grep epmd rabbitmq 291987 00 7940 2576 S Apr04 000 usrliberlangerts-1423binepmd -daemon username 368397 8160 2460 pts0 0210 --colorauto","title":"create queue"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"check process port from id","title":"bind queue"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"sudo ss -lptn grep epmd LISTEN 0 4096 00004369 0000 usersepmdpid291987fd3 4369 usersepmdpid291987fd4 프로세스는 실행되고 있었으므로 다른 이유로 인해 실패한 것으로 보입니다 bash rabbitmqctl status 필자는 에러로그로 부터 node name이 잘못 설정되어 있었음을 확인했습니다 1921680 과 같이 IP 형식으로 호스트 이름을 설정하면 192까지 name으로 인식합니다 따라서 sp로 변경하고 서버를 재시작하였습니다 hostnamectl set-hostname sp systemctl restart rabbitmq-serverservice 정상 동작 확인 Status of rabbitsp Runtime OS PID 365429 Linux Uptime seconds 1373 Is under maintenance false RabbitMQ version 3131 release series support supported Node name Erlang configuration ErlangOTP 26 erts-1423 source 64-bit smp22 ds2210 async-threads1 jitns Crypto library OpenSSL 111f 31 Mar 2020 processes 291 used 1048576 limit Scheduler run queue 1 Cluster heartbeat timeout net_ticktime 60 서버가 재시작되었을 때 자동으로 실행되도록 설정하려면 다음 명령을 실행하십시오 enable","title":"Connect Vue.js to RabbitMQ"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"Setup RabbitMQ","title":"Install mqtt"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"RabbitMQ Plugins","title":"usage mqtt client"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"RabbitMQ는 기본적으로 guest 사용자로 접속할 수 있습니다 bash sudo rabbitmqctl list_users Listing users guest\tadministrator 보안을 위해 신규 사용자 추가 후 삭제하겠습니다","title":"Conclusion"},{"href":"/docs/kubernetes/extension","content":"Extend Kubernetes","title":"Extend Kubernetes"},{"href":"/docs/kubernetes/extension","content":"소프트웨어를 구성할 때 품질을 좌우하는 가장 큰 요소중 하나는 확장성이다 확장성이 좋은 소프트웨어는 새로운 기능을 추가하거나 기존 수정할 코드를 건드리지 않고 추가할 수 있다 필자는 프로젝트에 반영할 오픈소스를 선택할 다양한 경우의 POC를 진행하고 선택한다 더하여 프로젝트를 때에도 모든 수를 고려하려 노력하며 확장성을 고려한다 그렇다면 쿠버네티스는 어떻게 고려하고 있을까 알아보자 자세한 내용은 extend k8shttpskubernetesiokodocsconceptsextend-kubernetes을 참고하자 extension pointhttpskubernetesiokodocsconceptsextend-kubernetes","title":"%EA%B7%B8%EB%A6%BC%EC%9D%98-%ED%95%B5%EC%8B%AC) 에 따르면"},{"href":"/docs/kubernetes/extension","content":"EAB7B8EBA6BCEC9D98-ED95B5EC8BAC 에 따르면","title":"사용 예시"},{"href":"/docs/kubernetes/extension","content":"kubectl kube-apiserver kube-controller-manager kube-scheduler kubelet kube-proxy CNI 등 거의 모든 것이 확장 가능한 컴포넌트라고 한다 공부를 하며 느꼈지만 CRI CSI 여러 인터페이스들에 따라 확장성에 대한 심도있는 discussion 들이 이루어지고 있고 결과로서 엄청난 자유도를 가지고 있다","title":"제작 계획"},{"href":"/docs/kubernetes/extension","content":"마치 CLI 를 이용해 k8s 제어하는 것처럼 거의 뭐 매크로다 - CRD Workload Service Ingress ConfigMap Secret 등 리소스 배포 백업 및 복원 DB 스키마 manifest 변경등에 따른 사이드이펙트 핸들링예를 들어 변경에 pod rolling update 장애 시뮬레이션 가용성 테스트 내부 멤버 선출 절차없이 분산 애플리케이션의 리더를 선택","title":"Custom Resource Definition,"},{"href":"/docs/kubernetes/extension","content":"java를 사용하는거 아니면 go 를 python 언어는 자유다 당신은 자신만의 operator 만들 수 있다 writing-operatorhttpskubernetesiokodocsconceptsextend-kubernetesoperator","title":"Custom Controller"},{"href":"/docs/kubernetes/extension","content":"writing-operator를 참고하자","title":"Controller Flow"},{"href":"/docs/kubernetes/extension","content":"필자는 k8s 오픈소스 프로젝트httpsgithubcomkuberneteskubernetes의 주언어가 go 라는 것을 확인하고 client-librarieshttpskubernetesiokodocsreferenceusing-apiclient-libraries 의 client-gohttpsgithubcomkubernetesclient-go 를 사용하기로 결정했다 분석에 가장 쉽게 다가가는 길은 시작문서와 examplehttpsgithubcomkubernetesclient-gotreemasterexamples testhttpsgithubcomkubernetesclient-goblobmastertestingfake_testgo 분석하는 것이다","title":"L52-L59)를 살펴보자"},{"href":"/docs/kubernetes/extension","content":"Custom Resource Definition","title":"Custom Resource"},{"href":"/docs/kubernetes/extension","content":"쿠버네티스는 기본적으로 Pod Service ReplicaSet 등의 리소스를 제공한다 이러한 리소스들은 kubectl 을 통해 control생성 조회 수정 삭제etc할 수 있다 하지만 사용자는 자신의 정의하고 싶을 이때 사용하는 것이 Custom Resource Definition 이다","title":"Define Custom Resource"},{"href":"/docs/linux/operations-deployment/schedule","content":"Schedule tasks","title":"Schedule tasks"},{"href":"/docs/linux/operations-deployment/schedule","content":"서버의 Linux에서 일부 작업을 자동으로 실행해야 하는 경우가 있습니다 예를 들어 매주 일요일 오전 3시에 데이터베이스를 백업하는 생성할 수 이러한 설정하는 여러 방법을 살펴보겠습니다","title":"Cron"},{"href":"/docs/linux/operations-deployment/schedule","content":"daemon to execute scheduled commands Cron은 varspoolcron에서 etcpasswd의 계정 이름을 딴 crontab 파일을 검색합니다 Linux에서 작업을 예약하는 데 사용되는 시스템입니다 cron 유틸리티를 사용하는 것이며 매 1회 실행되는 반복 작업에 적합합니다 몇 분 시간 또는 특정 날짜에 또한 관리자는 자동화된 실행해야 하는 정확한 시간을 선택할 수도 있습니다","title":"every day"},{"href":"/docs/linux/operations-deployment/schedule","content":"Getting started","title":"every hour"},{"href":"/docs/linux/operations-deployment/schedule","content":"우리는 shellscriptsh을 스케줄링하고 싶다고 가정해 봅시다 주기적으로 실행되도록 싶다면 다음과 같이 하면 됩니다 sh","title":"every month"},{"href":"/docs/linux/operations-deployment/schedule","content":"sudo cp shellscriptsh etccrondaily","title":"Crontab"},{"href":"/docs/linux/operations-deployment/schedule","content":"sudo cp shellscriptsh etccronhourly","title":"m h dom mon dow command"},{"href":"/docs/linux/operations-deployment/schedule","content":"every month","title":"Crontab 예시"},{"href":"/docs/linux/operations-deployment/schedule","content":"sudo cp shellscriptsh etccronmonthly","title":"매일 오전 3시에 /home/user/backup.sh 스크립트를 실행하고 에러/표준 출력을 /var/log/zz 에 저장합니다.."},{"href":"/docs/linux/operations-deployment/schedule","content":"sudo cp shellscriptsh etccronweekly 데몬 확인을 잊지마세요 sh systemctl status cron","title":"Anacron"},{"href":"/docs/linux/operations-deployment/schedule","content":"Crontab은 cron 작업을 관리하는 데 사용되는 명령어입니다 사용자별로 관리추가 제거 편집하는 사용됩니다 다음과 같은 명령어를 사용하여 관리합니다 - crontab -e 파일을 편집합니다 -l 파일의 내용을 표시합니다 -r 삭제합니다 -u 다른 사용자의 jane jane의","title":"install"},{"href":"/docs/linux/operations-deployment/schedule","content":"Crontab 파일의 구조","title":"Anacrontab 파일의 구조"},{"href":"/docs/linux/operations-deployment/schedule","content":"Crontab 파일은 다음과 같은 구조를 가지고 있습니다 sh","title":"period delay job-identifier command"},{"href":"/docs/linux/operations-deployment/schedule","content":"m h dom mon dow command","title":"-T Test an anacrontab"},{"href":"/docs/linux/operations-deployment/schedule","content":"매일 오전 3시에 homeuserbackupsh 스크립트를 실행하고 에러표준 출력을 varlogzz 에 저장합니다","title":"atd 데몬이 실행 중인지 확인합니다."},{"href":"/docs/linux/operations-deployment/schedule","content":"0 3 homeuserbackupsh varlogzz 21","title":"atd 데몬이 실행 중이 아니라면 다음 명령어를 사용하여 시작합니다."},{"href":"/docs/linux/operations-deployment/schedule","content":"매주 수요일 매 15분마다 homeuserbackupsh 스크립트를 실행합니다","title":"atq"},{"href":"/docs/linux/operations-deployment/schedule","content":"15 3 homeuserbackupsh","title":"Verifying"},{"href":"/docs/linux/operations-deployment/schedule","content":"Anacron은 Crontab과 비슷하지만 보완적인 기능을 가지고 있습니다 예를 들어 Cron 작업이 매일 정오noon에 실행되도록 설정되어 있고 오후 1분에 컴퓨터 전원이 켜지면 Cron은 작업을 실행하지 않습니다 반면 반면에 Anacreon은 오늘의 확인하고 실행합니다 하지만 Cron과 달리 실행할 수 있는 최소 시간 간격이 1일입니다 etcanacrontab에서 관리합니다","title":"Anacron"},{"href":"/docs/linux/operations-deployment/schedule","content":"Setting up Anacron","title":"-n Run jobs with no delay, implies -s"},{"href":"/docs/linux/operations-deployment/schedule","content":"sudo dnf install anacron -y or apt-get apropos anacrontab 5 - configuration file for 8 runs commands periodically","title":"at daemon log filter"},{"href":"/docs/linux/operations-deployment/schedule","content":"Anacrontab 파일의 구조","title":"Systemd-cat"},{"href":"/docs/linux/operations-deployment/schedule","content":"Anacrontab 파일은 다음과 같은 구조를 가지고 있습니다 sh sudo vi etcanacrontab","title":"journalctl with follow error since 1 hour ago"},{"href":"/docs/linux/operations-deployment/schedule","content":"period delay job-identifier command","title":"Practice"},{"href":"/docs/linux/operations-deployment/schedule","content":"3 5 crondaily usrsbinbackupsh 3일마다 5초 지연 후 작업을 실행합니다 - period 실행할 주기일 delay 시간분 아나크론의 여러 작업들이 한번에 실행되는 것은 시스템에 부하를 줄 수 있습니다 따라서 시간을 설정할 job-identifier 작업 식별자name 로깅에 용이합니다 command 명령어 특정 키워드를 사용하여 주기 컬럼을 sh daily weekly 파일을 수정한 후에는 다음 명령어를 테스트할","title":"Remove all at jobs that exist for the user `bob`."},{"href":"/docs/linux/operations-deployment/schedule","content":"-T  Test an anacrontab","title":"Add an `anacron` job with the following specifications:"},{"href":"/docs/linux/operations-deployment/schedule","content":"sudo anacron -T","title":"Using `root` user, schedule below given command to run at `15:30 August 20 2024` by using `at` utility:"},{"href":"/docs/linux/operations-deployment/schedule","content":"우리는 Anacreon과 Cron이 둘 다 반복적이고 자동화된 작업에 초점을 맞추고 있다는 것을 보았습니다 그러나 때로는 한 번만 실행되는 작업이 필요합니다 예를 들어 2시간 후에 서버를 재부팅하고 싶다고 가정해 봅시다 이 경우에는 Cron을 사용할 수 없습니다 at 명령을 있습니다 bash 2pm echo my job produced this EOT 20 Fri Dec 8 155000 2023 - 작업 번호 예약된 날짜와 시간 원하는 시간을 입력하고 명령어를 입력하면 해당 시간에 명령어가 실행됩니다 자세한 내용은 man at을 참고하세요Examples 있음 20번 작업을 삭제하려면 다음 사용하면 됩니다 sh -r 확인하려면 -c","title":"Using `crontab` utility add a cron for user `root` to run below given command:"},{"href":"/docs/linux/operations-deployment/schedule","content":"Setting up at","title":"Add a cron for `bob` user to execute `sudo systemctl restart nginx` command on `Sundays every week at 6am and 11pm`"},{"href":"/docs/linux/operations-deployment/schedule","content":"Schedule tasks","title":"Schedule tasks"},{"href":"/docs/linux/operations-deployment/schedule","content":"서버의 Linux에서 일부 작업을 자동으로 실행해야 하는 경우가 있습니다 예를 들어 매주 일요일 오전 3시에 데이터베이스를 백업하는 생성할 수 이러한 설정하는 여러 방법을 살펴보겠습니다","title":"Cron"},{"href":"/docs/linux/operations-deployment/schedule","content":"daemon to execute scheduled commands Cron은 varspoolcron에서 etcpasswd의 계정 이름을 딴 crontab 파일을 검색합니다 Linux에서 작업을 예약하는 데 사용되는 시스템입니다 cron 유틸리티를 사용하는 것이며 매 1회 실행되는 반복 작업에 적합합니다 몇 분 시간 또는 특정 날짜에 또한 관리자는 자동화된 실행해야 하는 정확한 시간을 선택할 수도 있습니다","title":"every day"},{"href":"/docs/linux/operations-deployment/schedule","content":"Getting started","title":"every hour"},{"href":"/docs/linux/operations-deployment/schedule","content":"우리는 shellscriptsh을 스케줄링하고 싶다고 가정해 봅시다 주기적으로 실행되도록 싶다면 다음과 같이 하면 됩니다 sh","title":"every month"},{"href":"/docs/linux/operations-deployment/schedule","content":"sudo cp shellscriptsh etccrondaily","title":"Crontab"},{"href":"/docs/linux/operations-deployment/schedule","content":"sudo cp shellscriptsh etccronhourly","title":"m h dom mon dow command"},{"href":"/docs/linux/operations-deployment/schedule","content":"every month","title":"Crontab 예시"},{"href":"/docs/linux/operations-deployment/schedule","content":"sudo cp shellscriptsh etccronmonthly","title":"매일 오전 3시에 /home/user/backup.sh 스크립트를 실행하고 에러/표준 출력을 /var/log/zz 에 저장합니다.."},{"href":"/docs/linux/operations-deployment/schedule","content":"sudo cp shellscriptsh etccronweekly 데몬 확인을 잊지마세요 sh systemctl status cron","title":"Anacron"},{"href":"/docs/linux/operations-deployment/schedule","content":"Crontab은 cron 작업을 관리하는 데 사용되는 명령어입니다 사용자별로 관리추가 제거 편집하는 사용됩니다 다음과 같은 명령어를 사용하여 관리합니다 - crontab -e 파일을 편집합니다 -l 파일의 내용을 표시합니다 -r 삭제합니다 -u 다른 사용자의 jane jane의","title":"install"},{"href":"/docs/linux/operations-deployment/schedule","content":"Crontab 파일의 구조","title":"Anacrontab 파일의 구조"},{"href":"/docs/linux/operations-deployment/schedule","content":"Crontab 파일은 다음과 같은 구조를 가지고 있습니다 sh","title":"period delay job-identifier command"},{"href":"/docs/linux/operations-deployment/schedule","content":"m h dom mon dow command","title":"-T Test an anacrontab"},{"href":"/docs/linux/operations-deployment/schedule","content":"매일 오전 3시에 homeuserbackupsh 스크립트를 실행하고 에러표준 출력을 varlogzz 에 저장합니다","title":"atd 데몬이 실행 중인지 확인합니다."},{"href":"/docs/linux/operations-deployment/schedule","content":"0 3 homeuserbackupsh varlogzz 21","title":"atd 데몬이 실행 중이 아니라면 다음 명령어를 사용하여 시작합니다."},{"href":"/docs/linux/operations-deployment/schedule","content":"매주 수요일 매 15분마다 homeuserbackupsh 스크립트를 실행합니다","title":"atq"},{"href":"/docs/linux/operations-deployment/schedule","content":"15 3 homeuserbackupsh","title":"Verifying"},{"href":"/docs/linux/operations-deployment/schedule","content":"Anacron은 Crontab과 비슷하지만 보완적인 기능을 가지고 있습니다 예를 들어 Cron 작업이 매일 정오noon에 실행되도록 설정되어 있고 오후 1분에 컴퓨터 전원이 켜지면 Cron은 작업을 실행하지 않습니다 반면 반면에 Anacreon은 오늘의 확인하고 실행합니다 하지만 Cron과 달리 실행할 수 있는 최소 시간 간격이 1일입니다 etcanacrontab에서 관리합니다","title":"Anacron"},{"href":"/docs/linux/operations-deployment/schedule","content":"Setting up Anacron","title":"-n Run jobs with no delay, implies -s"},{"href":"/docs/linux/operations-deployment/schedule","content":"sudo dnf install anacron -y or apt-get apropos anacrontab 5 - configuration file for 8 runs commands periodically","title":"at daemon log filter"},{"href":"/docs/linux/operations-deployment/schedule","content":"Anacrontab 파일의 구조","title":"Systemd-cat"},{"href":"/docs/linux/operations-deployment/schedule","content":"Anacrontab 파일은 다음과 같은 구조를 가지고 있습니다 sh sudo vi etcanacrontab","title":"journalctl with follow error since 1 hour ago"},{"href":"/docs/linux/operations-deployment/schedule","content":"period delay job-identifier command","title":"Practice"},{"href":"/docs/linux/operations-deployment/schedule","content":"3 5 crondaily usrsbinbackupsh 3일마다 5초 지연 후 작업을 실행합니다 - period 실행할 주기일 delay 시간분 아나크론의 여러 작업들이 한번에 실행되는 것은 시스템에 부하를 줄 수 있습니다 따라서 시간을 설정할 job-identifier 작업 식별자name 로깅에 용이합니다 command 명령어 특정 키워드를 사용하여 주기 컬럼을 sh daily weekly 파일을 수정한 후에는 다음 명령어를 테스트할","title":"Remove all at jobs that exist for the user `bob`."},{"href":"/docs/linux/operations-deployment/schedule","content":"-T  Test an anacrontab","title":"Add an `anacron` job with the following specifications:"},{"href":"/docs/linux/operations-deployment/schedule","content":"sudo anacron -T","title":"Using `root` user, schedule below given command to run at `15:30 August 20 2024` by using `at` utility:"},{"href":"/docs/linux/operations-deployment/schedule","content":"우리는 Anacreon과 Cron이 둘 다 반복적이고 자동화된 작업에 초점을 맞추고 있다는 것을 보았습니다 그러나 때로는 한 번만 실행되는 작업이 필요합니다 예를 들어 2시간 후에 서버를 재부팅하고 싶다고 가정해 봅시다 이 경우에는 Cron을 사용할 수 없습니다 at 명령을 있습니다 bash 2pm echo my job produced this EOT 20 Fri Dec 8 155000 2023 - 작업 번호 예약된 날짜와 시간 원하는 시간을 입력하고 명령어를 입력하면 해당 시간에 명령어가 실행됩니다 자세한 내용은 man at을 참고하세요Examples 있음 20번 작업을 삭제하려면 다음 사용하면 됩니다 sh -r 확인하려면 -c","title":"Using `crontab` utility add a cron for user `root` to run below given command:"},{"href":"/docs/linux/operations-deployment/schedule","content":"Setting up at","title":"Add a cron for `bob` user to execute `sudo systemctl restart nginx` command on `Sundays every week at 6am and 11pm`"},{"href":"/docs/kubernetes/setup-kubeadm","content":"요새 많은 회사들이 k8s 도입하며 서비스를 관리하고 있다 이번에 팀용 사내서버를 새로 구축하게 되면서 우리도 k8s를 도입하고자 한다 Ubuntu 2004 LTS를 사용할 것이며 모든 서버에 Docker를 설치할 것이다 서버는 4대이며 각 16GB의 메모리와 500GB의 디스크를 가지고 안정적인 운영전까지 서버를 모두 필요없다 2대 기준으로 최소한의 리소스를 시작할 오픈소스들에 대해 알아보고 설치 및 설정을 진행해보자","title":"List of Open source"},{"href":"/docs/kubernetes/setup-kubeadm","content":"List of Open source","title":"What is Kubeadm?"},{"href":"/docs/kubernetes/setup-kubeadm","content":"- Kuberneteshttpskubernetesio Dockerhttpswwwdockercom Kubeadmhttpskubernetesiodocssetupproduction-environmenttoolskubeadminstall-kubeadm Calicohttpswwwprojectcalicoorg MetalLBhttpsmetallbuniversetf Helmshttpshelmsh Keycloakhttpswwwkeycloakorg Prometheushttpsprometheusio Grafanahttpsgrafanacom","title":"What is Calico?"},{"href":"/docs/kubernetes/setup-kubeadm","content":"What is Kubeadm","title":"What is MetalLB?"},{"href":"/docs/kubernetes/setup-kubeadm","content":"kubeadm은 Kubernetes 클러스터를 빠르고 쉽게 구축할 수 있도록 도와주는 공식 유틸입니다","title":"What is Helms?"},{"href":"/docs/kubernetes/setup-kubeadm","content":"What is Calico","title":"What is Keycloak?"},{"href":"/docs/kubernetes/setup-kubeadm","content":"Calico는 Kubernetes 클러스터의 네트워크 정책을 관리하는 오픈소스 솔루션입니다 CNI를 책임질 친구입니다","title":"What is Prometheus?"},{"href":"/docs/kubernetes/setup-kubeadm","content":"What is MetalLB","title":"What is Grafana?"},{"href":"/docs/kubernetes/setup-kubeadm","content":"MetalLB는 Kubernetes 클러스터에 로드밸런서 서비스를 제공하는 컨트롤러입니다 ExternalIPs LoadBalancer 서비스 유형을 사용하여 외부로 노출할 수 있습니다 보통 토이프로젝트는 NodePort를 노출합니다 실무에서 사용하는 방식은 아니기 때문에 이번에는 MetalLB를 것입니다","title":"Setup"},{"href":"/docs/kubernetes/setup-kubeadm","content":"What is Helms","title":"기존 클러스터 제거"},{"href":"/docs/kubernetes/setup-kubeadm","content":"Helm은 Kubernetes의 패키지 관리자입니다 기존 Nodejs 의 npm Python의 pip Java의 maven과 같은 역할을 합니다 서버에 한번 설치된 어플리케이션을 업데이트하거나 삭제할 때 매번 명령어를 입력하는 것은 번거롭습니다 이러한 문제를 해결하기 위해 chart라는 단위로 관리합니다 chart를 사용하여 Kubernetes 애플리케이션을 설치 업그레이드 수 있습니다","title":"클러스터 설치"},{"href":"/docs/kubernetes/setup-kubeadm","content":"What is Keycloak","title":"서버 네트워크 구성"},{"href":"/docs/kubernetes/setup-kubeadm","content":"Keycloak은 Red Hat에서 만든 오픈소스 싱글 사인온SSO 솔루션입니다 인증 및 권한 부여를 위한 기능을 제공하며 OAuth 20 OpenID Connect SAML 20을 지원합니다 다양한 클라이언트 언어를 지원하며 우리는 어플리케이션의 로그인을 통합하기 위해 Keycloak을 사용할 것입니다 예로 우리팀은 사내 프레임워크 스텝업 서비스 팀별 등 서비스를 운영 하고있습니다 이러한 서비스들은 각각의 로그인 가지고 있습니다 한 유저가 여러 때 각 서비스마다 계정을 생성하고 해야하는 번거로움이 문제를 해결하기 사용하여 통합할","title":"kubelet kubeadm kubectl 세팅에 사용된 스크립트(CentOS)"},{"href":"/docs/kubernetes/setup-kubeadm","content":"What is Prometheus","title":"Install CRI"},{"href":"/docs/kubernetes/setup-kubeadm","content":"오픈소스 모니터링 솔루션입니다 다양한 서버 서비스 어플리케이션의 상태를 할 수 있습니다 클라이언트 라이브러리를 제공하며 언어로 작성된 어플리케이션을 Exporter를","title":"https://kubernetes.io/docs/setup/production-environment/container-runtimes/"},{"href":"/docs/kubernetes/setup-kubeadm","content":"What is Grafana","title":"install cri-o using dnf"},{"href":"/docs/kubernetes/setup-kubeadm","content":"오픈소스 대시보드 솔루션입니다 다양한 데이터 소스를 지원하며 대시보드로 시각화 할 수 있습니다","title":"kubelet kubeadm kubectl 세팅에 사용된 스크립트(Ubuntu 20.04)"},{"href":"/docs/kubernetes/setup-kubeadm","content":"bash sudo kubeadm reset apt-get purge kubectl kubelet kubernetes-cni cri-o kube autoremove rm -rf etckubernetes varlibetcd kub 가 들어간 파일이나 디렉토리를 확인 find -name","title":"구글 클라우드의 공개 사이닝 키를 다운로드 한다."},{"href":"/docs/kubernetes/setup-kubeadm","content":"아래 문서에 따라 설치합니다 1 공식문서 - install kubeadmhttpskubernetesiokodocssetupproduction-environmenttoolskubeadminstall-kubeadm 2 create clusterhttpskubernetesiodocssetupproduction-environmenttoolskubeadmcreate-cluster-kubeadm","title":"쿠버네티스 apt 리포지터리를 추가한다."},{"href":"/docs/kubernetes/setup-kubeadm","content":"Kubernetes는 클러스터의 노드 간에 통신하기 위해 네트워크를 사용합니다 따라서 서버의 네트워크 설정을 구성해야 합니다 가용 IP 주소 범위는 1921680100 103 입니다 마스터 노드로 사용할 100번 ifconfig 결과를 살펴보면 여럿 인터페이스를 가지고 있습니다 br- 브릿지 인터페이스이며 다른 인터페이스 간의 트래픽 전송을 지원합니다 cali Calico calico fabric의 일부이며 서버 통신을 사용됩니다 docker Docker 컨테이너의 네트워킹을 관리하는 가상 인터페이스입니다 enp2s0f0 물리적인 lo 로컬 루프백 내부 통신에 veth 인터페이스는 이더넷","title":"https://velog.io/@dldbwls492/unable-to-locate-package-kubeadm-kubelet-kubectl-kubernetes-cni-error"},{"href":"/docs/kubernetes/setup-kubeadm","content":"kubelet kubeadm kubectl 세팅에 사용된 스크립트CentOS","title":"echo 'deb [signed-by=/etc/apt/keyrings/kubernetes-apt-keyring.gpg] https://pkgs.k8s.io/core:/stable:/v1.28/deb/ /' | sudo tee /etc/apt/sources.list.d/kubernetes.list"},{"href":"/docs/kubernetes/setup-kubeadm","content":"CentOS 버전 CRI 버전이 다를 수 있습니다 Install CRI-Ohttpsgithubcomcri-ocri-oblobmaininstallmd CRI-Versionshttpsdownloadopensuseorgrepositoriesdevelkubiclibcontainersstablecri-o 를 참조하여 아래 스크립트를 완성하세요","title":"apt 패키지 색인을 업데이트하고, kubelet, kubeadm, kubectl을 설치하고 해당 버전을 고정한다."},{"href":"/docs/kubernetes/setup-kubeadm","content":"Install CRI","title":"보류 상태로 설정된 패키지는 자동 업데이트되지 않습니다."},{"href":"/docs/kubernetes/setup-kubeadm","content":"httpskubernetesiodocssetupproduction-environmentcontainer-runtimes","title":"Create Cluster"},{"href":"/docs/kubernetes/setup-kubeadm","content":"install cri-o using dnf","title":"hostname 설정"},{"href":"/docs/kubernetes/setup-kubeadm","content":"sudo dnf update -y upgrade config-manager --set-enabled crb install epel-release export LINK_LIB_CONTAINERShttpsdownloadopensuseorgrepositoriesdevelkubiclibcontainersstableCentOS_7develkubiclibcontainersstablerepo LINK_CRI_Ohttpsdownloadopensuseorgrepositoriesdevelkubiclibcontainersstablecri-o124CentOS_7develkubiclibcontainersstablecri-o124repo curl -L -o etcyumreposddevelkubiclibcontainersstablerepo LINK_LIB_CONTAINERS etcyumreposddevelkubiclibcontainersstablecri-o1240repo LINK_CRI_O cri-o systemctl start crio enable status Log에 아래와 같이 원하는 버전과 CentOS 버전이 나와야합니다 develkubiclibcontainersstablecri-o124 CentOS_7 38 kBs 139 kB 0003 Stable Releases of Upstream githubcomcontainers packages crioservice - Container Runtime Interface for OCI CRI-O Loaded loaded usrlibsystemdsystemcrioservice enabled vendor preset disabled Active active running since Fri 2024-04-12 111913 KST 15s ago","title":"disable swap"},{"href":"/docs/kubernetes/setup-kubeadm","content":"kubelet kubeadm kubectl 세팅에 사용된 스크립트Ubuntu 2004","title":"/' /etc/fstab"},{"href":"/docs/kubernetes/setup-kubeadm","content":"CRI는 container dhttpsgithubcomcontainerdcontainerdblobmaindocsgetting-startedmd를 미리 설치해 사용했습니다 bash","title":"disable firewall"},{"href":"/docs/kubernetes/setup-kubeadm","content":"httpskubernetesiodocssetupproduction-environmenttoolskubeadminstall-kubeadm","title":"Set SELinux to permissive mode:"},{"href":"/docs/kubernetes/setup-kubeadm","content":"apt 패키지 색인을 업데이트하고 쿠버네티스 리포지터리를 사용하는 데 필요한 패키지를 설치한다","title":"sysctl 구성 및 커널 모드 활성화"},{"href":"/docs/kubernetes/setup-kubeadm","content":"sudo apt-get update","title":"add k8s repository"},{"href":"/docs/kubernetes/setup-kubeadm","content":"apt-transport-https may be a dummy package if so you can skip that","title":"Install kubelet, kubeadm and kubectl (and enable epel-release)"},{"href":"/docs/kubernetes/setup-kubeadm","content":"sudo apt-get install -y apt-transport-https ca-certificates curl gpg","title":"install control-plane node"},{"href":"/docs/kubernetes/setup-kubeadm","content":"구글 클라우드의 공개 사이닝 키를 다운로드 한다","title":"이미지를 pull 하는 과정에서 에러가 발생하는경우"},{"href":"/docs/kubernetes/setup-kubeadm","content":"Download the public signing key for Kubernetes package repositories The same is used all so you can disregard version in URL","title":"Set up pod network"},{"href":"/docs/kubernetes/setup-kubeadm","content":"sudo curl -fsSL httpspkgsk8siocorestablev128debReleasekey gpg --dearmor -o etcaptkeyringskubernetes-apt-keyringgpg -s httpspackagescloudgooglecomaptdocapt-keygpg apt-key add -","title":"https://docs.tigera.io/calico/latest/reference/installation/api"},{"href":"/docs/kubernetes/setup-kubeadm","content":"쿠버네티스 apt 리포지터리를 추가한다","title":"Check the status of control-plane node"},{"href":"/docs/kubernetes/setup-kubeadm","content":"This overwrites any existing configuration in etcaptsourceslistdkuberneteslist","title":"해결방법"},{"href":"/docs/kubernetes/setup-kubeadm","content":"httpsvelogiodldbwls492unable-to-locate-package-kubeadm-kubelet-kubectl-kubernetes-cni-error","title":"initializing-your-control-plane-node](https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/create-cluster-kubeadm/initializing-your-control-plane-node)"},{"href":"/docs/linux/storage-management/LVM","content":"What is LVM","title":"What is LVM?"},{"href":"/docs/linux/storage-management/LVM","content":"Logical Volume을 효율적이고 유연하게 관리하기 위한 커널의 한 부분이자 프로그램 기존방식이 파일시스템을 블록 장치에 직접 접근해서 읽고 쓰기를 했다면 LVM은 파일시스템이 LVM이 만든 가상의 하게 됩니다 사용전 좋은 접근방식은 man lvm을 통해 어떤 명령어를 사용할 수 있는지 확인하는 것입니다 또한 명령어들이 vg pv같이 접두어를 가지기 때문에 용도에 맞게 자동완성을 활용해보세요 bash lv tab lvchange lvcreate lvextend lvmconfig lvmdump lvmsadc lvreduce lvrename lvs lvconvert lvdisplay lvm lvmdiskscan lvmpolld lvmsar lvremove lvresize lvscan pv pvchange pvck pvcreate pvdisplay pvmove pvremove pvresize pvs pvscan vgcfgbackup vgchange vgconvert vgdisplay vgextend vgimportclone vgmknodes vgremove vgs vgsplit vgcfgrestore vgck vgcreate vgexport vgimport vgmerge vgreduce vgrename vgscan","title":"파티션과의 차이점"},{"href":"/docs/linux/storage-management/LVM","content":"LVM Logical Volume Manager와 Partition은 리눅스에서 스토리지를 관리하는 두 가지 주요 방법입니다 유연성 LVM은 파티션보다 훨씬 유연합니다 LVM을 사용하면 물리적 볼륨을 그룹화하여 논리적 생성할 수 있습니다 이 볼륨은 필요에 따라 쉽게 확장하거나 축소할 반면에 파티션은 일단 생성되면 크기를 변경하는 것이 어렵습니다 스냅샷 기능을 제공합니다 이는 시스템의 특정 시점의 상태를 캡처하고 필요한 경우 그 상태로 롤백할 있게 해줍니다 이러한 제공하지 않습니다 스토리지 관리 여러 디스크를 하나의 볼륨으로 결합할 이렇게 하면 디스크의 큰 풀로 관리할 각 개별적으로 관리해야 합니다 복잡성 복잡합니다 설정하고 관리하기 위해서는 추가적인 학습이 필요합니다 비교적 간단하고 직관적입니다 차이점들 때문에 대규모 서버 환경에서 데 주로 사용되며 간단한 요구 사항이 있는 경우에 사용됩니다","title":"Physical Volume (PV)"},{"href":"/docs/linux/storage-management/LVM","content":"bash sudo apt-get install lvm2 dnf","title":"create physical volume"},{"href":"/docs/linux/storage-management/LVM","content":"Physical Volume PV","title":"display physical volume"},{"href":"/docs/linux/storage-management/LVM","content":"물리적인 디스크나 파티션을 의미합니다 즉 블록 장치 전체 또는 그 장치를 이루고 있는 파티션들을 LVM에서 사용할 수 있게 변환하는 것입니다 예를 들어 devsda1 devsda2 등의 스토리지를 LVM으로 쓰기위해 PV로 초기화하게 됩니다 PV는 일정한 크기의 PEPhysical Extent들로 구성이 bash","title":"remove physical volume"},{"href":"/docs/linux/storage-management/LVM","content":"what disk and partition are available","title":"Physical Extent (PE)"},{"href":"/docs/linux/storage-management/LVM","content":"sudo lvmdiskscan","title":"Volume Group (VG)"},{"href":"/docs/linux/storage-management/LVM","content":"create physical volume","title":"create volume group"},{"href":"/docs/linux/storage-management/LVM","content":"sudo pvcreate devsdc devsdd Physical volume successfully created pvs 명령어는 logical manager에 의해 사용중인 논리적 볼륨양을 나타냅니다 우린 이제 LVM에서 사용할 수 있게 된 두개의 물리적 볼륨을 가지게 되었습니다 bash PV VG Fmt Attr PSize PFree lvm2 --- 100g","title":"PV LV SN Attr  VSize VFree"},{"href":"/docs/linux/storage-management/LVM","content":"display physical volume","title":"remove pv from vg"},{"href":"/docs/linux/storage-management/LVM","content":"sudo pvscan pvdisplay devsdc is a new physical volume of 100 GiB --- NEW Physical PV Name VG Size Allocatable NO PE 400 MiB Total 255 Free Allocated 0 UUID 3Z","title":"Logical Volume (LV)"},{"href":"/docs/linux/storage-management/LVM","content":"remove physical volume","title":"create logical volume from group as 50GB"},{"href":"/docs/linux/storage-management/LVM","content":"sudo pvremove devsdc","title":"$ sudo lvcreate -L 50G --name partition1 my_volume"},{"href":"/docs/linux/storage-management/LVM","content":"Physical Extent PE","title":"PV LV SN Attr  VSize VFree"},{"href":"/docs/linux/storage-management/LVM","content":"물리적 볼륨을 논리적 볼륨으로 나누는 단위입니다 즉 블록 장치 전체 또는 그 장치를 이루고 있는 파티션들을 LVM에서 사용할 수 있게 변환하는 것입니다 예를 들어 devsda1 devsda2 등의 스토리지를 LVM으로 쓰기위해 PV로 초기화하게 됩니다 PV는 일정한 크기의 PEPhysical Extent들로 구성이 --- 다음으로 이 PV PVE 용량을 사용하는 방법을 알려주어야 합니다","title":"display logical volume"},{"href":"/docs/linux/storage-management/LVM","content":"Volume Group VG","title":"create second logical volume from group as 30GB"},{"href":"/docs/linux/storage-management/LVM","content":"하나 이상의 물리적 볼륨을 그룹화한 것입니다 즉 PV들의 집합으로 LV를 할당할 수 있는 공간입니다 PV들로 초기화된 장치들은 VG로 통합되게 됩니다 사용자는 VG안에서 원하는대로 공간을 쪼개서 LV로 만들 있습니다 bash","title":"PV LV SN Attr  VSize VFree"},{"href":"/docs/linux/storage-management/LVM","content":"create volume group","title":"extend logical volume"},{"href":"/docs/linux/storage-management/LVM","content":"sudo vgcreate my_volume devsdc devsdd Volume group successfully created 우린 VG를 가상 디스크로 생삭 할 수 있습니다 또한 이는 여러 PV로 구성될 있지요 sdc sdd 각각이 50GB 크기로 경우 my_volume은 100GB의 크기를 가지게 됩니다 수동으로 디스크를 추가할때 서버를 재부팅 하지 않아도 된다 부터 이점을 제공해줍니다 만약 my_volume이 디스크가 부족한경우 다른 디스크50G를 추가하고 vgextend 명령어로 추가할 bash devsde vgs VG","title":"remove logical volume"},{"href":"/docs/linux/storage-management/LVM","content":"PV LV SN Attr  VSize VFree","title":"resize logical volume as 100% free space"},{"href":"/docs/linux/storage-management/LVM","content":"my_volume 3 0 wz--n- 15000g 5000g sudo vgscan","title":"$ sudo lvresize -L 50G /dev/my_volume/partition2"},{"href":"/docs/linux/storage-management/LVM","content":"remove pv from vg","title":"display logical volume"},{"href":"/docs/linux/storage-management/LVM","content":"sudo vgreduce my_volume devsde pvremove","title":"create xfs file system"},{"href":"/docs/linux/storage-management/LVM","content":"Logical Volume LV","title":"mount"},{"href":"/docs/linux/storage-management/LVM","content":"논리적인 볼륨을 의미합니다 이는 논리적 볼륨 그룹에 속해 있습니다 사용자가 최종적으로 다루게 되는 스토리지입니다 생성된 LV는 파일 시스템 및 애플리케이션Database 등으로 사용됩니다 위에서도 언급했듯이 LV를 구성하는 LE들은 PV의 PE들과 맵핑하며 존재하게 됩니다 bash","title":"resize file system"},{"href":"/docs/linux/storage-management/LVM","content":"create logical volume from group as 50GB","title":"Logical Extent (LE)"},{"href":"/docs/linux/storage-management/LVM","content":"sudo lvcreate -L 50G --name partition1 my_volume","title":"Install lvm on this system."},{"href":"/docs/linux/storage-management/LVM","content":"sudo lvcreate --size 50G --name partition1 my_volume vgs VG","title":"check os"},{"href":"/docs/linux/storage-management/LVM","content":"PV LV SN Attr  VSize VFree","title":"if ubuntu"},{"href":"/docs/linux/storage-management/LVM","content":"my_volume 3 1 0 wz--n- 15000g 10000g","title":"if centos"},{"href":"/docs/linux/storage-management/LVM","content":"display logical volume","title":"Add these four disks as PVs (Physical Volumes) to LVM: `/dev/vdb`, `/dev/vdc`, `/dev/vdd` and `/dev/vde`."},{"href":"/docs/linux/storage-management/LVM","content":"sudo lvs LV VG Attr LSize Pool Origin Data Meta Move Log CpySync Convert partition1 my_volume -wi-a----- 5000g - 50GB의 크기로 partition1이 생성되었습니다 my_volume은 150GB의 크기를 가지고 있으며 100GB의 공간이 남아있습니다 partition1은 my_volume에 속해있으며 있습니다 bash","title":"search command"},{"href":"/docs/linux/storage-management/LVM","content":"create second logical volume from group as 30GB","title":"search disk"},{"href":"/docs/linux/storage-management/LVM","content":"sudo lvcreate --size 30G --name partition2 my_volume lvs LV VG Attr LSize Pool Origin Data Meta Move Log CpySync Convert partition1 -wi-a----- 5000g 3000g vgs","title":"create physical volume"},{"href":"/docs/linux/storage-management/LVM","content":"PV LV SN Attr  VSize VFree","title":"Remove the /dev/vde physical volume from LVM."},{"href":"/docs/linux/storage-management/LVM","content":"my_volume 3 2 0 wz--n- 15000g 7000g","title":"Create a Volume Group (VG) named volume1. It should be created on these two Physical Volumes: /dev/vdb and /dev/vdc."},{"href":"/docs/linux/storage-management/LVM","content":"extend logical volume","title":"create vg"},{"href":"/docs/linux/storage-management/LVM","content":"sudo lvextend -L 20G devmy_volumepartition2","title":"Add /dev/vdd to this volume group so that we gain more usable storage space."},{"href":"/docs/linux/storage-management/LVM","content":"remove logical volume","title":"PV LV SN Attr  VSize VFree"},{"href":"/docs/linux/storage-management/LVM","content":"sudo lvremove devmy_volumepartition1","title":"extends vg"},{"href":"/docs/linux/storage-management/LVM","content":"resize logical volume as 100 free space","title":"PV LV SN Attr  VSize VFree"},{"href":"/docs/linux/storage-management/LVM","content":"sudo lvresize -L 50G devmy_volumepartition2","title":"Create a Logical Volume (LV). It should have these properties:"},{"href":"/docs/linux/storage-management/LVM","content":"sudo lvresize -l 100VG devmy_volumepartition2","title":"Resize the Logical Volume called `smalldata` to `1 Gigabyte`. This logical volume resides on group `volume1`."},{"href":"/docs/linux/storage-management/LVM","content":"display logical volume","title":"Create an `XFS` filesystem on the logical volume called smalldata."},{"href":"/docs/linux/storage-management/LVM","content":"sudo lvscan lvdisplay 직관적이고 유연하게 스토리지를 관리할 수 있습니다 위 정보로 xfs 파일시스템을 생성하고 마운트하면 됩니다 bash","title":"Destroy/Remove the Logical Volume called `smalldata`."},{"href":"/docs/linux/storage-management/LVM","content":"create xfs file system","title":"list of file system"},{"href":"/docs/linux/storage-management/LVM","content":"sudo mkfsxfs devmy_volumepartition2","title":"remove logical volume"},{"href":"/docs/linux/storage-management/LVM","content":"What is LVM","title":"What is LVM?"},{"href":"/docs/linux/storage-management/LVM","content":"Logical Volume을 효율적이고 유연하게 관리하기 위한 커널의 한 부분이자 프로그램 기존방식이 파일시스템을 블록 장치에 직접 접근해서 읽고 쓰기를 했다면 LVM은 파일시스템이 LVM이 만든 가상의 하게 됩니다 사용전 좋은 접근방식은 man lvm을 통해 어떤 명령어를 사용할 수 있는지 확인하는 것입니다 또한 명령어들이 vg pv같이 접두어를 가지기 때문에 용도에 맞게 자동완성을 활용해보세요 bash lv tab lvchange lvcreate lvextend lvmconfig lvmdump lvmsadc lvreduce lvrename lvs lvconvert lvdisplay lvm lvmdiskscan lvmpolld lvmsar lvremove lvresize lvscan pv pvchange pvck pvcreate pvdisplay pvmove pvremove pvresize pvs pvscan vgcfgbackup vgchange vgconvert vgdisplay vgextend vgimportclone vgmknodes vgremove vgs vgsplit vgcfgrestore vgck vgcreate vgexport vgimport vgmerge vgreduce vgrename vgscan","title":"파티션과의 차이점"},{"href":"/docs/linux/storage-management/LVM","content":"LVM Logical Volume Manager와 Partition은 리눅스에서 스토리지를 관리하는 두 가지 주요 방법입니다 유연성 LVM은 파티션보다 훨씬 유연합니다 LVM을 사용하면 물리적 볼륨을 그룹화하여 논리적 생성할 수 있습니다 이 볼륨은 필요에 따라 쉽게 확장하거나 축소할 반면에 파티션은 일단 생성되면 크기를 변경하는 것이 어렵습니다 스냅샷 기능을 제공합니다 이는 시스템의 특정 시점의 상태를 캡처하고 필요한 경우 그 상태로 롤백할 있게 해줍니다 이러한 제공하지 않습니다 스토리지 관리 여러 디스크를 하나의 볼륨으로 결합할 이렇게 하면 디스크의 큰 풀로 관리할 각 개별적으로 관리해야 합니다 복잡성 복잡합니다 설정하고 관리하기 위해서는 추가적인 학습이 필요합니다 비교적 간단하고 직관적입니다 차이점들 때문에 대규모 서버 환경에서 데 주로 사용되며 간단한 요구 사항이 있는 경우에 사용됩니다","title":"Physical Volume (PV)"},{"href":"/docs/linux/storage-management/LVM","content":"bash sudo apt-get install lvm2 dnf","title":"create physical volume"},{"href":"/docs/linux/storage-management/LVM","content":"Physical Volume PV","title":"display physical volume"},{"href":"/docs/linux/storage-management/LVM","content":"물리적인 디스크나 파티션을 의미합니다 즉 블록 장치 전체 또는 그 장치를 이루고 있는 파티션들을 LVM에서 사용할 수 있게 변환하는 것입니다 예를 들어 devsda1 devsda2 등의 스토리지를 LVM으로 쓰기위해 PV로 초기화하게 됩니다 PV는 일정한 크기의 PEPhysical Extent들로 구성이 bash","title":"remove physical volume"},{"href":"/docs/linux/storage-management/LVM","content":"what disk and partition are available","title":"Physical Extent (PE)"},{"href":"/docs/linux/storage-management/LVM","content":"sudo lvmdiskscan","title":"Volume Group (VG)"},{"href":"/docs/linux/storage-management/LVM","content":"create physical volume","title":"create volume group"},{"href":"/docs/linux/storage-management/LVM","content":"sudo pvcreate devsdc devsdd Physical volume successfully created pvs 명령어는 logical manager에 의해 사용중인 논리적 볼륨양을 나타냅니다 우린 이제 LVM에서 사용할 수 있게 된 두개의 물리적 볼륨을 가지게 되었습니다 bash PV VG Fmt Attr PSize PFree lvm2 --- 100g","title":"PV LV SN Attr  VSize VFree"},{"href":"/docs/linux/storage-management/LVM","content":"display physical volume","title":"remove pv from vg"},{"href":"/docs/linux/storage-management/LVM","content":"sudo pvscan pvdisplay devsdc is a new physical volume of 100 GiB --- NEW Physical PV Name VG Size Allocatable NO PE 400 MiB Total 255 Free Allocated 0 UUID 3Z","title":"Logical Volume (LV)"},{"href":"/docs/linux/storage-management/LVM","content":"remove physical volume","title":"create logical volume from group as 50GB"},{"href":"/docs/linux/storage-management/LVM","content":"sudo pvremove devsdc","title":"$ sudo lvcreate -L 50G --name partition1 my_volume"},{"href":"/docs/linux/storage-management/LVM","content":"Physical Extent PE","title":"PV LV SN Attr  VSize VFree"},{"href":"/docs/linux/storage-management/LVM","content":"물리적 볼륨을 논리적 볼륨으로 나누는 단위입니다 즉 블록 장치 전체 또는 그 장치를 이루고 있는 파티션들을 LVM에서 사용할 수 있게 변환하는 것입니다 예를 들어 devsda1 devsda2 등의 스토리지를 LVM으로 쓰기위해 PV로 초기화하게 됩니다 PV는 일정한 크기의 PEPhysical Extent들로 구성이 --- 다음으로 이 PV PVE 용량을 사용하는 방법을 알려주어야 합니다","title":"display logical volume"},{"href":"/docs/linux/storage-management/LVM","content":"Volume Group VG","title":"create second logical volume from group as 30GB"},{"href":"/docs/linux/storage-management/LVM","content":"하나 이상의 물리적 볼륨을 그룹화한 것입니다 즉 PV들의 집합으로 LV를 할당할 수 있는 공간입니다 PV들로 초기화된 장치들은 VG로 통합되게 됩니다 사용자는 VG안에서 원하는대로 공간을 쪼개서 LV로 만들 있습니다 bash","title":"PV LV SN Attr  VSize VFree"},{"href":"/docs/linux/storage-management/LVM","content":"create volume group","title":"extend logical volume"},{"href":"/docs/linux/storage-management/LVM","content":"sudo vgcreate my_volume devsdc devsdd Volume group successfully created 우린 VG를 가상 디스크로 생삭 할 수 있습니다 또한 이는 여러 PV로 구성될 있지요 sdc sdd 각각이 50GB 크기로 경우 my_volume은 100GB의 크기를 가지게 됩니다 수동으로 디스크를 추가할때 서버를 재부팅 하지 않아도 된다 부터 이점을 제공해줍니다 만약 my_volume이 디스크가 부족한경우 다른 디스크50G를 추가하고 vgextend 명령어로 추가할 bash devsde vgs VG","title":"remove logical volume"},{"href":"/docs/linux/storage-management/LVM","content":"PV LV SN Attr  VSize VFree","title":"resize logical volume as 100% free space"},{"href":"/docs/linux/storage-management/LVM","content":"my_volume 3 0 wz--n- 15000g 5000g sudo vgscan","title":"$ sudo lvresize -L 50G /dev/my_volume/partition2"},{"href":"/docs/linux/storage-management/LVM","content":"remove pv from vg","title":"display logical volume"},{"href":"/docs/linux/storage-management/LVM","content":"sudo vgreduce my_volume devsde pvremove","title":"create xfs file system"},{"href":"/docs/linux/storage-management/LVM","content":"Logical Volume LV","title":"mount"},{"href":"/docs/linux/storage-management/LVM","content":"논리적인 볼륨을 의미합니다 이는 논리적 볼륨 그룹에 속해 있습니다 사용자가 최종적으로 다루게 되는 스토리지입니다 생성된 LV는 파일 시스템 및 애플리케이션Database 등으로 사용됩니다 위에서도 언급했듯이 LV를 구성하는 LE들은 PV의 PE들과 맵핑하며 존재하게 됩니다 bash","title":"resize file system"},{"href":"/docs/linux/storage-management/LVM","content":"create logical volume from group as 50GB","title":"Logical Extent (LE)"},{"href":"/docs/linux/storage-management/LVM","content":"sudo lvcreate -L 50G --name partition1 my_volume","title":"Install lvm on this system."},{"href":"/docs/linux/storage-management/LVM","content":"sudo lvcreate --size 50G --name partition1 my_volume vgs VG","title":"check os"},{"href":"/docs/linux/storage-management/LVM","content":"PV LV SN Attr  VSize VFree","title":"if ubuntu"},{"href":"/docs/linux/storage-management/LVM","content":"my_volume 3 1 0 wz--n- 15000g 10000g","title":"if centos"},{"href":"/docs/linux/storage-management/LVM","content":"display logical volume","title":"Add these four disks as PVs (Physical Volumes) to LVM: `/dev/vdb`, `/dev/vdc`, `/dev/vdd` and `/dev/vde`."},{"href":"/docs/linux/storage-management/LVM","content":"sudo lvs LV VG Attr LSize Pool Origin Data Meta Move Log CpySync Convert partition1 my_volume -wi-a----- 5000g - 50GB의 크기로 partition1이 생성되었습니다 my_volume은 150GB의 크기를 가지고 있으며 100GB의 공간이 남아있습니다 partition1은 my_volume에 속해있으며 있습니다 bash","title":"search command"},{"href":"/docs/linux/storage-management/LVM","content":"create second logical volume from group as 30GB","title":"search disk"},{"href":"/docs/linux/storage-management/LVM","content":"sudo lvcreate --size 30G --name partition2 my_volume lvs LV VG Attr LSize Pool Origin Data Meta Move Log CpySync Convert partition1 -wi-a----- 5000g 3000g vgs","title":"create physical volume"},{"href":"/docs/linux/storage-management/LVM","content":"PV LV SN Attr  VSize VFree","title":"Remove the /dev/vde physical volume from LVM."},{"href":"/docs/linux/storage-management/LVM","content":"my_volume 3 2 0 wz--n- 15000g 7000g","title":"Create a Volume Group (VG) named volume1. It should be created on these two Physical Volumes: /dev/vdb and /dev/vdc."},{"href":"/docs/linux/storage-management/LVM","content":"extend logical volume","title":"create vg"},{"href":"/docs/linux/storage-management/LVM","content":"sudo lvextend -L 20G devmy_volumepartition2","title":"Add /dev/vdd to this volume group so that we gain more usable storage space."},{"href":"/docs/linux/storage-management/LVM","content":"remove logical volume","title":"PV LV SN Attr  VSize VFree"},{"href":"/docs/linux/storage-management/LVM","content":"sudo lvremove devmy_volumepartition1","title":"extends vg"},{"href":"/docs/linux/storage-management/LVM","content":"resize logical volume as 100 free space","title":"PV LV SN Attr  VSize VFree"},{"href":"/docs/linux/storage-management/LVM","content":"sudo lvresize -L 50G devmy_volumepartition2","title":"Create a Logical Volume (LV). It should have these properties:"},{"href":"/docs/linux/storage-management/LVM","content":"sudo lvresize -l 100VG devmy_volumepartition2","title":"Resize the Logical Volume called `smalldata` to `1 Gigabyte`. This logical volume resides on group `volume1`."},{"href":"/docs/linux/storage-management/LVM","content":"display logical volume","title":"Create an `XFS` filesystem on the logical volume called smalldata."},{"href":"/docs/linux/storage-management/LVM","content":"sudo lvscan lvdisplay 직관적이고 유연하게 스토리지를 관리할 수 있습니다 위 정보로 xfs 파일시스템을 생성하고 마운트하면 됩니다 bash","title":"Destroy/Remove the Logical Volume called `smalldata`."},{"href":"/docs/linux/storage-management/LVM","content":"create xfs file system","title":"list of file system"},{"href":"/docs/linux/storage-management/LVM","content":"sudo mkfsxfs devmy_volumepartition2","title":"remove logical volume"},{"href":"/docs/kubernetes/storage-NFS","content":"NFS in K8s with Auto FS","title":"NFS in K8s with Auto FS"},{"href":"/docs/kubernetes/storage-NFS","content":"k8s 의 storage class를 왜 써야할까 - persistent volume을 수동으로 생성하지 않는다 volume claim 생성시 class 필드에 해당하는 provider 타입에 맞게 자동으로 생성한다 는 CSIContainer Storage Interface를 준수 하는 드라이버를 provisioner 로 지정하여 사용한다 우리는 NFS storage를 사용할 것이다","title":"The Network File System Protocol"},{"href":"/docs/kubernetes/storage-NFS","content":"The Network File System Protocol","title":"구성 전략"},{"href":"/docs/kubernetes/storage-NFS","content":"원격 파일 시스템에 액세스할 수 있는 프로토콜은 여러 가지가 있습니다 클라이언트와 서버가 서로 통신하는 데 사용하는 규약 즉 한국어영어 이런 언어와 같다 당연히 동일한 언어를 사용하여 데이터를 전송해야 한다 이에 Linux는 시스템 공유를 목적으로 많은 프로토콜을 지원하지만 가장 인기있는 NFS 입니다 만약 window 와 파일을 공유하고 싶다면 samaba FTP SMB CIFS 등을 사용할","title":"NFS Server 구성"},{"href":"/docs/kubernetes/storage-NFS","content":"- master node에 NFS server를 구성한다 worker client를 nfs-subdir-external-provisionerhttpsgithubcomkubernetes-sigsnfs-subdir-external-provisioner 드라이버를 설치한다 mysql deployment를 생성한다","title":"Show the NFS server's export list"},{"href":"/docs/kubernetes/storage-NFS","content":"NFS Server 구성","title":"NFS Client 구성"},{"href":"/docs/kubernetes/storage-NFS","content":"Setup NFS ServerUbuntu bash sudo apt update install nfs-kernel-server mkdir nfs_shared chmod 777 echo 192168002552552550rwsyncno_root_squash tee --append etcexports exportfs -ra systemctl restart nfs-kernel-serverservice start nfs-server enable --now nfs","title":"check directory sync"},{"href":"/docs/kubernetes/storage-NFS","content":"check status","title":"check mounted"},{"href":"/docs/kubernetes/storage-NFS","content":"systemctl status nfs-serverservice --- Setting up NFS ServerCentOS bash sudo dnf install nfs-utils -y start nfs-server enable mkdir nfs_shared chmod 777 echo 192168002552552550rwsyncno_root_squash tee --append etcexports restart Active active exited 가 출력되면 정상적으로 구성된 것이다","title":"Kubernetes NFS Subdir External Provisioner"},{"href":"/docs/kubernetes/storage-NFS","content":"Show the NFS servers export list","title":"Install"},{"href":"/docs/kubernetes/storage-NFS","content":"showmount -e 1921680103 아래와 같이 출력되면 정상이다 Export list for nfs_shared 192168010","title":"Test"},{"href":"/docs/kubernetes/storage-NFS","content":"NFS Client 구성","title":"파드 제거"},{"href":"/docs/kubernetes/storage-NFS","content":"set upUbuntu bash sudo apt-get install nfs-common upCentOS dnf nfs-utils -y common systemctl start nfs-clienttarget enable 아래 명령어는 임시로 nfs 디렉토리를 마운트하는 명령어다 동기화가 잘 되는지 확인해보자 mkdir nfs_shared mount -t 1921680103nfs_shared","title":"MySQL DB (Stateless)"},{"href":"/docs/kubernetes/storage-NFS","content":"check directory sync","title":"1. specification 작성"},{"href":"/docs/kubernetes/storage-NFS","content":"ls nfs_shared 동기화를 확인 했다면 영구 저장을 위해 fstab 에 등록한다 crontab 등은 시스템이 부팅될 때 자동으로 실행되는 명령어를 등록하는 파일이다 또 어떤 tab이 있을까 bash sudo echo 1921680103nfs_shared nfs defaults 0 tee -a etcfstab mount","title":"PersistentVolumeClaim"},{"href":"/docs/kubernetes/storage-NFS","content":"check mounted","title":"Deployment"},{"href":"/docs/kubernetes/storage-NFS","content":"df grep 1921680103nfs_shared 전 worker node에서 성공을 확인했다면 nfs-subdir-external-provisionerhttpsgithubcomkubernetes-sigsnfs-subdir-external-provisioner 드라이버를 설치한다","title":"- name: MYSQL_PASSWORD"},{"href":"/docs/kubernetes/storage-NFS","content":"Kubernetes NFS Subdir External Provisioner","title":"valueFrom:"},{"href":"/docs/kubernetes/storage-NFS","content":"Kubernetes 영구 볼륨의 동적 프로비저닝을 지원하기 위해 기존 및 이미 구성된 NFS 서버를 사용하는 자동 프로비저닝 프로그램입니다 볼륨은 다음과 같이 프로비저닝됩니다 namespace-pvcName-pvName Helm 으로 설치하기httpsgithubcomkubernetes-sigsnfs-subdir-external-provisionerblobmasterchartsnfs-subdir-external-provisionerREADMEmd","title":"secretKeyRef:"},{"href":"/docs/kubernetes/storage-NFS","content":"sh helm repo add nfs-subdir-external-provisioner httpskubernetes-sigsgithubionfs-subdir-external-provisioner install nfs-shared-class nfs-subdir-external-provisionernfs-subdir-external-provisioner --set nfsserver1921680103 nfspathnfs_shared storageClassarchiveOnDeletetrue storageClassnamenfs-shared-client storageClassdefaultClasstrue k describe storageclassesstoragek8sio Name nfs-shared-client IsDefaultClass Yes Annotations metahelmshrelease-namenfs-shared-classmetahelmshrelease-namespacedefaultstorageclasskubernetesiois-default-classtrue Provisioner clusterlocalnfs-shared-class-nfs-subdir-external-provisioner Parameters archiveOnDeletetrue AllowVolumeExpansion True MountOptions none ReclaimPolicy Delete VolumeBindingMode Immediate Events","title":"key: password"},{"href":"/docs/kubernetes/storage-NFS","content":"1 test pvc pod 생성 sh kubectl create -f httpsrawgithubusercontentcomkubernetes-sigsnfs-subdir-external-provisionermasterdeploytest-claimyaml httpsrawgithubusercontentcomkubernetes-sigsnfs-subdir-external-provisionermasterdeploytest-podyaml 2 pv 확인 - storageclass 가 nfs-client 로 생성되었는지 확인한다 STATUS가 Bound 인지 k get pvpvc NAME CAPACITY ACCESS MODES RECLAIM POLICY STATUS CLAIM STORAGECLASS REASON AGE persistentvolumepvc-515c4733-e843-4be8-a15a-20fcb7f454e6 1Mi RWX Delete defaulttest-claim nfs-shared-client 10m VOLUME persistentvolumeclaimtest-claim pvc-515c4733-e843-4be8-a15a-20fcb7f454e6 3 명세 describe test-pod Command binsh Args -c touch mntSUCCESS exit 0 State Terminated Reason Completed Exit Code Started Fri 19 Jan 2024 010118 0000 Finished Mounts mnt from nfs-pvc rw Volumes Type PersistentVolumeClaim a reference to in the same namespace ClaimName test-claim ReadOnly false pod은 정상적으로 생성되었고 pod가 생성한 파일이 nfs_shared 디렉토리에 반영되었는지 확인하자 ls nfs_shareddefault-test-claim-pvc-515c4733-e843-4be8-a15a-20fcb7f454e6 SUCCESS 성공이다 지우는 것 또한 덕목","title":"value: common"},{"href":"/docs/kubernetes/storage-NFS","content":"sh kubectl delete -f httpsrawgithubusercontentcomkubernetes-sigsnfs-subdir-external-provisionermasterdeploytest-claimyaml httpsrawgithubusercontentcomkubernetes-sigsnfs-subdir-external-provisionermasterdeploytest-podyaml pvc 제거시 클레임에 의헤 생성된 폴더가 제거되지 않고 prefix archived- 가 붙는다 stat nfs_sharedarchived-default-test-claim-pvc-515c4733-e843-4be8-a15a-20fcb7f454e6 File Size 4096 \tBlocks 8 IO Block directory Device fd00h64768d\tInode 4063235 Links 2 Access 0777drwxrwxrwx Uid 0 root Gid 2024-01-19 012619784210592 0000 Modify 010118375471645 Change 012515803744698 이제 release를 삭제하자 helm nfs-shared-class k get allpvpvc 잘 삭제된 것 같다 후 디비를 생성할거다 드디어","title":"value: admin"},{"href":"/docs/kubernetes/storage-NFS","content":"MySQL DB Stateless","title":"- name: MYSQL_ALLOW_EMPTY_PASSWORD"},{"href":"/docs/kubernetes/storage-NFS","content":"OIDC ARGO 등 여러 도구들은 영구적 상태 저장을 위해 DB가 필요하다 다용도로 사용할 수 있는 MySQL을 사용하자 생성 후 샘플 데이터를 추가한 쿠버네티스 리소스를 제거 생성시에도 동일한 데이터가 유지되는지 확인해보자","title":"value: \"false\""},{"href":"/docs/kubernetes/storage-NFS","content":"1 specification 작성","title":"Service"},{"href":"/docs/kubernetes/storage-NFS","content":"먼저 난 한 파일manifestsstoragedb-mysqlmysql-specyaml에 모두 작성 했다","title":"Secret"},{"href":"/docs/kubernetes/storage-NFS","content":"PersistentVolumeClaim","title":"2. script 작성"},{"href":"/docs/kubernetes/storage-NFS","content":"앞서 만든 storageclass를 활용 할 차례이다 걍 만들면 알아서 PV 만들어주죠 개이득이죠 최소 5Gi 이상의 용량을 이 PVC에 할당하자 yaml apiVersion v1 kind PersistentVolumeClaim metadata name mysql-pvc namespace db spec accessModes - ReadWriteOnce resources requests storage storageClassName nfs-shared-client","title":"POD 접속 테스트"},{"href":"/docs/kubernetes/storage-NFS","content":"이제 mysql deployment를 생성하자 이전 pvc를 마운트하고 이미지를 사용하자 yaml apiVersion appsv1 kind Deployment metadata name common-mysql namespace db labels app spec selector matchLabels strategy type Recreate template containers - image mysql56 resources requests memory 512Mi cpu 512m limits 2Gi 1024m env MYSQL_ROOT_PASSWORD valueFrom secretKeyRef mysql-secret key password","title":"데이터 유지 테스트"},{"href":"/docs/kubernetes/storage-NFS","content":"- name MYSQL_PASSWORD","title":"create data to test.users table"},{"href":"/docs/kubernetes/storage-NFS","content":"secretKeyRef","title":"centos, dnf is upgrade of yum"},{"href":"/docs/kubernetes/storage-NFS","content":"name mysql-secret","title":"ubuntu"},{"href":"/docs/kubernetes/storage-NFS","content":"key password","title":"/etc/auto.share"},{"href":"/docs/kubernetes/storage-NFS","content":"- name MYSQL_DATABASE  구성할 database명","title":"tell-autofs-to-auto-mount-a-directory-called-shares-if-this-directory-does-not-exist-autofs-should-automatically-create-it-the-shares-directory-should-be-defined-in-a-file-called-etcautoshares) 에서 진행합니다."},{"href":"/docs/kubernetes/storage-NFS","content":"value common","title":"Let's export `/etc` directory using `NFS` for `127.0.0.1` IP address. Also, the `ro` option should be applied, making this share `read-only`. Clients will only able to read, but not write network shared directory."},{"href":"/docs/kubernetes/storage-NFS","content":"- name MYSQL_USER  database에 권한이 있는 user","title":"Tell `autofs` to auto-mount a directory called `/shares`. If this does not exist"},{"href":"/docs/linux/storage-management/RAID","content":"What is RAID","title":"What is RAID?"},{"href":"/docs/linux/storage-management/RAID","content":"RAID는 Redundant Array of Independent Disks의 약자로 여러 개의 하드디스크를 하나로 묶어서 사용하는 기술이다 만약 Disk A 1TB와 B 1TB가 있고 우리는 15TB의 저장공간이 필요하다 하지만 어떠한 기기도 이러한 요구사항을 충족시키지 못하는 상황이다 이때 RAID 기술을 사용하면 A와 B를 2TB의 저장공간을 만들 수 있다 위 묶인 번들을 Array라고 부르며 추가 데이터를 목적으로 할 뿐 아니라 Level에 따라 데이터의 안정성 가용성을 높일 시작하기전에 범용적으로 사용되는 패리티코드와 해밍코드에 대해 알아보자","title":"패리티 코드(Parity Code)"},{"href":"/docs/linux/storage-management/RAID","content":"패리티 코드Parity Code","title":"해밍 코드(Hamming Code)"},{"href":"/docs/linux/storage-management/RAID","content":"패리티 비트는 오류를 검출하기 위해 존재한다 하나의 문자 또는 수는 8비트로 표현된다 8비트는 ASCII Code7비트와 Parity Code1비트로 구성되어 있다 Linux storage 관리에서 추가 정보 즉 재구축에 사용할 수 있는 작은 백업으로 생각할 있습니다 비트의 위치는 가장 끝에 ex A65 1000001 비트 홀수 10000011 짝수 0 1 코드 코드에서는 데이터에 포함된 1의 개수가 홀수가 되도록 비트를 설정합니다 예를 들어 데이터가 1001인 경우 1을 추가하여 10011이 됩니다 만약 데이터 전송 과정에서 1비트 오류가 발생하여 10111로 변형된다면 수신 측에서는 짝수가 되었음을 확인하고 발생했다는 것을 알 2 마찬가지로 코드는 0을 10010이 --- 주의 오류만 검출할 있으며 2비트 이상의 오류는 검출하지 못합니다 또한 자체에 발생하는 경우에도 감지하지 못할","title":"RAID Level"},{"href":"/docs/linux/storage-management/RAID","content":"해밍 코드Hamming Code","title":"mdadm"},{"href":"/docs/linux/storage-management/RAID","content":"패리티 코드는 오류를 검출만 가능했지만 해밍 오류 발생 위치까지 파악하여 데이터를 복구할 수 있습니다 예시 1 데이터 비트 1001 2 체크 2개 추가 100111 3 2의 거듭제곱 번째 4 8 의 1의 개수가 홀수인지 짝수인지 확인 - 비트3 5 7 11","title":"Modes"},{"href":"/docs/linux/storage-management/RAID","content":"RAID 레벨06은 데이터를 관리하는 방식을 의미한다 RAID1 RAID5 RAID6 등 1 RAID0 균등히 나누어 저장하는 방식 2 하드디스크의 용량을 합친 용량만큼 사용할 수 있다 3 하나의 디스크가 고장나면 모든 데이터가 손실된다 4 stripe set 또는 striped volume이라고도 불린다 5 패리티 비트httpsenwikipediaorgwikiParity_bit 중복성 및 내결함성httpsenwikipediaorgwikiFault_tolerance이 없습니다 두 개 이상의 디스크에 동시에 쓰기 성능보다 읽기 속도와 안정성에 강하다 고장나도 다른 남아있어 복구가 가능하다 용량은 디스크 비트 미사용 RAID2 나누어순환 spin 저장 ECC오류 검출 수정을 위한 Hamming codehttpsenwikipediaorgwikiHamming_code를 추가로 방식으로 비트를 사용하지 않는다 안정성을 둘 다 고려한 방식이다 ECC 코드를 이용하여 복구할 RAID3 byte 단위로 스트라이프여러 걸쳐 블록을 일반적으로 여러 요청을 처리할 이는 단일 데이터 블록이 정의에 따라 세트의 구성원에 분산되고 각 디스크의 동일한 물리적 위치에 상주하기 때문에 발생합니다 실제로는 사용되지 전용 디스크를 사용 RAID4 block 스트라이프 random readwrite 성능이 높다 블록단위로 저장되기 때문 6 저장하고 정보8bit 1bitparity - 전송 성공여부 를 함께 분산 정보를 하나만 이어야함 ㅋㅋ 드라이브에 오류가 발생하면 손실되지 않도록 패리티에서 후속 읽기를 계산할 있습니다 손실되더라도 나머지 디스크에는 여전히 일부 패리티가 남아 그리고 이러한 패리티를 사용하여 첫 번째 디스크에서 손실된 재구축할 5에는 3개 이상 필요합니다 1테라바이트의 3개가 있으면 2테라바이트의 가능한 공간을 얻게 됩니다 코드는 033TB 씩 저장됩니다 1TB의 10개가 있다면 9TB의 7 RAID5와 비슷하지만 개의 디바이스에 높인 즉 4개 필요하다 8 RAID10 10 레벨 1과 0을 결합한 0에서는 2개의 1테라바이트 array로 이어질 레벨1을 적용하여 array가 array와 저장하도록 합니다 결합하여 적은양의 증분효과를 얻지만 높일 위처럼 레벨의 특성을 고려하여 설계하여 사용해야한다","title":"stop and deactivate the RAID device"},{"href":"/docs/linux/storage-management/RAID","content":"mdadmmanage Multiple Devices devices aka Linux Software RAID는 리눅스에서 소프트웨어 레벨에서 RAID를 관리하는데 사용되는 도구이다 bash mdadm mode raiddevice options component-devices","title":"if you want to remove a disk"},{"href":"/docs/linux/storage-management/RAID","content":"- --create 새로운 RAID array를 생성합니다 --assemble 이전에 생성된 재조립합니다 --build 생성하지 않고 디스크를 검사합니다 --grow array의 크기를 변경합니다 --manage 관리를 합니다 --monitor 모니터링을 --misc 기타 명령어를 실행합니다 --incremental 증분을","title":"RAID 네임과 디바이스를 확인할 수 있다."},{"href":"/docs/linux/storage-management/RAID","content":"- --level RAID 레벨을 설정합니다 --raid-devices array에 사용할 디스크의 개수를 --spare-devices 스페어 --bitmap 비트맵을 --name array의 이름을 --homehost 호스트 --uuid UUID를 Lets jump to the commands --- 만약 이전시에 LVM을 사용했다면 devvdc devvdd devvde 디스크를 release 해주자 bash sudo vgremove --force my_volume pvremove create a devmd0 device with RAID0 level and 3 disks mdadm --create --verbose --level0 --raid-devices3 합쳐진 디스크는 일반 디스크와 동일하게 수 있다 mkfsext4","title":"Create a level 1 RAID array, at `/dev/md0`, with two devices: `/dev/vdc` and `/dev/vdd`."},{"href":"/docs/linux/storage-management/RAID","content":"stop and deactivate the RAID device","title":"Add another device, /dev/vde, to the previously created array, /dev/md0."},{"href":"/docs/linux/storage-management/RAID","content":"sudo mdadm --stop devmd0 그러나 Linux가 부팅되면 모든 장치의 슈퍼 블록super block을 검색합니다 간단히 말해서 장치에 속해 있는 정보가 있는지 확인하려고 시도합니다 이경우 시스템에 의해 devmd1 devmd2 devmd3 등의 장치가 생성될 수 있습니다 이를 방지하기 위해 생성시 --zero-superblock 옵션을 사용하여 슈퍼블록을 제거할 bash devvdc devvdd devvde 이제 RAID1과 같이 미러링 데이터에 대해 살펴보자 어느 날 디스크가 오작동하고 데이터가 손실되었다 다행히 다른 하나는 여전히 잘 작동하므로 그대로 남아있다 make RAID1 --create --verbose --level1 --raid-devices2 --spare-devices1 운영체제는 특정 손실되었을 때 --spare-devices 인 devvde를 데이터를 복구할 있다","title":"Reference"},{"href":"/docs/linux/storage-management/RAID","content":"What is RAID","title":"What is RAID?"},{"href":"/docs/linux/storage-management/RAID","content":"RAID는 Redundant Array of Independent Disks의 약자로 여러 개의 하드디스크를 하나로 묶어서 사용하는 기술이다 만약 Disk A 1TB와 B 1TB가 있고 우리는 15TB의 저장공간이 필요하다 하지만 어떠한 기기도 이러한 요구사항을 충족시키지 못하는 상황이다 이때 RAID 기술을 사용하면 A와 B를 2TB의 저장공간을 만들 수 있다 위 묶인 번들을 Array라고 부르며 추가 데이터를 목적으로 할 뿐 아니라 Level에 따라 데이터의 안정성 가용성을 높일 시작하기전에 범용적으로 사용되는 패리티코드와 해밍코드에 대해 알아보자","title":"패리티 코드(Parity Code)"},{"href":"/docs/linux/storage-management/RAID","content":"패리티 코드Parity Code","title":"해밍 코드(Hamming Code)"},{"href":"/docs/linux/storage-management/RAID","content":"패리티 비트는 오류를 검출하기 위해 존재한다 하나의 문자 또는 수는 8비트로 표현된다 8비트는 ASCII Code7비트와 Parity Code1비트로 구성되어 있다 Linux storage 관리에서 추가 정보 즉 재구축에 사용할 수 있는 작은 백업으로 생각할 있습니다 비트의 위치는 가장 끝에 ex A65 1000001 비트 홀수 10000011 짝수 0 1 코드 코드에서는 데이터에 포함된 1의 개수가 홀수가 되도록 비트를 설정합니다 예를 들어 데이터가 1001인 경우 1을 추가하여 10011이 됩니다 만약 데이터 전송 과정에서 1비트 오류가 발생하여 10111로 변형된다면 수신 측에서는 짝수가 되었음을 확인하고 발생했다는 것을 알 2 마찬가지로 코드는 0을 10010이 --- 주의 오류만 검출할 있으며 2비트 이상의 오류는 검출하지 못합니다 또한 자체에 발생하는 경우에도 감지하지 못할","title":"RAID Level"},{"href":"/docs/linux/storage-management/RAID","content":"해밍 코드Hamming Code","title":"mdadm"},{"href":"/docs/linux/storage-management/RAID","content":"패리티 코드는 오류를 검출만 가능했지만 해밍 오류 발생 위치까지 파악하여 데이터를 복구할 수 있습니다 예시 1 데이터 비트 1001 2 체크 2개 추가 100111 3 2의 거듭제곱 번째 4 8 의 1의 개수가 홀수인지 짝수인지 확인 - 비트3 5 7 11","title":"Modes"},{"href":"/docs/linux/storage-management/RAID","content":"RAID 레벨06은 데이터를 관리하는 방식을 의미한다 RAID1 RAID5 RAID6 등 1 RAID0 균등히 나누어 저장하는 방식 2 하드디스크의 용량을 합친 용량만큼 사용할 수 있다 3 하나의 디스크가 고장나면 모든 데이터가 손실된다 4 stripe set 또는 striped volume이라고도 불린다 5 패리티 비트httpsenwikipediaorgwikiParity_bit 중복성 및 내결함성httpsenwikipediaorgwikiFault_tolerance이 없습니다 두 개 이상의 디스크에 동시에 쓰기 성능보다 읽기 속도와 안정성에 강하다 고장나도 다른 남아있어 복구가 가능하다 용량은 디스크 비트 미사용 RAID2 나누어순환 spin 저장 ECC오류 검출 수정을 위한 Hamming codehttpsenwikipediaorgwikiHamming_code를 추가로 방식으로 비트를 사용하지 않는다 안정성을 둘 다 고려한 방식이다 ECC 코드를 이용하여 복구할 RAID3 byte 단위로 스트라이프여러 걸쳐 블록을 일반적으로 여러 요청을 처리할 이는 단일 데이터 블록이 정의에 따라 세트의 구성원에 분산되고 각 디스크의 동일한 물리적 위치에 상주하기 때문에 발생합니다 실제로는 사용되지 전용 디스크를 사용 RAID4 block 스트라이프 random readwrite 성능이 높다 블록단위로 저장되기 때문 6 저장하고 정보8bit 1bitparity - 전송 성공여부 를 함께 분산 정보를 하나만 이어야함 ㅋㅋ 드라이브에 오류가 발생하면 손실되지 않도록 패리티에서 후속 읽기를 계산할 있습니다 손실되더라도 나머지 디스크에는 여전히 일부 패리티가 남아 그리고 이러한 패리티를 사용하여 첫 번째 디스크에서 손실된 재구축할 5에는 3개 이상 필요합니다 1테라바이트의 3개가 있으면 2테라바이트의 가능한 공간을 얻게 됩니다 코드는 033TB 씩 저장됩니다 1TB의 10개가 있다면 9TB의 7 RAID5와 비슷하지만 개의 디바이스에 높인 즉 4개 필요하다 8 RAID10 10 레벨 1과 0을 결합한 0에서는 2개의 1테라바이트 array로 이어질 레벨1을 적용하여 array가 array와 저장하도록 합니다 결합하여 적은양의 증분효과를 얻지만 높일 위처럼 레벨의 특성을 고려하여 설계하여 사용해야한다","title":"stop and deactivate the RAID device"},{"href":"/docs/linux/storage-management/RAID","content":"mdadmmanage Multiple Devices devices aka Linux Software RAID는 리눅스에서 소프트웨어 레벨에서 RAID를 관리하는데 사용되는 도구이다 bash mdadm mode raiddevice options component-devices","title":"if you want to remove a disk"},{"href":"/docs/linux/storage-management/RAID","content":"- --create 새로운 RAID array를 생성합니다 --assemble 이전에 생성된 재조립합니다 --build 생성하지 않고 디스크를 검사합니다 --grow array의 크기를 변경합니다 --manage 관리를 합니다 --monitor 모니터링을 --misc 기타 명령어를 실행합니다 --incremental 증분을","title":"RAID 네임과 디바이스를 확인할 수 있다."},{"href":"/docs/linux/storage-management/RAID","content":"- --level RAID 레벨을 설정합니다 --raid-devices array에 사용할 디스크의 개수를 --spare-devices 스페어 --bitmap 비트맵을 --name array의 이름을 --homehost 호스트 --uuid UUID를 Lets jump to the commands --- 만약 이전시에 LVM을 사용했다면 devvdc devvdd devvde 디스크를 release 해주자 bash sudo vgremove --force my_volume pvremove create a devmd0 device with RAID0 level and 3 disks mdadm --create --verbose --level0 --raid-devices3 합쳐진 디스크는 일반 디스크와 동일하게 수 있다 mkfsext4","title":"Create a level 1 RAID array, at `/dev/md0`, with two devices: `/dev/vdc` and `/dev/vdd`."},{"href":"/docs/linux/storage-management/RAID","content":"stop and deactivate the RAID device","title":"Add another device, /dev/vde, to the previously created array, /dev/md0."},{"href":"/docs/linux/storage-management/RAID","content":"sudo mdadm --stop devmd0 그러나 Linux가 부팅되면 모든 장치의 슈퍼 블록super block을 검색합니다 간단히 말해서 장치에 속해 있는 정보가 있는지 확인하려고 시도합니다 이경우 시스템에 의해 devmd1 devmd2 devmd3 등의 장치가 생성될 수 있습니다 이를 방지하기 위해 생성시 --zero-superblock 옵션을 사용하여 슈퍼블록을 제거할 bash devvdc devvdd devvde 이제 RAID1과 같이 미러링 데이터에 대해 살펴보자 어느 날 디스크가 오작동하고 데이터가 손실되었다 다행히 다른 하나는 여전히 잘 작동하므로 그대로 남아있다 make RAID1 --create --verbose --level1 --raid-devices2 --spare-devices1 운영체제는 특정 손실되었을 때 --spare-devices 인 devvde를 데이터를 복구할 있다","title":"Reference"},{"href":"/docs/kubernetes/traefik","content":"Wha is Traefik","title":"Wha is Traefik?"},{"href":"/docs/kubernetes/traefik","content":"Traefik 은 reverse proxy loadBalancer gateway ingress 등의 역할을 수행하는 오픈소스이다 우리는 cluster 내 운영환경을 namespace로 구분하고 각 namespace 별로 Gateway를 생성하여 외부에서 접근할 수 있도록 한다","title":"Terminology"},{"href":"/docs/kubernetes/traefik","content":"Terminology","title":"Routing"},{"href":"/docs/kubernetes/traefik","content":"시작하기전 아래문서들을 읽어 내용을 이해하자 - crdhttpsdoctraefikiotraefikroutingproviderskubernetes-crd","title":"References"},{"href":"/docs/linux/storage-management","content":"- POSIXPortable Operating System Interface","title":"posixportable-operating-system-interface)"},{"href":"/docs/linux/storage-management","content":"posixportable-operating-system-interface","title":"ext-파일-시스템2-3-4-포함)"},{"href":"/docs/linux/storage-management","content":"- EXT 파일 시스템2 3 4 포함","title":"mount)"},{"href":"/docs/linux/storage-management","content":"ext-파일-시스템2-3-4-포함","title":"du)"},{"href":"/docs/linux/storage-management","content":"- LVMLogical Volume Manager","title":"free--현재-메모리상태-확인)"},{"href":"/docs/linux/storage-management","content":"lvmlogical-volume-manager","title":"스왑-중지)"},{"href":"/docs/linux/storage-management","content":"- Partition","title":"부팅시-생성한-swap-영역을-자동으로-설정)"},{"href":"/docs/linux/storage-management","content":"- free 현재 메모리상태 확인","title":"find-out-the-swapfile-used-on-this-system-and-save-its-exact-path-in-homebobswap-file)"},{"href":"/docs/linux/storage-management","content":"free--현재-메모리상태-확인","title":"create-three-primary-partitions-on-devvdb)"},{"href":"/docs/linux/storage-management","content":"- 부팅시 생성한 swap 영역을 자동으로 설정","title":"increase-the-existing-swap-ie-swapfile-size-by-1gb)"},{"href":"/docs/linux/storage-management","content":"부팅시-생성한-swap-영역을-자동으로-설정","title":"resize-the-devvdb3-partition-which-you-created-earlier-to-21mb)"},{"href":"/docs/linux/storage-management","content":"- Configure systems to mount file at boot by Universally Unique ID UUID or label","title":"create-an-ext4-filesystem-with-a-number-of-2048-inodes-on-devvdc)"},{"href":"/docs/linux/storage-management","content":"configure-systems-to-mount-file-systems-at-boot-by-universally-unique-id-uuid-or-label","title":"configure-the-system-to-automatically-mount-devvdc-when-it-boots-up-this-partition-has-an-ext4-filesystem-on-it)"},{"href":"/docs/linux/storage-management","content":"- How do we display block devices such as disks or partitions","title":"EXT 파일 시스템(2, 3, 4 포함)"},{"href":"/docs/linux/storage-management","content":"how-do-we-display-block-devices-such-as-disks-or-partitions","title":"Mount"},{"href":"/docs/linux/storage-management","content":"- How do we format a partition as swap space","title":"report file system space usage"},{"href":"/docs/linux/storage-management","content":"how-do-we-format-a-partition-as-swap-space","title":"T: print file system type"},{"href":"/docs/linux/storage-management","content":"- Identify the partition name of virtual disk where is mounted on this system","title":"example"},{"href":"/docs/linux/storage-management","content":"identify-the-partition-name-of-the-virtual-disk-where--is-mounted-on-this-system","title":"findmnt는 마운트된 모든 파일 시스템을 나열하거나 시스템. findmnt 명령은 /etc/fstab에서 검색할 수 있습니다."},{"href":"/docs/linux/storage-management","content":"- Find out the swapfile used on this system and save its exact path in homebobswap file","title":"example"},{"href":"/docs/linux/storage-management","content":"- Create three primary partitions on devvdb","title":"Example"},{"href":"/docs/linux/storage-management","content":"create-three-primary-partitions-on-devvdb","title":"example"},{"href":"/docs/linux/storage-management","content":"- Delete th 10MB partition on devvdb","title":"example"},{"href":"/docs/linux/storage-management","content":"delete-th-10mb-partition-on-devvdb","title":"LVM(Logical Volume Manager)"},{"href":"/docs/linux/storage-management","content":"- Format the 21MB partition as swap Next make it active tell Linux to start using memory","title":"Partition"},{"href":"/docs/linux/storage-management","content":"format-the-21mb-partition-as-swap-next-make-it-active-tell-linux-to-start-using-it-as-swap-memory","title":"show example"},{"href":"/docs/linux/storage-management","content":"- Increase the existing swap ie swapfile size by 1GB","title":"example 1"},{"href":"/docs/linux/storage-management","content":"increase-the-existing-swap-ie-swapfile-size-by-1gb","title":"example 2"},{"href":"/docs/linux/storage-management","content":"- Resize the devvdb3 partition which you created earlier to 21MB","title":"example1"},{"href":"/docs/linux/storage-management","content":"resize-the-devvdb3-partition-which-you-created-earlier-to-21mb","title":"Partition Table"},{"href":"/docs/linux/storage-management","content":"- What file do we need to edit tell the Linux OS which filesystems it should automatically mount when boots up","title":"example2"},{"href":"/docs/linux/storage-management","content":"what-file-do-we-need-to-edit-to-tell-the-linux-os-which-filesystems-it-should-automatically-mount-when-it-boots-up","title":"Partition Table"},{"href":"/docs/linux/storage-management","content":"- Create an xfs filesystem with the label DataDisk on devvdb","title":"cfdisk"},{"href":"/docs/linux/storage-management","content":"create-an-xfs-filesystem-with-the-label-datadisk-on-devvdb","title":"Swap"},{"href":"/docs/linux/storage-management","content":"- Create an ext4 filesystem with a number of 2048 inodes on devvdc","title":"Command"},{"href":"/docs/linux/storage-management","content":"create-an-ext4-filesystem-with-a-number-of-2048-inodes-on-devvdc","title":"free = 현재 메모리상태 확인"},{"href":"/docs/linux/storage-management","content":"- Configure the system to automatically mount devvdc when it boots up This partition has an ext4 filesystem on","title":"스왑 중지"},{"href":"/docs/linux/storage-management","content":"configure-the-system-to-automatically-mount-devvdc-when-it-boots-up-this-partition-has-an-ext4-filesystem-on-it","title":"부팅시 생성한 swap 영역을 자동으로 설정"},{"href":"/docs/linux/storage-management","content":"- Change the label for devvdb filesystem to SwapFS","title":"부팅시 읽어오는 파티션 정보를 수정하자."},{"href":"/docs/linux/storage-management","content":"change-the-label-for-devvdb-filesystem-to-swapfs","title":"Usage"},{"href":"/docs/linux/storage-management","content":"2TB Solid State DriveSSD가 있다고 상상해 보세요 그 위에 window linux 배포판 모두 설치하고 싶습니다 하지만 한개의 OS만 설치할 수 있습니다ㅠㅠ 파일 시스템도 문제입니다 Windows는 NTFS 시스템을 사용하고 Linux는 다른 ext4extended file system 4또는 xfs 사용하기 때문이죠 우리는 SSD의 저장 공간을 간단히 나눌 있습니다 윈도우용으로 1TB 리눅스용으로 1TB를 할당하여 각각의 운영 체제를 이러한 방식으로 스토리지 장치를 분할하는 것을 파티션이라고 합니다","title":"Configure systems to mount file at boot by Universally Unique ID (UUID) or label"},{"href":"/docs/linux/storage-management","content":"POSIXPortable Operating System Interface","title":"Mounting"},{"href":"/docs/linux/storage-management","content":"Unix 의 발전에 따라 다양한 계열 운영 체제가 등장했습니다 여러 소프트웨어가 그러하듯 Unix도 표준화가 필요했습니다 그래서 IEEEInstitute of Electrical and Electronics Engineers는 1988년에 POSIX 표준을 발표했습니다 이후 등장한 Linux macOS Solaris AIX HP-UX 등의 체제는 준수합니다","title":"apply changes"},{"href":"/docs/linux/storage-management","content":"EXT 파일 시스템2 3 4 포함","title":"Practice"},{"href":"/docs/linux/storage-management","content":"EXT는 Linux의 가장 대표적인 파일 시스템입니다 탄생에 많은 영향을 끼쳤던 초기 유닉스 계열 운영체제 중 하나인 MINIX에서 사용하던 시스템에서 이름과 크기의 한계를 보완하며 설계되었습니다 디스크에서 시스템은 파티션 당 하나씩 생성됩니다 파티션에 EXT2를 구축하면 파티션은 다수의 블록 그룹Block Group으로 나뉩니다 각 그룹은 블록Block으로 블록은 파일이나 디렉터리를 저장하는 데 사용됩니다","title":"How do we display block devices, such as disks or partitions?"},{"href":"/docs/linux/storage-management","content":"리눅스에서 mount란 물리논리 장치device를 파일 시스템의 일부로 연결하는 것을 의미합니다 파티셔닝 가상화 보안 네트워킹 등이 적용된 디바이스들은 어떤 파일시스템ext4 xfs 으로 포맷되어 마운트될 수 있습니다 보통 장치는 dev 디렉토리에 위치합니다 bash ls - devmapper 암호화된 디바이스와 매핑된 디바이스가 여기에 devvda 파티션되지 않은 디스크 devvda1 첫 번째 파티션 sudo mount -t nfs 1921680103nfs_shared nfs_shared 아래 명령어를 통해 마운트된 장치를 확인할","title":"Identify the partition name of virtual disk where / is mounted on this system."},{"href":"/docs/linux/storage-management","content":"report file system space usage","title":"Find out the swapfile used on this system and save its exact path in `/home/bob/swap` file."},{"href":"/docs/linux/storage-management","content":"T print file system type","title":"Delete th `10MB` partition on `/dev/vdb`"},{"href":"/docs/linux/storage-management","content":"Filesystem Type Size Used Avail Use Mounted on udev devtmpfs 19G 18G 01G 99 dev","title":"Resize the /dev/vdb3 partition (which you created earlier) to 21MB."},{"href":"/docs/linux/storage-management","content":"findmnt는 마운트된 모든 파일 시스템을 나열하거나 시스템 findmnt 명령은 etcfstab에서 검색할 수 있습니다","title":"What file do we need to edit tell the Linux OS which filesystems it should automatically mount when boots up?"},{"href":"/docs/linux/storage-management","content":"TARGET SOURCE FSTYPE OPTIONS devnvme0n1p3 ext4 rwrelatimeerrorsremount-ro sys sysfs rwnosuidnodevnoexecrelatime syskernelsecurity securityfs sysfscgroup tmpfs ronosuidnodevnoexecmode755 sysfscgroupunified cgroup2 rwnosuidnodevnoexecrelatimensdelegate sysfscgroupsystemd cgroup rwnosuidnodevnoexecrelatimexattrnamesystemd sysfsbpf bpf rwnosuidnodevnoexecrelatimemode700","title":"Configure the system to automatically mount `/dev/vdc` when it boots up. This partition has an `ext4` filesystem on it."},{"href":"/docs/linux/storage-management","content":"du 명령어는 디렉토리의 디스크 사용량을 확인하는데 사용됩니다 사용법은 OPTION FILE 입니다 - -h 사람이 읽기 쉬운 형식으로 출력합니다 -s 총 합계를 summarize max-depthN 최대 깊이를 설정합니다 --all 디렉토리뿐 아니라 파일도 모두","title":"Change the label for `/dev/vdb` filesystem to SwapFS"},{"href":"/docs/linux/storage-management","content":"bash du -h --max-depth1 etc","title":"if xfs"},{"href":"/docs/linux/storage-management","content":"- POSIXPortable Operating System Interface","title":"posixportable-operating-system-interface)"},{"href":"/docs/linux/storage-management","content":"posixportable-operating-system-interface","title":"ext-파일-시스템2-3-4-포함)"},{"href":"/docs/linux/storage-management","content":"- EXT 파일 시스템2 3 4 포함","title":"mount)"},{"href":"/docs/linux/storage-management","content":"ext-파일-시스템2-3-4-포함","title":"du)"},{"href":"/docs/linux/storage-management","content":"- LVMLogical Volume Manager","title":"free--현재-메모리상태-확인)"},{"href":"/docs/linux/storage-management","content":"lvmlogical-volume-manager","title":"스왑-중지)"},{"href":"/docs/linux/storage-management","content":"- Partition","title":"부팅시-생성한-swap-영역을-자동으로-설정)"},{"href":"/docs/linux/storage-management","content":"- free 현재 메모리상태 확인","title":"find-out-the-swapfile-used-on-this-system-and-save-its-exact-path-in-homebobswap-file)"},{"href":"/docs/linux/storage-management","content":"free--현재-메모리상태-확인","title":"create-three-primary-partitions-on-devvdb)"},{"href":"/docs/linux/storage-management","content":"- 부팅시 생성한 swap 영역을 자동으로 설정","title":"increase-the-existing-swap-ie-swapfile-size-by-1gb)"},{"href":"/docs/linux/storage-management","content":"부팅시-생성한-swap-영역을-자동으로-설정","title":"resize-the-devvdb3-partition-which-you-created-earlier-to-21mb)"},{"href":"/docs/linux/storage-management","content":"- Configure systems to mount file at boot by Universally Unique ID UUID or label","title":"create-an-ext4-filesystem-with-a-number-of-2048-inodes-on-devvdc)"},{"href":"/docs/linux/storage-management","content":"configure-systems-to-mount-file-systems-at-boot-by-universally-unique-id-uuid-or-label","title":"configure-the-system-to-automatically-mount-devvdc-when-it-boots-up-this-partition-has-an-ext4-filesystem-on-it)"},{"href":"/docs/linux/storage-management","content":"- How do we display block devices such as disks or partitions","title":"EXT 파일 시스템(2, 3, 4 포함)"},{"href":"/docs/linux/storage-management","content":"how-do-we-display-block-devices-such-as-disks-or-partitions","title":"Mount"},{"href":"/docs/linux/storage-management","content":"- How do we format a partition as swap space","title":"report file system space usage"},{"href":"/docs/linux/storage-management","content":"how-do-we-format-a-partition-as-swap-space","title":"T: print file system type"},{"href":"/docs/linux/storage-management","content":"- Identify the partition name of virtual disk where is mounted on this system","title":"example"},{"href":"/docs/linux/storage-management","content":"identify-the-partition-name-of-the-virtual-disk-where--is-mounted-on-this-system","title":"findmnt는 마운트된 모든 파일 시스템을 나열하거나 시스템. findmnt 명령은 /etc/fstab에서 검색할 수 있습니다."},{"href":"/docs/linux/storage-management","content":"- Find out the swapfile used on this system and save its exact path in homebobswap file","title":"example"},{"href":"/docs/linux/storage-management","content":"- Create three primary partitions on devvdb","title":"Example"},{"href":"/docs/linux/storage-management","content":"create-three-primary-partitions-on-devvdb","title":"example"},{"href":"/docs/linux/storage-management","content":"- Delete th 10MB partition on devvdb","title":"example"},{"href":"/docs/linux/storage-management","content":"delete-th-10mb-partition-on-devvdb","title":"LVM(Logical Volume Manager)"},{"href":"/docs/linux/storage-management","content":"- Format the 21MB partition as swap Next make it active tell Linux to start using memory","title":"Partition"},{"href":"/docs/linux/storage-management","content":"format-the-21mb-partition-as-swap-next-make-it-active-tell-linux-to-start-using-it-as-swap-memory","title":"show example"},{"href":"/docs/linux/storage-management","content":"- Increase the existing swap ie swapfile size by 1GB","title":"example 1"},{"href":"/docs/linux/storage-management","content":"increase-the-existing-swap-ie-swapfile-size-by-1gb","title":"example 2"},{"href":"/docs/linux/storage-management","content":"- Resize the devvdb3 partition which you created earlier to 21MB","title":"example1"},{"href":"/docs/linux/storage-management","content":"resize-the-devvdb3-partition-which-you-created-earlier-to-21mb","title":"Partition Table"},{"href":"/docs/linux/storage-management","content":"- What file do we need to edit tell the Linux OS which filesystems it should automatically mount when boots up","title":"example2"},{"href":"/docs/linux/storage-management","content":"what-file-do-we-need-to-edit-to-tell-the-linux-os-which-filesystems-it-should-automatically-mount-when-it-boots-up","title":"Partition Table"},{"href":"/docs/linux/storage-management","content":"- Create an xfs filesystem with the label DataDisk on devvdb","title":"cfdisk"},{"href":"/docs/linux/storage-management","content":"create-an-xfs-filesystem-with-the-label-datadisk-on-devvdb","title":"Swap"},{"href":"/docs/linux/storage-management","content":"- Create an ext4 filesystem with a number of 2048 inodes on devvdc","title":"Command"},{"href":"/docs/linux/storage-management","content":"create-an-ext4-filesystem-with-a-number-of-2048-inodes-on-devvdc","title":"free = 현재 메모리상태 확인"},{"href":"/docs/linux/storage-management","content":"- Configure the system to automatically mount devvdc when it boots up This partition has an ext4 filesystem on","title":"스왑 중지"},{"href":"/docs/linux/storage-management","content":"configure-the-system-to-automatically-mount-devvdc-when-it-boots-up-this-partition-has-an-ext4-filesystem-on-it","title":"부팅시 생성한 swap 영역을 자동으로 설정"},{"href":"/docs/linux/storage-management","content":"- Change the label for devvdb filesystem to SwapFS","title":"부팅시 읽어오는 파티션 정보를 수정하자."},{"href":"/docs/linux/storage-management","content":"change-the-label-for-devvdb-filesystem-to-swapfs","title":"Usage"},{"href":"/docs/linux/storage-management","content":"2TB Solid State DriveSSD가 있다고 상상해 보세요 그 위에 window linux 배포판 모두 설치하고 싶습니다 하지만 한개의 OS만 설치할 수 있습니다ㅠㅠ 파일 시스템도 문제입니다 Windows는 NTFS 시스템을 사용하고 Linux는 다른 ext4extended file system 4또는 xfs 사용하기 때문이죠 우리는 SSD의 저장 공간을 간단히 나눌 있습니다 윈도우용으로 1TB 리눅스용으로 1TB를 할당하여 각각의 운영 체제를 이러한 방식으로 스토리지 장치를 분할하는 것을 파티션이라고 합니다","title":"Configure systems to mount file at boot by Universally Unique ID (UUID) or label"},{"href":"/docs/linux/storage-management","content":"POSIXPortable Operating System Interface","title":"Mounting"},{"href":"/docs/linux/storage-management","content":"Unix 의 발전에 따라 다양한 계열 운영 체제가 등장했습니다 여러 소프트웨어가 그러하듯 Unix도 표준화가 필요했습니다 그래서 IEEEInstitute of Electrical and Electronics Engineers는 1988년에 POSIX 표준을 발표했습니다 이후 등장한 Linux macOS Solaris AIX HP-UX 등의 체제는 준수합니다","title":"apply changes"},{"href":"/docs/linux/storage-management","content":"EXT 파일 시스템2 3 4 포함","title":"Practice"},{"href":"/docs/linux/storage-management","content":"EXT는 Linux의 가장 대표적인 파일 시스템입니다 탄생에 많은 영향을 끼쳤던 초기 유닉스 계열 운영체제 중 하나인 MINIX에서 사용하던 시스템에서 이름과 크기의 한계를 보완하며 설계되었습니다 디스크에서 시스템은 파티션 당 하나씩 생성됩니다 파티션에 EXT2를 구축하면 파티션은 다수의 블록 그룹Block Group으로 나뉩니다 각 그룹은 블록Block으로 블록은 파일이나 디렉터리를 저장하는 데 사용됩니다","title":"How do we display block devices, such as disks or partitions?"},{"href":"/docs/linux/storage-management","content":"리눅스에서 mount란 물리논리 장치device를 파일 시스템의 일부로 연결하는 것을 의미합니다 파티셔닝 가상화 보안 네트워킹 등이 적용된 디바이스들은 어떤 파일시스템ext4 xfs 으로 포맷되어 마운트될 수 있습니다 보통 장치는 dev 디렉토리에 위치합니다 bash ls - devmapper 암호화된 디바이스와 매핑된 디바이스가 여기에 devvda 파티션되지 않은 디스크 devvda1 첫 번째 파티션 sudo mount -t nfs 1921680103nfs_shared nfs_shared 아래 명령어를 통해 마운트된 장치를 확인할","title":"Identify the partition name of virtual disk where / is mounted on this system."},{"href":"/docs/linux/storage-management","content":"report file system space usage","title":"Find out the swapfile used on this system and save its exact path in `/home/bob/swap` file."},{"href":"/docs/linux/storage-management","content":"T print file system type","title":"Delete th `10MB` partition on `/dev/vdb`"},{"href":"/docs/linux/storage-management","content":"Filesystem Type Size Used Avail Use Mounted on udev devtmpfs 19G 18G 01G 99 dev","title":"Resize the /dev/vdb3 partition (which you created earlier) to 21MB."},{"href":"/docs/linux/storage-management","content":"findmnt는 마운트된 모든 파일 시스템을 나열하거나 시스템 findmnt 명령은 etcfstab에서 검색할 수 있습니다","title":"What file do we need to edit tell the Linux OS which filesystems it should automatically mount when boots up?"},{"href":"/docs/linux/storage-management","content":"TARGET SOURCE FSTYPE OPTIONS devnvme0n1p3 ext4 rwrelatimeerrorsremount-ro sys sysfs rwnosuidnodevnoexecrelatime syskernelsecurity securityfs sysfscgroup tmpfs ronosuidnodevnoexecmode755 sysfscgroupunified cgroup2 rwnosuidnodevnoexecrelatimensdelegate sysfscgroupsystemd cgroup rwnosuidnodevnoexecrelatimexattrnamesystemd sysfsbpf bpf rwnosuidnodevnoexecrelatimemode700","title":"Configure the system to automatically mount `/dev/vdc` when it boots up. This partition has an `ext4` filesystem on it."},{"href":"/docs/linux/storage-management","content":"du 명령어는 디렉토리의 디스크 사용량을 확인하는데 사용됩니다 사용법은 OPTION FILE 입니다 - -h 사람이 읽기 쉬운 형식으로 출력합니다 -s 총 합계를 summarize max-depthN 최대 깊이를 설정합니다 --all 디렉토리뿐 아니라 파일도 모두","title":"Change the label for `/dev/vdb` filesystem to SwapFS"},{"href":"/docs/linux/storage-management","content":"bash du -h --max-depth1 etc","title":"if xfs"},{"href":"/docs/kubernetes/workloads","content":"워크로드는 Kubernetes에서 실행되는 여러개의 파드 혹은 리소스들로 구성된 애플리케이션입니다 Kubernetes는 워크로드와 해당 워크로드의 구성 요소를 선언적으로 관리하기 위한 여러 내장 API를 제공합니다","title":"StatefulSet"},{"href":"/docs/kubernetes/workloads","content":"StatefulSet","title":"시작하기"},{"href":"/docs/linux/storage-management/encrypt","content":"Create and configure encrypted storage","title":"Create and configure encrypted storage"},{"href":"/docs/linux/storage-management/encrypt","content":"리눅스환경에서 디스크를 암호화하는 방법에 대해 알아보자 사실 직무 관계 없이 보안을 고려해야 할 사항들은 갑자기 나타난다 안드로이드 App을 앱스토어에 등록하면 keystore를 비롯해 여러 key들을 관리해야하고 ssh key를 관리 한다던가 API 관리하다던가 대부분 로컬에 저장되어야 한다 자 우린 팀원들을 못믿는게 아니라 사고를 방지할 뿐이다 ㅎㅎ 반드시 설명하자","title":"왜 디스크를 암호화 해야 하는가?"},{"href":"/docs/linux/storage-management/encrypt","content":"왜 디스크를 암호화 해야 하는가","title":"어떻게 암호화 하는가?"},{"href":"/docs/linux/storage-management/encrypt","content":"어떻게 암호화 하는가","title":"cryptsetup"},{"href":"/docs/linux/storage-management/encrypt","content":"리눅스에서는 여러가지 방법으로 디스크를 암호화 할 수 있다 LUKSLinux Unified Key Setup dm-crypt eCryptfs EncFS 등등 많지만 우선 cryptsetup을 사용할 것입니다","title":"Luks(Linux Unified Key Setup) Extension"},{"href":"/docs/linux/storage-management/encrypt","content":"1 disk 혹은 partition을 선정한다 using cfdisk fdisk gdisk parted 2 cryptsetup을 사용하여 디스크를 암호화한다 plain cryptsetup --verify-passphrase open --type devvde mysecuredisk LUKS luksFormat 3 암호화된 매핑 파일시스템을 생성하고 마운트한다 mkfsxfs devmappermysecuredisk mount mntmysecuredisk 4 닫는다 close umount","title":"by reading that header cryptsetup can automatically detect the encryption type."},{"href":"/docs/linux/storage-management/encrypt","content":"cryptsetup은 리눅스 커널에 매핑된 블록 device 디스크를 암호화하기 위한 인터페이스를 제공하는 유틸리티이다 bash sudo cryptsetup --verify-passphrase open --type plain devvde mysecuredisk - 암호를 두번 입력하게 한다 암호화 타입을 지정한다 열어준다 디스크 이름 이제 사용하여 파일시스템을 생성하고 마운트하면 된다 mkfsxfs devmappermysecuredisk mount mntmysecuredisk 파일시스템은 마운트된 디스크에 읽기 쓰기 작업을 할 때 동일한 signal을 보내지만 내부적으로는 하여 쓰고 해독하여 읽는다 한마디로 fake 만들어서 암호화된 접근하는 것이다 그럼 허점이 있다는 걸 알 수 있다 이상 정보는 평문이다 반드시 아래 명령어로 닫아주자 umount close format 말고 다른 방식을 사용해보자","title":"`/dev/vde`를 암호화된 디스크로 설정합니다."},{"href":"/docs/linux/storage-management/encrypt","content":"LuksLinux Unified Key Setup Extension","title":"list of encrypted disk"},{"href":"/docs/linux/storage-management/encrypt","content":"하드 디스크 암호화의 표준입니다 파티션 헤더와 대량 데이터 형식을 표준화합니다 LUKS는 효과적으로 취소할 수 있고 PBKDF2를 사용한 사전 공격으로부터 보호되는 여러 암호를 관리할 있습니다 bash sudo cryptsetup luksFormat devvde tap benchmark isLuks luksDump luksHeaderRestore luksResume open status close luksAddKey luksKillSlot luksSuspend repair tcryptDump erase luksChangeKey luksHeaderBackup luksRemoveKey luksUUID resize for change password dev use to check the of disk","title":"create file system"},{"href":"/docs/linux/storage-management/encrypt","content":"a very small block of data to the storage device called header and","title":"secretdisk라는 암호화되지 않은 매핑된 장치를 닫습니다."},{"href":"/docs/linux/storage-management/encrypt","content":"by reading that header cryptsetup can automatically detect the encryption type","title":"Now `/dev/vde` is formatted to be used with LUKS encryption."},{"href":"/docs/linux/storage-management/encrypt","content":"sudo cryptsetup open devvde mysecuredisk mkfsxfs devmappermysecuredisk mount mntmysecuredisk umount close","title":"Reference"},{"href":"/docs/linux/storage-management/encrypt","content":"Create and configure encrypted storage","title":"Create and configure encrypted storage"},{"href":"/docs/linux/storage-management/encrypt","content":"리눅스환경에서 디스크를 암호화하는 방법에 대해 알아보자 사실 직무 관계 없이 보안을 고려해야 할 사항들은 갑자기 나타난다 안드로이드 App을 앱스토어에 등록하면 keystore를 비롯해 여러 key들을 관리해야하고 ssh key를 관리 한다던가 API 관리하다던가 대부분 로컬에 저장되어야 한다 자 우린 팀원들을 못믿는게 아니라 사고를 방지할 뿐이다 ㅎㅎ 반드시 설명하자","title":"왜 디스크를 암호화 해야 하는가?"},{"href":"/docs/linux/storage-management/encrypt","content":"왜 디스크를 암호화 해야 하는가","title":"어떻게 암호화 하는가?"},{"href":"/docs/linux/storage-management/encrypt","content":"어떻게 암호화 하는가","title":"cryptsetup"},{"href":"/docs/linux/storage-management/encrypt","content":"리눅스에서는 여러가지 방법으로 디스크를 암호화 할 수 있다 LUKSLinux Unified Key Setup dm-crypt eCryptfs EncFS 등등 많지만 우선 cryptsetup을 사용할 것입니다","title":"Luks(Linux Unified Key Setup) Extension"},{"href":"/docs/linux/storage-management/encrypt","content":"1 disk 혹은 partition을 선정한다 using cfdisk fdisk gdisk parted 2 cryptsetup을 사용하여 디스크를 암호화한다 plain cryptsetup --verify-passphrase open --type devvde mysecuredisk LUKS luksFormat 3 암호화된 매핑 파일시스템을 생성하고 마운트한다 mkfsxfs devmappermysecuredisk mount mntmysecuredisk 4 닫는다 close umount","title":"by reading that header cryptsetup can automatically detect the encryption type."},{"href":"/docs/linux/storage-management/encrypt","content":"cryptsetup은 리눅스 커널에 매핑된 블록 device 디스크를 암호화하기 위한 인터페이스를 제공하는 유틸리티이다 bash sudo cryptsetup --verify-passphrase open --type plain devvde mysecuredisk - 암호를 두번 입력하게 한다 암호화 타입을 지정한다 열어준다 디스크 이름 이제 사용하여 파일시스템을 생성하고 마운트하면 된다 mkfsxfs devmappermysecuredisk mount mntmysecuredisk 파일시스템은 마운트된 디스크에 읽기 쓰기 작업을 할 때 동일한 signal을 보내지만 내부적으로는 하여 쓰고 해독하여 읽는다 한마디로 fake 만들어서 암호화된 접근하는 것이다 그럼 허점이 있다는 걸 알 수 있다 이상 정보는 평문이다 반드시 아래 명령어로 닫아주자 umount close format 말고 다른 방식을 사용해보자","title":"`/dev/vde`를 암호화된 디스크로 설정합니다."},{"href":"/docs/linux/storage-management/encrypt","content":"LuksLinux Unified Key Setup Extension","title":"list of encrypted disk"},{"href":"/docs/linux/storage-management/encrypt","content":"하드 디스크 암호화의 표준입니다 파티션 헤더와 대량 데이터 형식을 표준화합니다 LUKS는 효과적으로 취소할 수 있고 PBKDF2를 사용한 사전 공격으로부터 보호되는 여러 암호를 관리할 있습니다 bash sudo cryptsetup luksFormat devvde tap benchmark isLuks luksDump luksHeaderRestore luksResume open status close luksAddKey luksKillSlot luksSuspend repair tcryptDump erase luksChangeKey luksHeaderBackup luksRemoveKey luksUUID resize for change password dev use to check the of disk","title":"create file system"},{"href":"/docs/linux/storage-management/encrypt","content":"a very small block of data to the storage device called header and","title":"secretdisk라는 암호화되지 않은 매핑된 장치를 닫습니다."},{"href":"/docs/linux/storage-management/encrypt","content":"by reading that header cryptsetup can automatically detect the encryption type","title":"Now `/dev/vde` is formatted to be used with LUKS encryption."},{"href":"/docs/linux/storage-management/encrypt","content":"sudo cryptsetup open devvde mysecuredisk mkfsxfs devmappermysecuredisk mount mntmysecuredisk umount close","title":"Reference"},{"href":"/docs/linux/essential-commands/archiving-compression-decompression","content":"Compression Decompression","title":"Compression, Decompression"},{"href":"/docs/linux/essential-commands/archiving-compression-decompression","content":"리눅스에서 파일을 압축하고 해제하는 방법에 대해 알아보겠습니다","title":"tar"},{"href":"/docs/linux/essential-commands/archiving-compression-decompression","content":"tar is a command-line utility that used to create and manipulate archive files in Linux It short form of Tape Archive tar은 리눅스에서 아카이브 파일을 생성하고 조작하는 데 사용되는 명령 줄 유틸리티로 Archive의 약자입니다 store extract from tape or disk very useful tool for archiving multiple together into single file also compress decompress","title":"Operation mode"},{"href":"/docs/linux/essential-commands/archiving-compression-decompression","content":"GNU-style usage","title":"--list"},{"href":"/docs/linux/essential-commands/archiving-compression-decompression","content":"bash tar --catenate--concatenate OPTIONS --file ARCHIVE --create FILE --diff--compare --delete MEMBER --append --list --test-label LABEL --update --extract--get - --concatenate -A -c --compare -d -D -r -t -l -u --extract -x --verbose -v","title":"--create"},{"href":"/docs/linux/essential-commands/archiving-compression-decompression","content":"Operation mode","title":"--append"},{"href":"/docs/linux/essential-commands/archiving-compression-decompression","content":"- --diff Find differences between archive and file system tar --filearchivetar file1 file2 file3 --test-label Test the volume label exit Volume 1 --update Only appendnot replace files newer than copy in","title":"--extract"},{"href":"/docs/linux/essential-commands/archiving-compression-decompression","content":"List the contents of an archive file sh tar --list --filearchivetar -tf archivetar tf file1 file2 file3","title":"Backup to remote server (disk image)"},{"href":"/docs/linux/essential-commands/archiving-compression-decompression","content":"Create a new archive file sh tar --create --filearchivetar file1 file2 file3 -cf archivetar","title":"Practice"},{"href":"/docs/linux/essential-commands/archiving-compression-decompression","content":"Append files to the end of an archive file sh tar --append --filearchivetar file4 file5 -rf archivetar","title":"Create a tar archive `logs.tar` (under bob's home) of `/var/log/` directory."},{"href":"/docs/linux/essential-commands/archiving-compression-decompression","content":"Extract files from an archive file 만약 tar --list --filearchivetar 명령어 즉 archivetar 에 포함된 파일 목록이 Pictures Picturesfamily_dogjpg 라고 가정하겠습니다 sh --extract -xf 위 명령어를 실행하면 현재 경로 기준으로 아래 파일들이 생성됩니다 homeuserPictures homeuserPicturesfamily_dogjpg 특정 파일을 추출하고 싶다면 -C 옵션을 사용합니다 --directory homeuser permission 까지 원본과 동일하게 유지하고 --preserve-permissions --- 리눅스에서 compression utilities는 세가지 종류format가 있습니다 format option과 예제들로 알아보겠습니다 - gzip -z --gzip bash -czf archivetargz file1 file2 file3 file1gz bzip2 -j --bzip2 -cjf archivetarbz2 file1bz2 xz -J --xz -cJf archivetarxz file1xz 각 해제하고 c x 로 변경하면 됩니다 확장자에 따라 자동으로 압축 할 수 있는 옵션도 --create --auto-compress --file 해제시는 압축된 포맷에 추출됩니다","title":"List the content of `/home/bob/logs.tar` archive and save output in `/home/bob/tar_data.txt` file."},{"href":"/docs/linux/essential-commands/archiving-compression-decompression","content":"Backup to remote server Directory","title":"Extract the contents of `/home/bob/archive.tar.gz` to `/tmp` directory."},{"href":"/docs/linux/essential-commands/archiving-compression-decompression","content":"원격서버에서 소프트웨어를 설치하거나 설정을 변경하면서 혹은 DB를 백업을 하고 싶을 때가 있습니다 리눅스 백업 관련 툴인 rsyncremote synchronization는 원격서버와 로컬서버간에 파일을 동기화using ssh하는데 사용되는 도구입니다 sh rsync -a Pictures xxxxxxxxxxbackupPictures 위 명령어는 로컬의Pictures 디렉토리를 원격서버의 backupPictures 디렉토리로 동기화합니다 -a--archive 옵션은 아래 옵션들을 포함합니다 - -r recursive -l copy symlinks as -p preserve permissions -t modification times -g group -o owner -D same --devices --specials 만약 명령어를 두번째 실행하면 변경된 파일만skip old data 즉 증분 반대로 로컬로 동기화하고 싶다면 아래와 같이 실행합니다","title":"Create a `bzip` archive under bob's home named `file.txt.bz2` out of `/home/bob/file.txt`, but preserve the original file. At end exercise you should have both"},{"href":"/docs/linux/essential-commands/archiving-compression-decompression","content":"Backup to remote server disk image","title":"Create a `file.tar` archive of `/home/bob/file` directory under `/home/bob` location."},{"href":"/docs/linux/essential-commands/archiving-compression-decompression","content":"때로 우리는 특정 파티션 디스크를 백업하고 싶을 때가 있습니다 dd 명령어는 디스크 이미지를 생성하거나 복사하는데 사용됩니다 sh sudo ifdevvda ofdisk-imageraw bs1M statusprogress 이는 해당 디스크파티션에 있는 모든 데이터를 이미지 비트 단위로 정확한 복사본을 만듭니다 Before saving a disk or partition image you should unmute that to make sure no data is being changed while back it up - if input file of output backup bs block size 속도를 높이기 위해 progress 진행상황을 보여줍니다","title":"Sort the contents of `/home/bob/values.conf` file and save sorted output in `/home/bob/values.sort ` file."},{"href":"/docs/linux/essential-commands/archiving-compression-decompression","content":"Restore from disk image","title":"Reference"},{"href":"/docs/linux/storage-management/monitoring-NBD","content":"Network block device","title":"Network block device"},{"href":"/docs/linux/storage-management/monitoring-NBD","content":"network block device NBD is a protocolhttpsenwikipediaorgwikiNetwork_protocol that can be used to forward devicehttpsenwikipediaorgwikiDevice_node typically hard disk or partition from one machine second As an example local access drive attached another computer remote storage does not physically reside in the 기술적으로 네트워크 블록 장치는 서버 부분 클라이언트 이들 사이의 네트워크라는 세 가지 구성 요소로 구현됩니다 파일 디바이스가 있는 시스템에서 파일에 접근할때커널 드라이버가 장치를 제어합니다 데이터가 물리적으로 상주하는 시스템 클라이언트의 요청은 사용자 공간 프로그램에 의해 처리됩니다 --- NBD는 클라이언트서버 아키텍처에 따라 작동합니다 서버를 사용하여 호스트에서 볼륨을 장치로 사용할 수 있게 만든 다음 클라이언트를 실행하여 다른 해당 볼륨에 연결합니다","title":"ServerSide"},{"href":"/docs/linux/storage-management/monitoring-NBD","content":"serverIP 1921681100","title":"Export device"},{"href":"/docs/linux/storage-management/monitoring-NBD","content":"Setup server","title":"Export img file"},{"href":"/docs/linux/storage-management/monitoring-NBD","content":"bash apt-get install nbd-server modprobe nbd after installation you can begin to export a device or file now - 모듈리눅스 커널의 확장 프로그램을 로드하거나 언로드하는 명령어입니다","title":"ClientSide"},{"href":"/docs/linux/storage-management/monitoring-NBD","content":"Export device","title":"Setup client"},{"href":"/docs/linux/storage-management/monitoring-NBD","content":"Example export ServerSide Disk Device like devsda on port 9999 bash nbd-server","title":"Mount"},{"href":"/docs/linux/storage-management/monitoring-NBD","content":"Export img file","title":"Monitoring storage"},{"href":"/docs/linux/storage-management/monitoring-NBD","content":"Example export ServerSide img file like vmdiskimg on port 9998 bash nbd-server pathtovmdiskimg over NDB can be useful if youre working with virtual disk images for example","title":"setup"},{"href":"/docs/linux/storage-management/monitoring-NBD","content":"clientIP 1921681200","title":"`kB_dscd`: 버퍼 캐시에 저장된 데이터를 버리는 횟수"},{"href":"/docs/linux/storage-management/monitoring-NBD","content":"Setup client","title":"please delete me"},{"href":"/docs/linux/storage-management/monitoring-NBD","content":"On the client machine that we want to use connect NBD export just created first need install package with bash apt-get nbd-client modprobe - 모듈리눅스 커널의 확장 프로그램을 로드하거나 언로드하는 명령어입니다 명령어는 모듈을 로드합니다 이 로드하고 모듈은 클라이언트 시스템에서 네트워크 블록 장치를 사용할 수 있게 해줍니다","title":"Reference"},{"href":"/docs/linux/storage-management/monitoring-NBD","content":"Network block device","title":"Network block device"},{"href":"/docs/linux/storage-management/monitoring-NBD","content":"network block device NBD is a protocolhttpsenwikipediaorgwikiNetwork_protocol that can be used to forward devicehttpsenwikipediaorgwikiDevice_node typically hard disk or partition from one machine second As an example local access drive attached another computer remote storage does not physically reside in the 기술적으로 네트워크 블록 장치는 서버 부분 클라이언트 이들 사이의 네트워크라는 세 가지 구성 요소로 구현됩니다 파일 디바이스가 있는 시스템에서 파일에 접근할때커널 드라이버가 장치를 제어합니다 데이터가 물리적으로 상주하는 시스템 클라이언트의 요청은 사용자 공간 프로그램에 의해 처리됩니다 --- NBD는 클라이언트서버 아키텍처에 따라 작동합니다 서버를 사용하여 호스트에서 볼륨을 장치로 사용할 수 있게 만든 다음 클라이언트를 실행하여 다른 해당 볼륨에 연결합니다","title":"ServerSide"},{"href":"/docs/linux/storage-management/monitoring-NBD","content":"serverIP 1921681100","title":"Export device"},{"href":"/docs/linux/storage-management/monitoring-NBD","content":"Setup server","title":"Export img file"},{"href":"/docs/linux/storage-management/monitoring-NBD","content":"bash apt-get install nbd-server modprobe nbd after installation you can begin to export a device or file now - 모듈리눅스 커널의 확장 프로그램을 로드하거나 언로드하는 명령어입니다","title":"ClientSide"},{"href":"/docs/linux/storage-management/monitoring-NBD","content":"Export device","title":"Setup client"},{"href":"/docs/linux/storage-management/monitoring-NBD","content":"Example export ServerSide Disk Device like devsda on port 9999 bash nbd-server","title":"Mount"},{"href":"/docs/linux/storage-management/monitoring-NBD","content":"Export img file","title":"Monitoring storage"},{"href":"/docs/linux/storage-management/monitoring-NBD","content":"Example export ServerSide img file like vmdiskimg on port 9998 bash nbd-server pathtovmdiskimg over NDB can be useful if youre working with virtual disk images for example","title":"setup"},{"href":"/docs/linux/storage-management/monitoring-NBD","content":"clientIP 1921681200","title":"`kB_dscd`: 버퍼 캐시에 저장된 데이터를 버리는 횟수"},{"href":"/docs/linux/storage-management/monitoring-NBD","content":"Setup client","title":"please delete me"},{"href":"/docs/linux/storage-management/monitoring-NBD","content":"On the client machine that we want to use connect NBD export just created first need install package with bash apt-get nbd-client modprobe - 모듈리눅스 커널의 확장 프로그램을 로드하거나 언로드하는 명령어입니다 명령어는 모듈을 로드합니다 이 로드하고 모듈은 클라이언트 시스템에서 네트워크 블록 장치를 사용할 수 있게 해줍니다","title":"Reference"},{"href":"/docs/linux/essential-commands","content":"Linux Essential Commands","title":"Linux Essential Commands"},{"href":"/docs/linux/essential-commands","content":"리눅스는 Ubuntu Centos etc 다양한 배포판이 존재합니다 일부 상이한 명령어와 호환성 문제가 있을 수 있습니다 운영체제를 확인하는 방법을 알아 보겠습니다 sh","title":"in centos"},{"href":"/docs/linux/essential-commands","content":"lsb_release -a","title":"printf 함수의 메뉴얼을 보고 싶다면"},{"href":"/docs/linux/essential-commands","content":"cat etcredhat-release - lsb_release -a LSBLinux Standard Base 정보를 출력합니다 레드햇 계열의 배포판에서 사용하는 명령어로 배포판의 버전을 확인할 수 있습니다 커널이란 운영체제의 핵심 부분으로 하드웨어와 소프트웨어를 연결하는 역할을 합니다 커널의 확인하는 방법은 다음과 같습니다 sh uname -r 명령어는","title":"System administration commands (usually only for root)"},{"href":"/docs/linux/essential-commands","content":"Read  use system documentation","title":"Package Manager"},{"href":"/docs/linux/essential-commands","content":"리눅스 명령어를 사용하는데 있어서 가장 중요한 것은 시스템의 메뉴얼을 읽고 사용하는 것입니다 목적에 따라 어떤 어떻게 사용할지 인지하는 필수적입니다 sh man","title":"Check OS"},{"href":"/docs/linux/essential-commands","content":"printf 함수의 메뉴얼을 보고 싶다면","title":"in ubuntu"},{"href":"/docs/linux/essential-commands","content":"man 3 printf","title":"in centos"},{"href":"/docs/linux/essential-commands","content":"관리자 권한으로 실행 가능한 커맨드를 보고싶다면","title":"Help DNF"},{"href":"/docs/linux/essential-commands","content":"System administration commands usually only for root","title":"install"},{"href":"/docs/linux/essential-commands","content":"man 8 clear 참고로 인자중 숫자는 섹션을 의미한다 Section Meaning ------- ------------------------------------------ 1 General commands 2 System calls 3 Library functions 4 Special files 5 File formats and conventions 6 Games screensavers 7 Miscellanea administration daemons 만약 메뉴얼을 보고 싶은 명령어가 기억나지 않는다면 apropos 명령어를 사용하면 된다 디렉토리 관련 찾고 싶다면 다음과 같이 sh -s 18 director 위 명령어는 검색어 기준으로 description을 검색한다 DB 가 초기화 되지 않아 검색이 sudo mandb 과 더불어 info 또한 비슷한 문법으로 더 많은 기능을 제공하니 참고하시면 좋을 것 같습니다","title":"in ubuntu"},{"href":"/docs/linux/essential-commands","content":"Package Manager","title":"in centos"},{"href":"/docs/linux/essential-commands","content":"여느 소프트웨어가 그러하듯 리눅스 또한 OS별 패키지 매니저가 존재합니다 - Ubuntu의 aptAdvanced Package Tool Centos의 dnf 가 있다 는 Dandified YUM의 약자로 기존 Red Hat 계열의 관리자인 yum의 단점인 느린 속도 과다한 메모리 사용 의존성 결정이 느림 과 같은 단점을 개선한 새로운 관리자입니다","title":"in ubuntu"},{"href":"/docs/linux/essential-commands","content":"운영체제별 패키지 매니저를 확인하는 방법은 다음과 같습니다 sh","title":"in ubuntu"},{"href":"/docs/linux/essential-commands","content":"dpkg --version","title":"in ubuntu"},{"href":"/docs/linux/essential-commands","content":"dnf --version","title":"in ubuntu"},{"href":"/docs/linux/essential-commands","content":"자주 사용되는 dnf 명령어들을 알아보겠습니다 - alias 명령어에 대한 별칭을 설정합니다 install 대신 i 를 사용할 수 있습니다 ex list of aliaes add iinstall autoremove 사용하지 않는 패키지를 자동으로 삭제합니다 provides 패키지가 제공하는 파일을 찾습니다 repolist 저장소 목록을 보여줍니다 시 저장소를 지정할 --disablereporepo1 --enablereporepo2 search 검색합니다 httpd --installed 설치된 패키지 grep ldap --available 사용 가능한 repoquery 패키지에 정보를 --list 포함된 파일 --requires 의존하는 --provides 기능 --whatprovides usrbinhttpd","title":"in ubuntu"},{"href":"/docs/linux/essential-commands","content":"Repository update  upgrade in Ubuntu","title":"in centos dnf"},{"href":"/docs/linux/essential-commands","content":"apt update 명령어는 시스템의 패키지 목록을 최신 상태로 업데이트합니다 이 명령어를 실행하면 시스템은 설정된 소프트웨어 리포지토리에서 사용 가능한 패키지와 그 버전 정보를 가져와 로컬 데이터베이스를 이렇게 하면 upgrade나 install 사용할 때 패키지를 설치하거나 기존 버전으로 업그레이드할 수 있습니다 sh sudo upgrade","title":"in ubuntu"},{"href":"/docs/linux/essential-commands","content":"nginx 패키지를 설치해보겠습니다 sh","title":"bash: ldd로 의존성 탐색"},{"href":"/docs/linux/essential-commands","content":"sudo apt install nginx","title":"in ubuntu"},{"href":"/docs/linux/essential-commands","content":"sudo dnf install nginx 우린 최신버전의 패키지archive 와 의존성들을 설치했습니다 패키지는 프로그램과 더불어 documentman info share example 등을 담고있습니다 어떤 파일들로 구성되었는지 알아볼까요 sh","title":"types uri code-name(release name) ...components"},{"href":"/docs/linux/essential-commands","content":"dpkg --listfiles nginx usr usrshare usrsharedoc usrsharedocnginx usrsharedocnginxcopyright usrsharedocnginxchangelogDebiangz","title":"Docker 설치 시나리오"},{"href":"/docs/linux/essential-commands","content":"in centos dnf","title":"$ apt-key list"},{"href":"/docs/linux/essential-commands","content":"dnf repoquery --list nginx dependency 인 nginx-core도 확인해보겠습니다 sh","title":"Package repository in CentOS"},{"href":"/docs/linux/essential-commands","content":"dpkg --listfiles nginx-core","title":"RHEL"},{"href":"/docs/linux/essential-commands","content":"in centos dnf","title":"dnf's config-manager"},{"href":"/docs/linux/essential-commands","content":"dnf repoquery --list nginx-core usr usrsbin usrsbinnginx usrshare usrsharedoc usrsharedocnginx-core usrsharedocnginx-corecopyright usrshareman usrsharemanman8 usrsharemanman8nginx8gz usrsharedocnginx-corechangelogDebiangz 자주 사용되는 는 nginx-core에 포함되어 있습니다 가 있는지 알기 쉽지않습니다 bin 파일로부터 어떤 패키지에 속해있는지 알아보는 방법이 있을까요 sh","title":"EPEL (Extra Packages for Enterprise Linux)"},{"href":"/docs/linux/essential-commands","content":"dpkg -S usrsbinnginx --search nginx-core","title":"PowerTools"},{"href":"/docs/linux/essential-commands","content":"in centos dnf","title":"Enable"},{"href":"/docs/linux/essential-commands","content":"dnf repoquery --requires nginx- nginx-core 하나씩 알아보는건 성미에 맞지않습니다 패키지 자체에 대한 정보를 확인할 수 있는 명령어가 있을까요 sh","title":"in latest centos"},{"href":"/docs/linux/essential-commands","content":"apt show -a nginx","title":"stat -x /etc/passwd"},{"href":"/docs/linux/essential-commands","content":"in centos dnf","title":"stat -x ~/Code/Temp/demo/mvnw"},{"href":"/docs/linux/essential-commands","content":"dnf info nginx Package Version 1180-0ubuntu14 Maintainer Ubuntu Developers ubuntu-devel-discusslistsubuntucom Original-Maintainer Debian Nginx Maintainers pkg-nginx-maintainerslistsaliothdebianorg Bugs httpsbugslaunchpadnetubuntufilebug Installed-Size 461 kB Depends nginx-core 1180-0ubuntu141 nginx-full nginx-light nginx-extras Homepage httpnginxnet Download-Size 3620 B APT-Manual-Installed yes APT-Sources httpkrarchiveubuntucomubuntu focal-updatesmain amd64 Packages Description small powerful scalable webproxy server engine X is a high-performance web and reverse proxy created by Igor Sysoev It can be used both as standalone to reduce the load on back-end HTTP or mail servers This dependency package install either default 상당히 만족스럽습니다 패키지를 apt uninstall로 삭제하면 의존성이 있는 다른 패키지들도 같이 삭제됩니다 이러한 의존성을 확인하고 싶다면 apt-cache 명령어를 사용하면 됩니다 sh","title":"Hard Link"},{"href":"/docs/linux/essential-commands","content":"apt-cache depends bash","title":"Soft Link"},{"href":"/docs/linux/essential-commands","content":"in centos dnf","title":"By topic"},{"href":"/docs/linux/essential-commands","content":"dnf repoquery --requires bash 이 명령어는 bash가 의존하고 있는 패키지들을 보여줍니다 또한 orphan dependencies를 자동으로 삭제하려면 sh","title":"Setting"},{"href":"/docs/linux/essential-commands","content":"sudo apt autoremove","title":"Practice"},{"href":"/docs/linux/essential-commands","content":"in centos dnf","title":"How do we get a list of all CentOS repositories that are `enabled` or `disabled`?"},{"href":"/docs/linux/essential-commands","content":"sudo dnf autoremove 를 사용하면 됩니다","title":"install the group that brings in software related to `Container Management`."},{"href":"/docs/linux/essential-commands","content":"bash ldd로 의존성 탐색","title":"Identify which software package provides the program at `/bin/top`"},{"href":"/docs/linux/essential-commands","content":"어떤 프로그램은 프로그램 파일만으로 실행이 되기도 하지만 많은 프로그램들은 시스템 상에 다른 파일에 의존하고 있습니다 이를 동적 라이브러리라고 합니다 bash 또한 이러한 파일들에 대한 의존성을 가지고 있고 파일 아래에 이 파일들이 존재하지 않으면 되지 않습니다 프로그램이 있는 라이브러리 파일을 추적할 수 바로 ldd입니다 ldd는 다음과 같이 사용합니다 ldd binbash linux-vdsoso1 0x00007ffe988fb000 libtinfoso5 libx86_64-linux-gnulibtinfoso5 0x00007f1a60cd2000 libdlso2 libx86_64-linux-gnulibdlso2 0x00007f1a60ace000 libcso6 libx86_64-linux-gnulibcso6 0x00007f1a606dd000 lib64ld-linux-x86-64so2 0x00007f1a61216000","title":"List what old packages can be upgraded and store the list in `/home/bob/upgrade.txt` file."},{"href":"/docs/linux/essential-commands","content":"Package repository in Ubuntu","title":"Search the package related to `Apache HTTP Server`"},{"href":"/docs/linux/user-group/ACL","content":"What is ACL","title":"What is ACL"},{"href":"/docs/linux/user-group/ACL","content":"ACL은 Access Control List의 약자로 파일이나 디렉토리에 대한 접근 권한을 설정하는 기능이다 리눅스에서는 기본적으로 사용자 그룹 기타 사용자에 설정할 수 있지만 ACL을 사용하면 더 세밀한 있다 만약 소유자 뿐 아니라 sp 사용자에게 읽기 부여하고 싶다면 이때 된다 파일 시스템에 따라 지원 여부가 다르다 리눅스에서 ext xfs 시스템은 지원하니 안심하자","title":"Access Check Algorithm"},{"href":"/docs/linux/user-group/ACL","content":"Access Check Algorithm","title":"Install"},{"href":"/docs/linux/user-group/ACL","content":"ACL_MASK ACL_USER ACL_GROUP_OBJ 또는 ACL_GROUP 유형의 항목에 의해 부여될 수 있는 최대 액세스 권한을 나타냅니다 한정자qualifier 는 태그 유형이 각각 ACL_GROUP인 대해 사용자 그룹의 식별자를 1 액세스를 요청한 process 의 uid가 파일의 소유자 uid와 일치하는지 확인한다 then ACL_USER_OBJ 요청된 권한이 포함되어 있으며 액세스가 허용됩니다 2 else 다음 단계로 이동 프로세스의 uid 가 유형 항목의 한정자qualifierof와 일치하는 경우 항목과 있으면 3 유효effective 그룹 ID 보조supplementary 중 하나가 파일 한정자와 비교 ACL_OTHER","title":"Set ACL to file or directory"},{"href":"/docs/linux/user-group/ACL","content":"acl 패키지를 설치하자 bash sudo dnf install apt","title":"Options"},{"href":"/docs/linux/user-group/ACL","content":"Set ACL to file or directory","title":"Output format"},{"href":"/docs/linux/user-group/ACL","content":"setfacl 명령어를 사용하여 ACL을 설정할 수 있다 bash option userpermission file or directory acl path -bkndRLPvh -m-x acl_spec -M-X acl_file --restorefile -m modify 생성 -x 삭제 -b 초기값모든권한 초기상태 권한 및 mask 등 지정한 권한을 전부 제거 -R recursive 디렉터리의 경우 하위 디렉터리와 파일까지 변경 -k default uuser ggroup oother ddefault uusernamerwx 사용자 ggroupnamerwx 그룹 orwx Other dugorwx ex uuserrw rootfile1 sp에게 mntbackupsp 디렉토리 전체에대한 읽기 부여하고 싶다면 sudo --recursive uspr 다시 디렉토리만 쓰기 --modify usersprw group family 에게 디렉토리에 대한 gfamilyr etchosts 파일에 groupfamilyw user sp의 삭제하고 --remove usp","title":"file: somedir/"},{"href":"/docs/linux/user-group/ACL","content":"위 명령어들을 다루고나면 ls 명령어를 사용하여 ACL을 확인할 수 있다 bash -l etchosts -rw-rw-r-- 1 root 0 Apr 19 2344 기호가 보이는 것을 이것은 ACL이 설정되어 있다는 의미한다 확인하려면 getfacl 사용하자 각 파일에 대해 getfacl은 파일 이름 소유자 그룹 및 ACL액세스 제어 목록을 표시합니다 디렉토리에 기본 있는 경우 ACL도 디렉터리가 아닌 경우에는 가질 없습니다 지원하지 않는 시스템에서 getfacl을 사용하는 기존 모드 권한 비트로 정의된 액세스 권한을 option file or directory ex mntbackupsp","title":"group: staff"},{"href":"/docs/linux/user-group/ACL","content":"-R recursive 디렉터리의 경우 하위 디렉터리와 파일까지 권한 확인 -a --access Display the file access control list -d --default default -c --omit-header Do not display comment header first three lines of each files output -e --all-effective Print all effective rights comments even if identical to defined by ACL entry -E --no-effective print -s --skip-base Skip that only have base entries owner group others --recursive List ACLs and directories recursively -L --logical Logical walk follow symbolic links The behavior is link arguments skip encountered in subdirectories Only combination with -P --physical Physical do This also skips -t --tabular Use an alternative tabular format are displayed side Permissions ineffective due mask capitalized tag names for ACL_USER_OBJ ACL_GROUP_OBJ capital letters which helps spotting those -p --absolute-names strip leading slash characters -n --numeric numeric user IDs -v --version version getfacl exit -h --help help explaining command line options","title":"effective:r-x"},{"href":"/docs/linux/user-group/ACL","content":"Output format","title":"effective:r-x"},{"href":"/docs/linux/user-group/ACL","content":"file somedir","title":"chattr"},{"href":"/docs/linux/user-group/ACL","content":"group staff","title":"list of attributes"},{"href":"/docs/linux/user-group/ACL","content":"5 userrwx 6 userjoerwx","title":"In your home directory you will find a file named `specialfile`. Add an ACL permission to this so that the user called john can read and write it."},{"href":"/docs/linux/user-group/ACL","content":"effectiver-x","title":"file: specialfile"},{"href":"/docs/linux/user-group/ACL","content":"effectiver-x","title":"group: bob"},{"href":"/docs/linux/user-group/ACL","content":"8 groupcoolr-x 9 maskr-x 10 otherr-x 11 defaultuserrwx 12 defaultuserjoerwx","title":"To the file called specialfile add an ACL permission for group mail. The mail should get permissions to read and execute this file."},{"href":"/docs/linux/user-group/ACL","content":"effectiver-x","title":"file: specialfile"},{"href":"/docs/linux/user-group/ACL","content":"13 defaultgroupr-x 14 defaultmaskr-x 15 defaultother--- 1 파일 이름 2 소유자 3 그룹 4 flags setuid들 setgid들 및 고정t 비트를 나타냅니다 5 7m 10 모드 권한 비트의 사용자 기타 필드에 응답합니다 이 세 가지를 기본 ACL 항목이라고 합니다 6 8행은 특정named 항목입니다 9행은 유효 마스크입니다 항목은 모든 특정 사용자에게 부여된 권한을 제한합니다그이상 줄 수 없음 11행 이후는 이러한 디렉터리에 대한 ACL을","title":"owner: bob"},{"href":"/docs/linux/user-group/ACL","content":"change file attributes on a Linux system","title":"Remove the file called specialfile from your home directory. You will notice that not even sudo rm can remove this file. That's because is currently immutable. immutable flag it and then delete"},{"href":"/docs/linux/user-group/ACL","content":"What is ACL","title":"What is ACL"},{"href":"/docs/linux/user-group/ACL","content":"ACL은 Access Control List의 약자로 파일이나 디렉토리에 대한 접근 권한을 설정하는 기능이다 리눅스에서는 기본적으로 사용자 그룹 기타 사용자에 설정할 수 있지만 ACL을 사용하면 더 세밀한 있다 만약 소유자 뿐 아니라 sp 사용자에게 읽기 부여하고 싶다면 이때 된다 파일 시스템에 따라 지원 여부가 다르다 리눅스에서 ext xfs 시스템은 지원하니 안심하자","title":"Access Check Algorithm"},{"href":"/docs/linux/user-group/ACL","content":"Access Check Algorithm","title":"Install"},{"href":"/docs/linux/user-group/ACL","content":"ACL_MASK ACL_USER ACL_GROUP_OBJ 또는 ACL_GROUP 유형의 항목에 의해 부여될 수 있는 최대 액세스 권한을 나타냅니다 한정자qualifier 는 태그 유형이 각각 ACL_GROUP인 대해 사용자 그룹의 식별자를 1 액세스를 요청한 process 의 uid가 파일의 소유자 uid와 일치하는지 확인한다 then ACL_USER_OBJ 요청된 권한이 포함되어 있으며 액세스가 허용됩니다 2 else 다음 단계로 이동 프로세스의 uid 가 유형 항목의 한정자qualifierof와 일치하는 경우 항목과 있으면 3 유효effective 그룹 ID 보조supplementary 중 하나가 파일 한정자와 비교 ACL_OTHER","title":"Set ACL to file or directory"},{"href":"/docs/linux/user-group/ACL","content":"acl 패키지를 설치하자 bash sudo dnf install apt","title":"Options"},{"href":"/docs/linux/user-group/ACL","content":"Set ACL to file or directory","title":"Output format"},{"href":"/docs/linux/user-group/ACL","content":"setfacl 명령어를 사용하여 ACL을 설정할 수 있다 bash option userpermission file or directory acl path -bkndRLPvh -m-x acl_spec -M-X acl_file --restorefile -m modify 생성 -x 삭제 -b 초기값모든권한 초기상태 권한 및 mask 등 지정한 권한을 전부 제거 -R recursive 디렉터리의 경우 하위 디렉터리와 파일까지 변경 -k default uuser ggroup oother ddefault uusernamerwx 사용자 ggroupnamerwx 그룹 orwx Other dugorwx ex uuserrw rootfile1 sp에게 mntbackupsp 디렉토리 전체에대한 읽기 부여하고 싶다면 sudo --recursive uspr 다시 디렉토리만 쓰기 --modify usersprw group family 에게 디렉토리에 대한 gfamilyr etchosts 파일에 groupfamilyw user sp의 삭제하고 --remove usp","title":"file: somedir/"},{"href":"/docs/linux/user-group/ACL","content":"위 명령어들을 다루고나면 ls 명령어를 사용하여 ACL을 확인할 수 있다 bash -l etchosts -rw-rw-r-- 1 root 0 Apr 19 2344 기호가 보이는 것을 이것은 ACL이 설정되어 있다는 의미한다 확인하려면 getfacl 사용하자 각 파일에 대해 getfacl은 파일 이름 소유자 그룹 및 ACL액세스 제어 목록을 표시합니다 디렉토리에 기본 있는 경우 ACL도 디렉터리가 아닌 경우에는 가질 없습니다 지원하지 않는 시스템에서 getfacl을 사용하는 기존 모드 권한 비트로 정의된 액세스 권한을 option file or directory ex mntbackupsp","title":"group: staff"},{"href":"/docs/linux/user-group/ACL","content":"-R recursive 디렉터리의 경우 하위 디렉터리와 파일까지 권한 확인 -a --access Display the file access control list -d --default default -c --omit-header Do not display comment header first three lines of each files output -e --all-effective Print all effective rights comments even if identical to defined by ACL entry -E --no-effective print -s --skip-base Skip that only have base entries owner group others --recursive List ACLs and directories recursively -L --logical Logical walk follow symbolic links The behavior is link arguments skip encountered in subdirectories Only combination with -P --physical Physical do This also skips -t --tabular Use an alternative tabular format are displayed side Permissions ineffective due mask capitalized tag names for ACL_USER_OBJ ACL_GROUP_OBJ capital letters which helps spotting those -p --absolute-names strip leading slash characters -n --numeric numeric user IDs -v --version version getfacl exit -h --help help explaining command line options","title":"effective:r-x"},{"href":"/docs/linux/user-group/ACL","content":"Output format","title":"effective:r-x"},{"href":"/docs/linux/user-group/ACL","content":"file somedir","title":"chattr"},{"href":"/docs/linux/user-group/ACL","content":"group staff","title":"list of attributes"},{"href":"/docs/linux/user-group/ACL","content":"5 userrwx 6 userjoerwx","title":"In your home directory you will find a file named `specialfile`. Add an ACL permission to this so that the user called john can read and write it."},{"href":"/docs/linux/user-group/ACL","content":"effectiver-x","title":"file: specialfile"},{"href":"/docs/linux/user-group/ACL","content":"effectiver-x","title":"group: bob"},{"href":"/docs/linux/user-group/ACL","content":"8 groupcoolr-x 9 maskr-x 10 otherr-x 11 defaultuserrwx 12 defaultuserjoerwx","title":"To the file called specialfile add an ACL permission for group mail. The mail should get permissions to read and execute this file."},{"href":"/docs/linux/user-group/ACL","content":"effectiver-x","title":"file: specialfile"},{"href":"/docs/linux/user-group/ACL","content":"13 defaultgroupr-x 14 defaultmaskr-x 15 defaultother--- 1 파일 이름 2 소유자 3 그룹 4 flags setuid들 setgid들 및 고정t 비트를 나타냅니다 5 7m 10 모드 권한 비트의 사용자 기타 필드에 응답합니다 이 세 가지를 기본 ACL 항목이라고 합니다 6 8행은 특정named 항목입니다 9행은 유효 마스크입니다 항목은 모든 특정 사용자에게 부여된 권한을 제한합니다그이상 줄 수 없음 11행 이후는 이러한 디렉터리에 대한 ACL을","title":"owner: bob"},{"href":"/docs/linux/user-group/ACL","content":"change file attributes on a Linux system","title":"Remove the file called specialfile from your home directory. You will notice that not even sudo rm can remove this file. That's because is currently immutable. immutable flag it and then delete"},{"href":"/docs/linux/essential-commands/file-manage","content":"File permission","title":"File permission"},{"href":"/docs/linux/essential-commands/file-manage","content":"리눅스는 모든 것을 파일로 간주합니다 디렉토리 파일 소켓 프로세스 사용자 그룹 등 것은 표현됩니다 파일에는 권한이 있습니다 이 권한은 파일을 읽고 쓰고 실행할 수 있는지 여부를 결정합니다 소유자 기타 사용자에 대해 설정됩니다 UNIX 에서 파일에 대한 비트로 - 일반 권한소유자 other 에 rwx3bit 권한 9bit 특수 3bit","title":"Normal Permission"},{"href":"/docs/linux/essential-commands/file-manage","content":"Normal Permission","title":"특수권한"},{"href":"/docs/linux/essential-commands/file-manage","content":"일반 파일 권한3bit은 소유자 그룹 기타 사용자에 대해 설정됩니다 - r 읽기 권한4 100 w 쓰기 권한2 010 x 실행 권한1 001 권한은 십진수 8진수23 22 21 111 문자로 표현될 수 있습니다","title":"sed"},{"href":"/docs/linux/essential-commands/file-manage","content":"- setuid 4 100 파일에 대한 operation을 실행하는 권한이 세션의로그인된 whoami사용자가 아닌 파일의 소유자의 권한으로 실행됩니다 만약 root로 실행되야 하는 프로그램이 있다면 사용자에게 root 비밀번호를 알려줄 것인가 아니다 이걸 핑계로 비번을 알려달라하는 동료에게 setuid가 있다는 현실을 알려주세요 ㅋ chmod 4755 file s setgid 2 010 파일을 사용자의 그룹이 그룹의 docker 명령어는 그룹에 속한 사용자만 실행할 수 있습니다 2755 g 한번 테스트 해보세요 sticky bit 1 001 소유자 또는 수정삭제 허용합니다 -S bit가 설정된경우 권한의 x가 S로 표시됩니다 1755 t","title":"find"},{"href":"/docs/linux/essential-commands/file-manage","content":"sedstream editor for filtering and transforming text 입력 스트림에서 기본 텍스트 변환을 수행합니다 bash sed OPTION script-only-if-no-other-script input-file cat file","title":"Practice"},{"href":"/docs/linux/essential-commands/file-manage","content":"Search file","title":"What command would find files and directories modified in the last 5 minutes `/dev` directory?"},{"href":"/docs/linux/essential-commands/file-manage","content":"우리는 파일 시스템에게 inode를 사용하여 파일을 찾도록 요청합니다","title":"What command **removes** the write permission for `group` from a file?"},{"href":"/docs/linux/essential-commands/file-manage","content":"find 명령어는 파일 시스템에서 파일을 찾는데 사용됩니다 bash path option expression - 찾을 디렉토리 옵션 파일의 표현식","title":"except can read and write to others"},{"href":"/docs/linux/essential-commands/file-manage","content":"- -mmin 파일이 마지막으로 수정된 시간으로 파일을 찾습니다 vi 편집기로 수정하면 수정됩니다 -mtime 날짜로 -amin 접근된 cat 명령어로 읽으면 접근됩니다 -atime -cmin 파일의 상태가 변경된 ex chmod 권한을 변경하면 변경됩니다 chown 소유자를 -ctime -size 크기로 크기보다 큰 작은 c 바이트 단위로 크기를 k 킬로바이트 M 메가바이트 G 기가바이트 -L 심볼릭 링크를 따라가서 -type 타입으로 f Regular file d Directory Character device b Block p Named pipe s Socket","title":"-iname : ignore case sensitive"},{"href":"/docs/linux/essential-commands/file-manage","content":"What command would find files and directories modified in the last 5 minutes dev directory","title":"Find all files between 5mb and 10mb in the /usr directory"},{"href":"/docs/linux/essential-commands/file-manage","content":"bash find dev -mmin -5 5분 이내에 수정된 파일을 찾습니다 5 현재 시간으로부터 이상 전인 파일들을 ---","title":"Find all files in `/opt/findme/` you need to filter out specific and copy it `/opt` directory"},{"href":"/docs/linux/essential-commands/file-manage","content":"What command removes the write permission for group from a file","title":"Delete all files created before `2020`."},{"href":"/docs/linux/essential-commands/file-manage","content":"bash chmod g-w file ---","title":"17 deleted"},{"href":"/docs/linux/essential-commands/file-manage","content":"Find filesdirectories under varlog directory that the group can write to but others cannot read or it","title":"Find any file that is `larger` than `1KB` and copy it to the `/opt/` directory."},{"href":"/docs/linux/essential-commands/file-manage","content":"Save the list of filesdirectories with complete parent path in homebobdatatxt file To make this easier to understand logic command can be broken down like - Permissions for group have at least w If theres also an extra r or x there it will still match others not That means if any these two permissions result has excluded bash","title":"Update the permissions for `some_directory` to `rwxr-xr-x`"},{"href":"/docs/linux/essential-commands/file-manage","content":"except can read and write to others","title":"print the second column of file `testfile` using `cut` command"},{"href":"/docs/linux/essential-commands/file-manage","content":"include can write to group","title":"Replace all occurrence of string `%$2jh//238720//31223` with `$2//23872031223` in `/home/bob/data.txt` file."},{"href":"/docs/linux/essential-commands/file-manage","content":"-iname  ignore case sensitive","title":"대문자로 시작하고 그 뒤에 정확히 두 개의 소문자가 오는 단어가 포함된 줄을 필터링합니다."},{"href":"/docs/linux/essential-commands/file-manage","content":"sudo find varlog -perm gw orw homebobdatatxt","title":"/home/bob/textfile 파일에는 5자리 숫자가 있습니다."},{"href":"/docs/linux/essential-commands/file-manage","content":"Find our secret file under homebob You can either look for a that is exactly 213 kilobytes or has permission 402 in octal","title":"`/app/user` or `.*hacker-bot/1.2` 문자열이 포함된 문자열을 'Mlong' 으로 치환합니다."},{"href":"/docs/linux/essential-commands/file-manage","content":"secret file must include in the path bash find homebob -size 213k -o -perm 402 homebobsecfiletxt","title":"Find all files in the `collection` directory that have a filename **ending with** `.txt`. Move such to `/opt/textfiles/` directory."},{"href":"/docs/linux/essential-commands/file-manage","content":"Add the permissions for setuid setgid and sticky bit on homebobdatadir directory","title":"Find all files in the `collection` directory that are **owned** by user called `adm`. Copy such to `/opt/admfiles/` directory."},{"href":"/docs/linux/essential-commands/file-manage","content":"bash chmod usgsot homebobdatadir","title":"Find all files in the `collection` directory that were modified less **than 1 hour ago**. **Copy** such to `/opt/oldfiles/` directory."},{"href":"/docs/linux/essential-commands/file-manage","content":"Find all files between 5mb and 10mb in the usr directory","title":"After performing these actions, what is the **octal permission number** for `/opt/bob/` directory?"},{"href":"/docs/linux/essential-commands/file-manage","content":"bash sudo find usr -size 5M -10M","title":"Find word sort and list in `lsmanpage.txt` file redirect the output to `/opt/filtered.txt` file:"},{"href":"/docs/linux/essential-commands/file-manage","content":"Find all files in optfindme  you need to filter out specific and copy it opt directory","title":"Filter out all the lines in `shuffled.txt` file that **end with** digit `0` and redirect output to `/opt/filtsort.txt` file:"},{"href":"/docs/linux/essential-commands/file-manage","content":"- one that will make it look for objects have at least the ux permission enabled another filter results to only show file type ignoring directories and others bash sudo find optfindme -type f -perm optfindmefile009 optfindmefile253 optfindmefile688","title":"/home/bob/textfile에서 숫자 2로 시작하는 숫자는 몇 개입니까?"},{"href":"/docs/linux/essential-commands/file-manage","content":"Delete all files created before 2020","title":"How many lines in /home/bob/testfile file begin with string Section,"},{"href":"/docs/linux/essential-commands/file-manage","content":"Always debug a command first by just listing without executing num of files 300 bash find -newermt 01012020 -type f wc -l 17 -exec rm ls grep backup 283","title":"print last `500` lines of `/home/bob/textfile` file"},{"href":"/docs/linux/essential-commands/file-manage","content":"- newermt 지정한 날짜 이후 변경된 파일 찾기에 사용됩니다","title":"Reference"},{"href":"/docs/linux/user-group/LDAP","content":"What is LDAP","title":"What is LDAP?"},{"href":"/docs/linux/user-group/LDAP","content":"LDAPLightweight Directory Access Protocol 는 디렉터리 서비스를 위한 프로토콜이다 서비스는 사용자 그룹 서비스등의 정보를 저장하고 검색하기 서비스이다","title":"Architecture"},{"href":"/docs/linux/user-group/LDAP","content":"Architecture","title":"LDAP Server"},{"href":"/docs/linux/user-group/LDAP","content":"LDAP Server","title":"Client"},{"href":"/docs/linux/user-group/LDAP","content":"- host 1921680103","title":"Configure LDAP Server"},{"href":"/docs/linux/user-group/LDAP","content":"- host 1921680102","title":"Edit default configuration"},{"href":"/docs/linux/user-group/LDAP","content":"Directory Information TreeDIT","title":"Add the following lines"},{"href":"/docs/linux/user-group/LDAP","content":"- LDAP 서버에 저장된 데이터의 계층적 구조를 나타내는 트리 구조 각 노드는 entry라고 불리는 객체를 가지고 있다 entry는 attribute와 value로 구성되어 attribute는 value의 집합이며 objectClass를 포함한다 objectClass는 entry의 타입을 나타낸다 dnDistinguished Name으로 식별된다 dc도메인 컴포넌트는 트리의 루트를 컴포넌트이다 여러 개의 dc를 사용하여 내에 도메인을 만들 수 있습니다 cn커먼 네임은 노드를 CN은 항목을 식별하는 데 사용되는 고유한 이름입니다 사용자 이름 그룹 또는 호스트 이름과 같은 항목과 관련된 의미 있는 이름을 포함해야 합니다 cn을 단일 식별할 snsuffix name은 사용자의 성을 사용됩니다 givenName은 uid사용자 ID는 고유 식별자를 gid그룹 그룹의 ou조직 단위는 조직의 단위를 mail은 이메일 주소를 l로케이션은 위치를 st주는 주를 c국가는 국가를 telephoneNumber는 전화 번호를 homeDirectory는 홈 디렉터리를 objectClass inetOrgPerson 사용자를 organizationalUnit 조직을 loginShell 로그인 쉘을 EXAMPLE dcabacusdccodckr는 abacus라는 cokr cnadmindcabacusdccodckr는 abacus 관리자를 cndeveloperdcconvergencedcabacusdccodckr는 그룹을","title":"Configuring the root user"},{"href":"/docs/linux/user-group/LDAP","content":"Install OpenLDAP to server","title":"input adm"},{"href":"/docs/linux/user-group/LDAP","content":"bash sudo dnf -y install openldap openldap-servers openldap-clients systemctl start slapdservice enable - LDAP 프로토콜을 지원하는 라이브러리 서버를 실행하는 데 필요한 파일일 slapd-utils 유틸리티","title":"Add the following lines"},{"href":"/docs/linux/user-group/LDAP","content":"Configure LDAP Server","title":"Add the following lines"},{"href":"/docs/linux/user-group/LDAP","content":"slapdconf - configuration file for slapd that stand-alone LDAP daemon 연결을 수신Default port 389하고 요청받은 작업에 응답합니다","title":"Add the following lines"},{"href":"/docs/linux/user-group/LDAP","content":"Configure OpenLDAP","title":"Add the following lines"},{"href":"/docs/linux/user-group/LDAP","content":"Edit default configuration","title":"dn: olcDatabase={2}mdb,cn=config"},{"href":"/docs/linux/user-group/LDAP","content":"고유 이름기본 DN이 포함된 BASE 및 LDAP 서버에 대한 정규화된 도메인 이름 또는 IP 주소가 URI입니다 bash sudo vi etcopenldapldapconf","title":"dn: cn=SejinPark,dc=abacus,dc=co,dc=kr"},{"href":"/docs/linux/user-group/LDAP","content":"Add the following lines","title":"loginShell: /bin/bash"},{"href":"/docs/linux/user-group/LDAP","content":"BASE dcabacusdccodckr URI ldapldapexamplecom ldapldap-masterexamplecom666 ldap1921680103 ldap1921680103666","title":"homeDirectory: /home/sejin"},{"href":"/docs/linux/user-group/LDAP","content":"Configuring the root user","title":"ldapsearch -x -b \"dc=abacus,dc=co,dc=kr\""},{"href":"/docs/linux/user-group/LDAP","content":"관리 작업을 수행하려면 LDAP의 루트 사용자를 변경해야 합니다 LDAP 항목에서는 이 olcRootDN이라고 etcldapslapdd 또는 etcopenldapslapdd 디렉토리의 LDIF 파일을 수동으로 편집하지 마십시오 1 create password bash","title":"extended LDIF"},{"href":"/docs/linux/user-group/LDAP","content":"slappasswd SSHA9k8oeC7gLrpFewe7W97Ji7chVhM1Blp 2 create rootpwldif bash vi","title":"base <dc=abacus,dc=co,dc=kr> with scope subtree"},{"href":"/docs/linux/user-group/LDAP","content":"Add the following lines","title":"filter: (objectclass=*)"},{"href":"/docs/linux/user-group/LDAP","content":"dn olcDatabase0configcnconfig changetype modify add olcRootPW SSHA9k8oeC7gLrpFewe7W97Ji7chVhM1Blp 3 Apply the changes bash ldapadd -Y EXTERNAL -H ldapi -f rootpwldif - Use SASL mechanism for authentication LDAP over IPC protocol to connect server Read data in LDIF format from file Add entries directory ldapmodify Modify --- 만약 ldap_modify Constraint violation 19 additional info attribute cannot have multiple values 이러한 에러가 발생한다면 파일의 key 를 replace 로 수정하고 명령어를 사용하여 변경해보자 4 basic Schema 가져오자 etcopenldapschemacosineldif etcopenldapschemanisldif etcopenldapschemainetorgpersonldif etcopenldapschemaopenldapldif etcopenldapschemadyngroupldif 5 서버에 대한 액세스를 구성하고 surffix 및 관리자를 구성합니다 sudo vi managerldif","title":"requesting: ALL"},{"href":"/docs/linux/user-group/LDAP","content":"Add the following lines","title":"abacus.co.kr"},{"href":"/docs/linux/user-group/LDAP","content":"dn olcDatabase2mdbcnconfig changetype modify replace olcSuffix dcabacusdccodckr olcRootDN cnManagerdcabacusdccodckr add olcRootPW SSHA9k8oeC7gLrpFewe7W97Ji7chVhM1Blp etcopenldapslapddcnconfigolcDatabase2mdbldif 이 없을 수 있다 적절한 파일명을 넣어주자 no such object 32 에러가 발생한다면 olcDatabase2mdbldif 파일을 찾아서 반영 bash ldapmodify -Y EXTERNAL -H ldapi -f managerldif 1 LDIF 생성하여 조직 그룹을 생성합니다 sudo vi orgldif","title":"Manager, abacus.co.kr"},{"href":"/docs/linux/user-group/LDAP","content":"Add the following lines","title":"rpausers, abacus.co.kr"},{"href":"/docs/linux/user-group/LDAP","content":"dn dcabacusdccodckr objectClass top dcObject objectclass organization o Abacus RPA Server dc abacus cnManagerdcabacusdccodckr organizationalRole cn Manager description LDAP ouusersdcabacusdccodckr organizationalUnit ou rpaUsers 반영 bash ldapadd -x -D -W -f orgldif 비밀번호를 입력하라는 메시지가 표시됩니다 루트 사용자에 대해 정의한 일반 텍스트 입력하십시오 Enter Password ldap_bind Invalid credentials 49 에러가 발생시 hosts를 확인해보자 7 새로운 유저를 server에 등록합니다 먼저 사용할 유저의 암호화 해야합니다 slappasswd -h SSHA -s password SSHAv2JToQPeYErAEUvG2xQgRutfto0qWM 이제 ldif 파일을 생성하여 sudo vi addUserNameldif","title":"SejinPark, abacus.co.kr"},{"href":"/docs/linux/user-group/LDAP","content":"Add the following lines","title":"Configure LDAP Client"},{"href":"/docs/linux/user-group/LDAP","content":"dn cnSejin Parkcndeveloperouconvergencedcabacusdccodckr","title":"Configure LDAP client"},{"href":"/docs/linux/user-group/LDAP","content":"dn olcDatabase2mdbcnconfig","title":"Check LDAP server from client"},{"href":"/docs/linux/user-group/LDAP","content":"dn cnSejinParkdcabacusdccodckr","title":"ldapsearch"},{"href":"/docs/linux/user-group/LDAP","content":"dn dcabacusdccodckr changetype add uid 1501 objectClass inetOrgPerson organizationalPerson person top mail sejingmailcom","title":"Options"},{"href":"/docs/linux/user-group/LDAP","content":"loginShell binbash","title":"ldapadd"},{"href":"/docs/linux/user-group/LDAP","content":"homeDirectory homesejin","title":"Example"},{"href":"/docs/linux/user-group/LDAP","content":"cn SejinPark sn Park givenName Sejin telephoneNumber 010-1234-5678 userPassword SSHAv2JToQPeYErAEUvG2xQgRutfto0qWM 세진 유저를 등록합니다 bash ldapadd -D cnManagerdcabacusdccodckr -W -f addUserNameldif 잘 등록되었는지 확인합니다 ldapsearch -x -b dcabacusdccodckr","title":"Add user `admin` in `abacus.co.kr` with organization `convergence`"},{"href":"/docs/linux/user-group/LDAP","content":"ldapsearch -x -b dcabacusdccodckr","title":"Add user in domain `abacus.co.kr`"},{"href":"/docs/linux/user-group/LDAP","content":"extended LDIF","title":"Search all entries in abaucs.co.kr"},{"href":"/docs/linux/user-group/LDAP","content":"filter objectclass","title":"create ssh key (without passphrase)"},{"href":"/docs/linux/user-group/LDAP","content":"requesting ALL","title":"copy public key to managed node"},{"href":"/docs/linux/user-group/LDAP","content":"dn dcabacusdccodckr objectClass dcObject top organization o Abacus dc abacus","title":"append the following lines"},{"href":"/docs/linux/user-group/LDAP","content":"Manager abacuscokr","title":"Install Ansible"},{"href":"/docs/linux/user-group/LDAP","content":"dn cnManagerdcabacusdccodckr objectClass organizationalRole cn Manager description LDAP","title":"Check"},{"href":"/docs/linux/user-group/LDAP","content":"rpausers abacuscokr","title":"Setup Configuration"},{"href":"/docs/linux/user-group/LDAP","content":"dn ourpausersdcabacusdccodckr objectClass organizationalUnit ou rpaUsers","title":"ansible-configuration-settings"},{"href":"/docs/linux/user-group/LDAP","content":"SejinPark abacuscokr","title":"backup"},{"href":"/docs/linux/user-group/LDAP","content":"dn cnSejinParkdcabacusdccodckr uid 1501 objectClass inetOrgPerson organizationalPerson person top mail sejingmailcom cn SejinPark sn Park givenName Sejin telephoneNumber 010-1234-5678 userPassword e1NTSEF9YWVKQjM5MzVoTk1oazRaakMxMldtY01Fa1pFc2djVjM 이상 configuraion이 완료되었습니다 ---","title":"References"},{"href":"/docs/linux/user-group/LDAP","content":"Configure LDAP Client","title":"Ansible"},{"href":"/docs/linux/user-group/LDAP","content":"What is LDAP","title":"What is LDAP?"},{"href":"/docs/linux/user-group/LDAP","content":"LDAPLightweight Directory Access Protocol 는 디렉터리 서비스를 위한 프로토콜이다 서비스는 사용자 그룹 서비스등의 정보를 저장하고 검색하기 서비스이다","title":"Architecture"},{"href":"/docs/linux/user-group/LDAP","content":"Architecture","title":"LDAP Server"},{"href":"/docs/linux/user-group/LDAP","content":"LDAP Server","title":"Client"},{"href":"/docs/linux/user-group/LDAP","content":"- host 1921680103","title":"Configure LDAP Server"},{"href":"/docs/linux/user-group/LDAP","content":"- host 1921680102","title":"Edit default configuration"},{"href":"/docs/linux/user-group/LDAP","content":"Directory Information TreeDIT","title":"Add the following lines"},{"href":"/docs/linux/user-group/LDAP","content":"- LDAP 서버에 저장된 데이터의 계층적 구조를 나타내는 트리 구조 각 노드는 entry라고 불리는 객체를 가지고 있다 entry는 attribute와 value로 구성되어 attribute는 value의 집합이며 objectClass를 포함한다 objectClass는 entry의 타입을 나타낸다 dnDistinguished Name으로 식별된다 dc도메인 컴포넌트는 트리의 루트를 컴포넌트이다 여러 개의 dc를 사용하여 내에 도메인을 만들 수 있습니다 cn커먼 네임은 노드를 CN은 항목을 식별하는 데 사용되는 고유한 이름입니다 사용자 이름 그룹 또는 호스트 이름과 같은 항목과 관련된 의미 있는 이름을 포함해야 합니다 cn을 단일 식별할 snsuffix name은 사용자의 성을 사용됩니다 givenName은 uid사용자 ID는 고유 식별자를 gid그룹 그룹의 ou조직 단위는 조직의 단위를 mail은 이메일 주소를 l로케이션은 위치를 st주는 주를 c국가는 국가를 telephoneNumber는 전화 번호를 homeDirectory는 홈 디렉터리를 objectClass inetOrgPerson 사용자를 organizationalUnit 조직을 loginShell 로그인 쉘을 EXAMPLE dcabacusdccodckr는 abacus라는 cokr cnadmindcabacusdccodckr는 abacus 관리자를 cndeveloperdcconvergencedcabacusdccodckr는 그룹을","title":"Configuring the root user"},{"href":"/docs/linux/user-group/LDAP","content":"Install OpenLDAP to server","title":"input adm"},{"href":"/docs/linux/user-group/LDAP","content":"bash sudo dnf -y install openldap openldap-servers openldap-clients systemctl start slapdservice enable - LDAP 프로토콜을 지원하는 라이브러리 서버를 실행하는 데 필요한 파일일 slapd-utils 유틸리티","title":"Add the following lines"},{"href":"/docs/linux/user-group/LDAP","content":"Configure LDAP Server","title":"Add the following lines"},{"href":"/docs/linux/user-group/LDAP","content":"slapdconf - configuration file for slapd that stand-alone LDAP daemon 연결을 수신Default port 389하고 요청받은 작업에 응답합니다","title":"Add the following lines"},{"href":"/docs/linux/user-group/LDAP","content":"Configure OpenLDAP","title":"Add the following lines"},{"href":"/docs/linux/user-group/LDAP","content":"Edit default configuration","title":"dn: olcDatabase={2}mdb,cn=config"},{"href":"/docs/linux/user-group/LDAP","content":"고유 이름기본 DN이 포함된 BASE 및 LDAP 서버에 대한 정규화된 도메인 이름 또는 IP 주소가 URI입니다 bash sudo vi etcopenldapldapconf","title":"dn: cn=SejinPark,dc=abacus,dc=co,dc=kr"},{"href":"/docs/linux/user-group/LDAP","content":"Add the following lines","title":"loginShell: /bin/bash"},{"href":"/docs/linux/user-group/LDAP","content":"BASE dcabacusdccodckr URI ldapldapexamplecom ldapldap-masterexamplecom666 ldap1921680103 ldap1921680103666","title":"homeDirectory: /home/sejin"},{"href":"/docs/linux/user-group/LDAP","content":"Configuring the root user","title":"ldapsearch -x -b \"dc=abacus,dc=co,dc=kr\""},{"href":"/docs/linux/user-group/LDAP","content":"관리 작업을 수행하려면 LDAP의 루트 사용자를 변경해야 합니다 LDAP 항목에서는 이 olcRootDN이라고 etcldapslapdd 또는 etcopenldapslapdd 디렉토리의 LDIF 파일을 수동으로 편집하지 마십시오 1 create password bash","title":"extended LDIF"},{"href":"/docs/linux/user-group/LDAP","content":"slappasswd SSHA9k8oeC7gLrpFewe7W97Ji7chVhM1Blp 2 create rootpwldif bash vi","title":"base <dc=abacus,dc=co,dc=kr> with scope subtree"},{"href":"/docs/linux/user-group/LDAP","content":"Add the following lines","title":"filter: (objectclass=*)"},{"href":"/docs/linux/user-group/LDAP","content":"dn olcDatabase0configcnconfig changetype modify add olcRootPW SSHA9k8oeC7gLrpFewe7W97Ji7chVhM1Blp 3 Apply the changes bash ldapadd -Y EXTERNAL -H ldapi -f rootpwldif - Use SASL mechanism for authentication LDAP over IPC protocol to connect server Read data in LDIF format from file Add entries directory ldapmodify Modify --- 만약 ldap_modify Constraint violation 19 additional info attribute cannot have multiple values 이러한 에러가 발생한다면 파일의 key 를 replace 로 수정하고 명령어를 사용하여 변경해보자 4 basic Schema 가져오자 etcopenldapschemacosineldif etcopenldapschemanisldif etcopenldapschemainetorgpersonldif etcopenldapschemaopenldapldif etcopenldapschemadyngroupldif 5 서버에 대한 액세스를 구성하고 surffix 및 관리자를 구성합니다 sudo vi managerldif","title":"requesting: ALL"},{"href":"/docs/linux/user-group/LDAP","content":"Add the following lines","title":"abacus.co.kr"},{"href":"/docs/linux/user-group/LDAP","content":"dn olcDatabase2mdbcnconfig changetype modify replace olcSuffix dcabacusdccodckr olcRootDN cnManagerdcabacusdccodckr add olcRootPW SSHA9k8oeC7gLrpFewe7W97Ji7chVhM1Blp etcopenldapslapddcnconfigolcDatabase2mdbldif 이 없을 수 있다 적절한 파일명을 넣어주자 no such object 32 에러가 발생한다면 olcDatabase2mdbldif 파일을 찾아서 반영 bash ldapmodify -Y EXTERNAL -H ldapi -f managerldif 1 LDIF 생성하여 조직 그룹을 생성합니다 sudo vi orgldif","title":"Manager, abacus.co.kr"},{"href":"/docs/linux/user-group/LDAP","content":"Add the following lines","title":"rpausers, abacus.co.kr"},{"href":"/docs/linux/user-group/LDAP","content":"dn dcabacusdccodckr objectClass top dcObject objectclass organization o Abacus RPA Server dc abacus cnManagerdcabacusdccodckr organizationalRole cn Manager description LDAP ouusersdcabacusdccodckr organizationalUnit ou rpaUsers 반영 bash ldapadd -x -D -W -f orgldif 비밀번호를 입력하라는 메시지가 표시됩니다 루트 사용자에 대해 정의한 일반 텍스트 입력하십시오 Enter Password ldap_bind Invalid credentials 49 에러가 발생시 hosts를 확인해보자 7 새로운 유저를 server에 등록합니다 먼저 사용할 유저의 암호화 해야합니다 slappasswd -h SSHA -s password SSHAv2JToQPeYErAEUvG2xQgRutfto0qWM 이제 ldif 파일을 생성하여 sudo vi addUserNameldif","title":"SejinPark, abacus.co.kr"},{"href":"/docs/linux/user-group/LDAP","content":"Add the following lines","title":"Configure LDAP Client"},{"href":"/docs/linux/user-group/LDAP","content":"dn cnSejin Parkcndeveloperouconvergencedcabacusdccodckr","title":"Configure LDAP client"},{"href":"/docs/linux/user-group/LDAP","content":"dn olcDatabase2mdbcnconfig","title":"Check LDAP server from client"},{"href":"/docs/linux/user-group/LDAP","content":"dn cnSejinParkdcabacusdccodckr","title":"ldapsearch"},{"href":"/docs/linux/user-group/LDAP","content":"dn dcabacusdccodckr changetype add uid 1501 objectClass inetOrgPerson organizationalPerson person top mail sejingmailcom","title":"Options"},{"href":"/docs/linux/user-group/LDAP","content":"loginShell binbash","title":"ldapadd"},{"href":"/docs/linux/user-group/LDAP","content":"homeDirectory homesejin","title":"Example"},{"href":"/docs/linux/user-group/LDAP","content":"cn SejinPark sn Park givenName Sejin telephoneNumber 010-1234-5678 userPassword SSHAv2JToQPeYErAEUvG2xQgRutfto0qWM 세진 유저를 등록합니다 bash ldapadd -D cnManagerdcabacusdccodckr -W -f addUserNameldif 잘 등록되었는지 확인합니다 ldapsearch -x -b dcabacusdccodckr","title":"Add user `admin` in `abacus.co.kr` with organization `convergence`"},{"href":"/docs/linux/user-group/LDAP","content":"ldapsearch -x -b dcabacusdccodckr","title":"Add user in domain `abacus.co.kr`"},{"href":"/docs/linux/user-group/LDAP","content":"extended LDIF","title":"Search all entries in abaucs.co.kr"},{"href":"/docs/linux/user-group/LDAP","content":"filter objectclass","title":"create ssh key (without passphrase)"},{"href":"/docs/linux/user-group/LDAP","content":"requesting ALL","title":"copy public key to managed node"},{"href":"/docs/linux/user-group/LDAP","content":"dn dcabacusdccodckr objectClass dcObject top organization o Abacus dc abacus","title":"append the following lines"},{"href":"/docs/linux/user-group/LDAP","content":"Manager abacuscokr","title":"Install Ansible"},{"href":"/docs/linux/user-group/LDAP","content":"dn cnManagerdcabacusdccodckr objectClass organizationalRole cn Manager description LDAP","title":"Check"},{"href":"/docs/linux/user-group/LDAP","content":"rpausers abacuscokr","title":"Setup Configuration"},{"href":"/docs/linux/user-group/LDAP","content":"dn ourpausersdcabacusdccodckr objectClass organizationalUnit ou rpaUsers","title":"ansible-configuration-settings"},{"href":"/docs/linux/user-group/LDAP","content":"SejinPark abacuscokr","title":"backup"},{"href":"/docs/linux/user-group/LDAP","content":"dn cnSejinParkdcabacusdccodckr uid 1501 objectClass inetOrgPerson organizationalPerson person top mail sejingmailcom cn SejinPark sn Park givenName Sejin telephoneNumber 010-1234-5678 userPassword e1NTSEF9YWVKQjM5MzVoTk1oazRaakMxMldtY01Fa1pFc2djVjM 이상 configuraion이 완료되었습니다 ---","title":"References"},{"href":"/docs/linux/user-group/LDAP","content":"Configure LDAP Client","title":"Ansible"},{"href":"/docs/linux/essential-commands/scripting","content":"for bash sh","title":"Error redirect"},{"href":"/docs/linux/essential-commands/scripting","content":"Error redirect","title":"Execute `/home/bob/script.sh` script and save all normal output (except `errors/warnings`) in `/home/bob/output_stdout.txt` file."},{"href":"/docs/linux/essential-commands/scripting","content":"리눅스에서 명령어를 실행할 때 에러메시지를 파일로 저장하고 싶을 때가 있습니다 - 1 or 를 사용하면 표준 출력을 저장할 수 2 에러를 21 출력과 동시에 2의 1의 주소로 보내라는 의미입니다","title":"이번엔 error, warning , normal output을 모두 `/home/bob/output.txt` 파일로 저장하고 싶다면?"},{"href":"/docs/linux/essential-commands/scripting","content":"Execute homebobscriptsh script and save all normal output except errorswarnings in homeboboutput_stdouttxt file","title":"표준 출력을 /home/bob/output.txt 파일로 저장합니다."},{"href":"/docs/linux/essential-commands/scripting","content":"bash homebobscriptsh homeboboutput_stdouttxt","title":"이후 표준 에러를 출력으로 보냅니다."},{"href":"/docs/linux/essential-commands/scripting","content":"이번엔 error warning  normal output을 모두 homeboboutputtxt 파일로 저장하고 싶다면","title":"에러만 저장하고 싶다면?"},{"href":"/docs/linux/essential-commands/scripting","content":"이후 표준 에러를 출력으로 보냅니다","title":"인자가 없을 경우"},{"href":"/docs/linux/essential-commands/scripting","content":"homebobscriptsh homeboboutputtxt 21","title":"인자가 있을 경우"},{"href":"/docs/linux/essential-commands/scripting","content":"에러만 저장하고 싶다면","title":"setup"},{"href":"/docs/linux/essential-commands/scripting","content":"bash homebobscriptsh 2 homeboboutput_errorstxt","title":"!/bin/bash"},{"href":"/docs/linux/user-group/PAM","content":"PAMPluggable Authentication Modules은 GNULinux 시스템에서 많은 애플리케이션 또는 서비스가 사용자를 중앙집중식으로 인증할 수 있도록 하는 시스템입니다 관리자인 내가 왜 root 계정 사용시 비밀번호를 쳐야하는가 ㅋㅋ - PAM은 사용자 인증을 위한 모듈을 제공한다","title":"Show related manual"},{"href":"/docs/linux/user-group/PAM","content":"Show related manual","title":"Practice"},{"href":"/docs/linux/user-group/PAM","content":"bash apropos pam PAM 8 - Pluggable Authentication Modules for Linux config-util 5 Common configuration file utilities faillockconf pam_faillock fingerprint-auth PAMified services groupconf the pam_group module limitsconf pam_limits pamconf files pamd pam_access logdaemon style login access control pam_console determine user owning system console pam_console_apply set or revoke permissions users at PAM의 동작 원리는 다음과 같다 1 인증이 필요한 응용프로그램은 더 이상 etcpasswd 파일을 열람하지 않고 모듈에 사용자 인증을 요청한다 2 PAM은 요청한 사용자의 정보를 가지고 결과를 도출하여 응용프로그램에 전달한다 ---","title":"If our user has sudo privileges, how do we change the password for `root` account?"},{"href":"/docs/linux/user-group/PAM","content":"If our user has sudo privileges how do we change the password for root account","title":"Edit the `PAM configuration file` for `su` utility"},{"href":"/docs/linux/user-group/PAM","content":"bash sudo passwd root","title":"Add the following line to top of file"},{"href":"/docs/linux/user-group/PAM","content":"Where can we find PAM configuration files","title":"Add the following line to top of file"},{"href":"/docs/linux/user-group/PAM","content":"bash ls etcpamd cat etcpamconf","title":"Currently, when you use the su command it will ask for root's password to allow log in as user root. Modify PAM configuration so that no longer have type password."},{"href":"/docs/linux/user-group/PAM","content":"The root account is currently locked Use the correct command to unlock it","title":"Add the following line to top of file"},{"href":"/docs/linux/user-group/PAM","content":"bash sudo passwd --help Usage OPTION accountName -k --keep-tokens keep non-expired authentication tokens -d --delete delete the password for named account root only also removes lock if any -l --lock -u --unlock unlock 위 명령을 실행할 때 비밀번호를 입력하지 않아도 됩니다 어떻게 가능할까요","title":"Restrict the root access to SSH service via `PAM`"},{"href":"/docs/linux/user-group/PAM","content":"Edit the PAM configuration file for su utility","title":"Add the following line to file"},{"href":"/docs/linux/user-group/PAM","content":"this utility only accepts the requests from users that are part of wheel group bash sudo vi etcpamdsu","title":"Add the following line to top of file"},{"href":"/docs/linux/user-group/PAM","content":"Add the following line to top of file","title":"Reference"},{"href":"/docs/linux/user-group/PAM","content":"PAMPluggable Authentication Modules은 GNULinux 시스템에서 많은 애플리케이션 또는 서비스가 사용자를 중앙집중식으로 인증할 수 있도록 하는 시스템입니다 관리자인 내가 왜 root 계정 사용시 비밀번호를 쳐야하는가 ㅋㅋ - PAM은 사용자 인증을 위한 모듈을 제공한다","title":"Show related manual"},{"href":"/docs/linux/user-group/PAM","content":"Show related manual","title":"Practice"},{"href":"/docs/linux/user-group/PAM","content":"bash apropos pam PAM 8 - Pluggable Authentication Modules for Linux config-util 5 Common configuration file utilities faillockconf pam_faillock fingerprint-auth PAMified services groupconf the pam_group module limitsconf pam_limits pamconf files pamd pam_access logdaemon style login access control pam_console determine user owning system console pam_console_apply set or revoke permissions users at PAM의 동작 원리는 다음과 같다 1 인증이 필요한 응용프로그램은 더 이상 etcpasswd 파일을 열람하지 않고 모듈에 사용자 인증을 요청한다 2 PAM은 요청한 사용자의 정보를 가지고 결과를 도출하여 응용프로그램에 전달한다 ---","title":"If our user has sudo privileges, how do we change the password for `root` account?"},{"href":"/docs/linux/user-group/PAM","content":"If our user has sudo privileges how do we change the password for root account","title":"Edit the `PAM configuration file` for `su` utility"},{"href":"/docs/linux/user-group/PAM","content":"bash sudo passwd root","title":"Add the following line to top of file"},{"href":"/docs/linux/user-group/PAM","content":"Where can we find PAM configuration files","title":"Add the following line to top of file"},{"href":"/docs/linux/user-group/PAM","content":"bash ls etcpamd cat etcpamconf","title":"Currently, when you use the su command it will ask for root's password to allow log in as user root. Modify PAM configuration so that no longer have type password."},{"href":"/docs/linux/user-group/PAM","content":"The root account is currently locked Use the correct command to unlock it","title":"Add the following line to top of file"},{"href":"/docs/linux/user-group/PAM","content":"bash sudo passwd --help Usage OPTION accountName -k --keep-tokens keep non-expired authentication tokens -d --delete delete the password for named account root only also removes lock if any -l --lock -u --unlock unlock 위 명령을 실행할 때 비밀번호를 입력하지 않아도 됩니다 어떻게 가능할까요","title":"Restrict the root access to SSH service via `PAM`"},{"href":"/docs/linux/user-group/PAM","content":"Edit the PAM configuration file for su utility","title":"Add the following line to file"},{"href":"/docs/linux/user-group/PAM","content":"this utility only accepts the requests from users that are part of wheel group bash sudo vi etcpamdsu","title":"Add the following line to top of file"},{"href":"/docs/linux/user-group/PAM","content":"Add the following line to top of file","title":"Reference"},{"href":"/docs/linux/exam/round-1","content":"- 시스템이 실행할 스크립트를 작성하라 하면 chmod x file 하셈 ㅋㅋㅋ 하 crontab 1-3 지원하는 걸로 아는데 걍 123 sudo su root 루트로 바로 들어갈 수 있음 gateway ip 는 addr 의 default 말고 r grep 로 찾으셈","title":"Task"},{"href":"/docs/linux/exam/round-1","content":"User user2 should be able to execute sudo bash rootdangeroussh without having enter the root password","title":"Text Manipulation and Regular Expressions - 1"},{"href":"/docs/linux/exam/round-1","content":"You can use visudo command to edit the sudoers file bash sudo Add below given line at end of user2 ALLALL NOPASSWD binbash rootdangeroussh","title":"Solution"},{"href":"/docs/linux/exam/round-1","content":"Text Manipulation and Regular Expressions - 1","title":"Storage Management - 1"},{"href":"/docs/linux/exam/round-1","content":"In this exercise youll need to make some changes the etcsettingscfg file A Add a new line at end of The should have content system51reserved Save and exit editor B Use correct command display only systems that are disabled in output something like system1disabled system4disabled so on Now redirect filtered optdisabledsystemstxt C tool automate search replace action All words enabled be changed word","title":"Storage Management - 2"},{"href":"/docs/linux/exam/round-1","content":"You should use commands like vi sed grep and redirection to accomplish these tasks Switch into the root user bash sudo su - Edit etcsettingscfg file add required content Go bottom of by pressing SHIFTg Then given line in system51reserved Now display only systems that are disabled this redirect output optdisabledsystemstxt Change all words enabled word -i senableddisabledg","title":"Solution"},{"href":"/docs/linux/exam/round-1","content":"Storage Management - 1","title":"Operating Systems - 1"},{"href":"/docs/linux/exam/round-1","content":"In this exercise youll prepare the disk found at devvdb to be used by system A First see that has 1GB of unpartitioned space Create two partitions Each should exactly 500MB in size B Format first partition devvdb1 as swap and enable it C Edit correct file etc so is automatically mounted every time boots up D second devvdb2 with xfs filesystem","title":"User and Group Management - 1"},{"href":"/docs/linux/exam/round-1","content":"You can use fdisk mkswap etc commands Follow below given steps bash sudo devvdb Now enter responses Command m for help n Select default p just-leave-it-default-and-press-enter Partition number 1-4 1 First sector 2048-2097151 2048 Last sectors or sizeKMGTP 2097151 500M w follow these same the other partition format devvdb1 as swap swapon Edit etcfstab file and add an entry vi Add line in it none defaults 0 Format devvdb2 xfs mkfsxfs","title":"Solution"},{"href":"/docs/linux/exam/round-1","content":"Storage Management - 2","title":"Network Configuration - 1"},{"href":"/docs/linux/user-group","content":"리눅스에서는 사용자와 그룹을 구분하여 관리한다 사용자는 파일이나 디렉토리에 대한 접근 권한을 가지고 있으며 그룹은 사용자를 묶어서 관리하는 역할을 한다 각각 고유한 식별 번호를 이를 UID와 GID라고","title":"관련 파일"},{"href":"/docs/linux/user-group","content":"etcgroup 파일에 기록되어 있으며 그룹에 속한 사용자는 파일에서 확인할 수 있다 etcshadow 있는 암호화된 비밀번호를 가지고 etcgshadow 그룹 사용자와 그룹은 etclogindefs etcdefaultuseradd","title":"사용자 추가"},{"href":"/docs/linux/user-group","content":"User 추가  삭제 수정","title":"specify the user's uid, gid"},{"href":"/docs/linux/user-group","content":"사용자를 추가하는 방법은 useradd 명령을 사용한다 명령은 추가할 때 필요한 파일을 생성하고 사용자의 홈 디렉토리를 생성한다기본적으로 home사용자이름 유저를 생성하면 해당 이름의 그룹도 생성된다 bash sudo 옵션 사용자이름","title":"사용자의 홈 디렉토리를 변경하고 싶다면 -d 옵션을 사용한다."},{"href":"/docs/linux/user-group","content":"specify the users uid gid","title":"잠금 처리"},{"href":"/docs/linux/user-group","content":"sudo useradd -u 1001 -g 1002 사용자이름 etcskel 디렉토리는 유저가 생성된후 홈 디렉토리가 생성될 때 기본적으로 복사되는 파일들이 저장되어 있는 디렉토리이다 etcdefaultuseradd 파일에 기록되어 암호화된 비밀번호를 가지고 있다 이처럼 유저의 기본 설정을 보고싶다면 아래 명령어를 실행해보자 bash --defaults GROUP100 HOMEhome INACTIVE-1 EXPIRE SHELLbinsh SKELetcskel CREATE_MAIL_SPOOLno cat etclogindefs 만약 디렉토리와 쉘을 지정하고 싶다면 아래와 같이 옵션을 추가한다 --home-dir home사용자이름 -s binbash 생성한 상세 정보는 etcpasswd사용자 이름 UID GID 디렉토리 쉘 정보 etcpasswd rootx00rootrootbinbash daemonx11daemonusrsbinusrsbinnologin binx22binbinusrsbinnologin testuserx10011002testuser must be delete after test is finishedhomeabacusbinbash dhjoex1002998homeabacusbinbash delimeter는 콜론이다 1번째는 사용자 2번째는 비밀번호 3번째는 4번째는 5번째는 user description or comment field 6번째는 7번째는 정보이다 passwd","title":"잠금 해제"},{"href":"/docs/linux/user-group","content":"사용자를 삭제하는 방법은 userdel 명령을 사용한다 bash sudo 사용자이름 사용자가 삭제되더라도 홈 디렉토리는 삭제되지 않는다 디렉토리까지 삭제하려면 -r 옵션을 우린 이제 각 디렉토리가 누구의 소유인지 UID GID를 확인 할 수있다 ls -ln home total 0 drwx------ 2 1001 1002 40 9월 9 1626 testuser 998 dhjoe 로그인한 사용자는 내가 누구인지 확인할 수 있다 whoami id uid1002dhjoe gid998 groups998 그 밖에 우리는 다른 타입의 정의 GCP의 서비스 어카운트 Habor의 robot account 등 과같이 리눅스에서도 시스템 useradd --system binfalse 보통 system user 의 uid gid는 1000 이하로 정의한다","title":"유저의 비밀번호를 만료되도록 설정"},{"href":"/docs/linux/user-group","content":"유저를 수정하는 방법은 기본적으로 usermod 명령을 사용한다 bash sudo 옵션 사용자이름","title":"change age"},{"href":"/docs/linux/user-group","content":"사용자의 홈 디렉토리를 변경하고 싶다면 -d 옵션을 사용한다","title":"패스워드 변경"},{"href":"/docs/linux/user-group","content":"sudo usermod -d home사용자이름 사용자이름 --home homeother --move-home","title":"Group 추가 / 삭제 수정"},{"href":"/docs/linux/user-group","content":"sudo usermod -L 사용자이름","title":"list of users"},{"href":"/docs/linux/user-group","content":"sudo usermod -U 사용자이름","title":"add user to group"},{"href":"/docs/linux/user-group","content":"유저가 2021년 9월 9일에 만료되도록 설정","title":"check group"},{"href":"/docs/linux/user-group","content":"sudo usermod -e 2021-09-09 사용자이름","title":"그룹 삭제"},{"href":"/docs/linux/user-group","content":"유저의 비밀번호를 만료되도록 설정","title":"그룹 수정"},{"href":"/docs/linux/user-group","content":"sudo chage -d 0 사용자이름","title":"그룹의 이름을 변경하고 싶다면 -n 옵션을 사용한다."},{"href":"/docs/linux/user-group","content":"2021년 9월 9일에 유저의 비밀번호를 만료되도록 설정","title":"change primary group"},{"href":"/docs/linux/user-group","content":"sudo chage -E 2021-09-09 사용자이름","title":"User quota enables setting storage quotas for users, and group groups."},{"href":"/docs/linux/user-group","content":"패스워드를 변경하는 방법은 passwd 명령을 사용한다 bash sudo 사용자이름 좋다 이제 그룹의 세계로 넘어가보자","title":"$ sudo xfs_quota -x -c 'limit bsoft=1t bhard=1.1t abacus' /mnt/backup"},{"href":"/docs/linux/user-group","content":"Group 추가  삭제 수정","title":"활성화"},{"href":"/docs/linux/user-group","content":"그룹으로 뭘 할 수 있을까 그룹은 사용자를 묶어서 관리하는 역할을 한다 시스템에서 거의 모든 작업을 수행할 있는 휠 또는 의사 그룹이다 가장 강력한 사용자 계정인 루트를 사용하여 루트 권한으로 프로그램을 실행할 있습니다 또 다른 하나는 Docker 컨테이너를 관리할 그룹의 사용자입니다 사용자는 여러 그룹에 속할 있지만 이러한 그룹 중 특별합니다Primary 그 기본 그룹이고 나머지는 모두 보조 보충 그룹입니다 그룹을 로그인 그룹이라고도 합니다 사용자가 로그인하자마자 이 그룹이 자신의 메인 되기 때문입니다 하지만 이론만으로는 이해하기 어렵습니다 그럼 특별한 점을 살펴보겠습니다 --- 실행하면 해당 계정과 그룹에서 실행됩니다 그렇지 않으면 가지고 것과 동일한 프로그램이 예로는 파일을 만들 때 파일은 의해 자동으로 소유됩니다","title":"$ sudo repquota /mnt/backup"},{"href":"/docs/linux/user-group","content":"그룹을 조회하는 방법은 groups 명령을 사용한다 bash abacus adm cdrom sudo dip plugdev lxd docker","title":"Whenever we add a new user to the system, some files are copied, from template directory user's home directory."},{"href":"/docs/linux/user-group","content":"list of users","title":"Make sure that this command gets executed for any user logs in to the system:"},{"href":"/docs/linux/user-group","content":"users abacus","title":"*i}\" != \"$-\" ]; then"},{"href":"/docs/linux/user-group","content":"그룹을 추가하는 방법은 groupadd 명령을 사용한다 bash sudo 그룹이름 testGroup","title":"Bash non-login shells run only /etc/bashrc"},{"href":"/docs/linux/user-group","content":"add user to group","title":"Check for double sourcing is done in /etc/bashrc."},{"href":"/docs/linux/user-group","content":"sudo usermod -aG testGroup abacus","title":"Reference"},{"href":"/docs/linux/user-group","content":"리눅스에서는 사용자와 그룹을 구분하여 관리한다 사용자는 파일이나 디렉토리에 대한 접근 권한을 가지고 있으며 그룹은 사용자를 묶어서 관리하는 역할을 한다 각각 고유한 식별 번호를 이를 UID와 GID라고","title":"관련 파일"},{"href":"/docs/linux/user-group","content":"etcgroup 파일에 기록되어 있으며 그룹에 속한 사용자는 파일에서 확인할 수 있다 etcshadow 있는 암호화된 비밀번호를 가지고 etcgshadow 그룹 사용자와 그룹은 etclogindefs etcdefaultuseradd","title":"사용자 추가"},{"href":"/docs/linux/user-group","content":"User 추가  삭제 수정","title":"specify the user's uid, gid"},{"href":"/docs/linux/user-group","content":"사용자를 추가하는 방법은 useradd 명령을 사용한다 명령은 추가할 때 필요한 파일을 생성하고 사용자의 홈 디렉토리를 생성한다기본적으로 home사용자이름 유저를 생성하면 해당 이름의 그룹도 생성된다 bash sudo 옵션 사용자이름","title":"사용자의 홈 디렉토리를 변경하고 싶다면 -d 옵션을 사용한다."},{"href":"/docs/linux/user-group","content":"specify the users uid gid","title":"잠금 처리"},{"href":"/docs/linux/user-group","content":"sudo useradd -u 1001 -g 1002 사용자이름 etcskel 디렉토리는 유저가 생성된후 홈 디렉토리가 생성될 때 기본적으로 복사되는 파일들이 저장되어 있는 디렉토리이다 etcdefaultuseradd 파일에 기록되어 암호화된 비밀번호를 가지고 있다 이처럼 유저의 기본 설정을 보고싶다면 아래 명령어를 실행해보자 bash --defaults GROUP100 HOMEhome INACTIVE-1 EXPIRE SHELLbinsh SKELetcskel CREATE_MAIL_SPOOLno cat etclogindefs 만약 디렉토리와 쉘을 지정하고 싶다면 아래와 같이 옵션을 추가한다 --home-dir home사용자이름 -s binbash 생성한 상세 정보는 etcpasswd사용자 이름 UID GID 디렉토리 쉘 정보 etcpasswd rootx00rootrootbinbash daemonx11daemonusrsbinusrsbinnologin binx22binbinusrsbinnologin testuserx10011002testuser must be delete after test is finishedhomeabacusbinbash dhjoex1002998homeabacusbinbash delimeter는 콜론이다 1번째는 사용자 2번째는 비밀번호 3번째는 4번째는 5번째는 user description or comment field 6번째는 7번째는 정보이다 passwd","title":"잠금 해제"},{"href":"/docs/linux/user-group","content":"사용자를 삭제하는 방법은 userdel 명령을 사용한다 bash sudo 사용자이름 사용자가 삭제되더라도 홈 디렉토리는 삭제되지 않는다 디렉토리까지 삭제하려면 -r 옵션을 우린 이제 각 디렉토리가 누구의 소유인지 UID GID를 확인 할 수있다 ls -ln home total 0 drwx------ 2 1001 1002 40 9월 9 1626 testuser 998 dhjoe 로그인한 사용자는 내가 누구인지 확인할 수 있다 whoami id uid1002dhjoe gid998 groups998 그 밖에 우리는 다른 타입의 정의 GCP의 서비스 어카운트 Habor의 robot account 등 과같이 리눅스에서도 시스템 useradd --system binfalse 보통 system user 의 uid gid는 1000 이하로 정의한다","title":"유저의 비밀번호를 만료되도록 설정"},{"href":"/docs/linux/user-group","content":"유저를 수정하는 방법은 기본적으로 usermod 명령을 사용한다 bash sudo 옵션 사용자이름","title":"change age"},{"href":"/docs/linux/user-group","content":"사용자의 홈 디렉토리를 변경하고 싶다면 -d 옵션을 사용한다","title":"패스워드 변경"},{"href":"/docs/linux/user-group","content":"sudo usermod -d home사용자이름 사용자이름 --home homeother --move-home","title":"Group 추가 / 삭제 수정"},{"href":"/docs/linux/user-group","content":"sudo usermod -L 사용자이름","title":"list of users"},{"href":"/docs/linux/user-group","content":"sudo usermod -U 사용자이름","title":"add user to group"},{"href":"/docs/linux/user-group","content":"유저가 2021년 9월 9일에 만료되도록 설정","title":"check group"},{"href":"/docs/linux/user-group","content":"sudo usermod -e 2021-09-09 사용자이름","title":"그룹 삭제"},{"href":"/docs/linux/user-group","content":"유저의 비밀번호를 만료되도록 설정","title":"그룹 수정"},{"href":"/docs/linux/user-group","content":"sudo chage -d 0 사용자이름","title":"그룹의 이름을 변경하고 싶다면 -n 옵션을 사용한다."},{"href":"/docs/linux/user-group","content":"2021년 9월 9일에 유저의 비밀번호를 만료되도록 설정","title":"change primary group"},{"href":"/docs/linux/user-group","content":"sudo chage -E 2021-09-09 사용자이름","title":"User quota enables setting storage quotas for users, and group groups."},{"href":"/docs/linux/user-group","content":"패스워드를 변경하는 방법은 passwd 명령을 사용한다 bash sudo 사용자이름 좋다 이제 그룹의 세계로 넘어가보자","title":"$ sudo xfs_quota -x -c 'limit bsoft=1t bhard=1.1t abacus' /mnt/backup"},{"href":"/docs/linux/user-group","content":"Group 추가  삭제 수정","title":"활성화"},{"href":"/docs/linux/user-group","content":"그룹으로 뭘 할 수 있을까 그룹은 사용자를 묶어서 관리하는 역할을 한다 시스템에서 거의 모든 작업을 수행할 있는 휠 또는 의사 그룹이다 가장 강력한 사용자 계정인 루트를 사용하여 루트 권한으로 프로그램을 실행할 있습니다 또 다른 하나는 Docker 컨테이너를 관리할 그룹의 사용자입니다 사용자는 여러 그룹에 속할 있지만 이러한 그룹 중 특별합니다Primary 그 기본 그룹이고 나머지는 모두 보조 보충 그룹입니다 그룹을 로그인 그룹이라고도 합니다 사용자가 로그인하자마자 이 그룹이 자신의 메인 되기 때문입니다 하지만 이론만으로는 이해하기 어렵습니다 그럼 특별한 점을 살펴보겠습니다 --- 실행하면 해당 계정과 그룹에서 실행됩니다 그렇지 않으면 가지고 것과 동일한 프로그램이 예로는 파일을 만들 때 파일은 의해 자동으로 소유됩니다","title":"$ sudo repquota /mnt/backup"},{"href":"/docs/linux/user-group","content":"그룹을 조회하는 방법은 groups 명령을 사용한다 bash abacus adm cdrom sudo dip plugdev lxd docker","title":"Whenever we add a new user to the system, some files are copied, from template directory user's home directory."},{"href":"/docs/linux/user-group","content":"list of users","title":"Make sure that this command gets executed for any user logs in to the system:"},{"href":"/docs/linux/user-group","content":"users abacus","title":"*i}\" != \"$-\" ]; then"},{"href":"/docs/linux/user-group","content":"그룹을 추가하는 방법은 groupadd 명령을 사용한다 bash sudo 그룹이름 testGroup","title":"Bash non-login shells run only /etc/bashrc"},{"href":"/docs/linux/user-group","content":"add user to group","title":"Check for double sourcing is done in /etc/bashrc."},{"href":"/docs/linux/user-group","content":"sudo usermod -aG testGroup abacus","title":"Reference"},{"href":"/docs/linux/exam/round-2","content":"Essetial Command - 1","title":"Essetial Command - 1"},{"href":"/docs/linux/exam/round-2","content":"In your home directory you will find a called collection Take the following steps A Copy this entire to opt But make sure preserve all permission and ownership information about files it contains Hint consult manual for copying command look archive option Use that permissionownership info B With copy safely in place can now remove from C Finally create new collection2","title":"Essetial Command - 2"},{"href":"/docs/linux/exam/round-2","content":"First switch to root user bash sudo su - Execute below given command copy entire collection directory opt cp -rp homebobcollection optcollection remove rm -rf create collection2 mkdir optcollection2 ---","title":"Solution"},{"href":"/docs/linux/exam/round-2","content":"There is a directory called optdatabases This should belong to your user bob But someone entered the wrong commands and messed up permissions ownership information Correct these in following way A Change owner group for this be owned by also Make sure make recursive change so that changed itself along with filesdirectories it contains B The are 777 currently which too openAnyone can read write only execute within Permissions others all denied These applied not inside C files file1 file2 file3 have but them on nothing else any at","title":"파일에서 특정 라인을 출력하기"},{"href":"/docs/linux/exam/round-2","content":"Execute below given command to change the user and group ownership for databases directory bash chown -R bobbob optdatabases update permissions chmod 0700 all files under 0640 ---","title":"Task"},{"href":"/docs/linux/exam/round-2","content":"Other sed examples","title":"Task"},{"href":"/docs/linux/exam/round-2","content":"Task 2 파일에서 특정 패턴을 찾아 삭제하기 sed를 사용하여 삭제할 수도 있습니다 이 작업은 patternd 형식의 sed 명령어를 수행할 수","title":"Solution"},{"href":"/docs/linux/exam/round-2","content":"bash sed food filename","title":"Task"},{"href":"/docs/linux/exam/round-2","content":"파일에서 특정 라인을 출력하기","title":"Solution"},{"href":"/docs/linux/exam/round-2","content":"A process called memcached is running on this system Change its nice value to 10","title":"Task"},{"href":"/docs/linux/exam/round-2","content":"In this exercise you will create two scheduled jobs A First an anacron job with the following parameters Job run once every three days The delay is 10 minutes identifier name exam command it should optanacronsh B Next at Schedule to exact date August 21 2040 bash echo Wow took a long time finallytxt","title":"Task"},{"href":"/docs/linux/exam/round-2","content":"C Add the user called jane to developers group This should be a secondarysupplementary her primary remain unchanged D Configure resource limit for so that this cannot exceed 5 loginsmaxlogins","title":"Task"},{"href":"/docs/linux/exam/round-2","content":"A Create a new user called john and set D3vU3r321 password for this B Edit the sudoers file make sure that can only run shutdown command with sudo without entering any It does not matter if you use localhost or ALL in host section","title":"Task"},{"href":"/docs/linux/exam/round-2","content":"Modify the following kernel runtime parameter vmswappiness Set a value 10 for it This can be temporary change so should temporarily keep this in current session but forgotten at next boot","title":"Task"},{"href":"/docs/linux/user-group/quota","content":"What is Quota","title":"What is Quota"},{"href":"/docs/linux/user-group/quota","content":"리눅스에서는 사용자 또는 그룹에 대한 inode파일 개수 block파일 크기에 제한을 설정할 수 있습니다 팀내의 누군가 80의 리소스를 사용하고 있다면 이는 불공평합니다 만약 100명의 팀원에게 공평히 1테라바이트의 저장 공간을 할당하고 싶다면 어떻게 해야 할까요 quota는 그룹이 사용할 있는 디스크 관리하는 기능입니다","title":"Terminology"},{"href":"/docs/linux/user-group/quota","content":"Terminology","title":"quotacheck"},{"href":"/docs/linux/user-group/quota","content":"는 각 파일 시스템과 현재 디스크 사용량 테이블을 작성하고 시스템의 할당량 파일에 기록된 테이블과 비교합니다 만약 불일치가 발견되면 파일을 업데이트합니다","title":"fallocate"},{"href":"/docs/linux/user-group/quota","content":"setquotaset disk quotas is a command line quota editor","title":"500메가 파일 생성"},{"href":"/docs/linux/user-group/quota","content":"quotaon quotaoff","title":"1기가 파일 생성"},{"href":"/docs/linux/user-group/quota","content":"신속히 테스트용 파일을 생성 할 수 있습니다 특정 디스크의 사용량을 증가시키기 위해 사용할 수동으로 하려면 정확한 크기를맞추기 어렵습니다 bash","title":"그룹 'FTP'의 할당량을 편집하겠습니다."},{"href":"/docs/linux/user-group/quota","content":"10byte 파일 생성","title":"setup"},{"href":"/docs/linux/user-group/quota","content":"fallocate -l 10 tmptestfile","title":"Install"},{"href":"/docs/linux/user-group/quota","content":"500메가 파일 생성","title":"mount option에 usrquota(유저 할당량 제한), grpquota(그룹 제한) 추가"},{"href":"/docs/linux/user-group/quota","content":"fallocate -l 500M tmptestfile","title":"apply changes"},{"href":"/docs/linux/user-group/quota","content":"fallocate -l 1G tmptestfile","title":"Practice"},{"href":"/docs/linux/user-group/quota","content":"edquotaedit user quotas","title":"Edit disk quotas for the user called john. Set a soft limit of 100 megabytes and hard 500 on /mnt partition."},{"href":"/docs/linux/user-group/quota","content":"개요 edquota 명령은 사용자 또는 그룹의 할당량을 편집하는 데 사용됩니다 -p protoname -u -g -rm -F format-name -f filesystem username -t -T groupname Example bash","title":"Reference"},{"href":"/docs/linux/user-group/quota","content":"What is Quota","title":"What is Quota"},{"href":"/docs/linux/user-group/quota","content":"리눅스에서는 사용자 또는 그룹에 대한 inode파일 개수 block파일 크기에 제한을 설정할 수 있습니다 팀내의 누군가 80의 리소스를 사용하고 있다면 이는 불공평합니다 만약 100명의 팀원에게 공평히 1테라바이트의 저장 공간을 할당하고 싶다면 어떻게 해야 할까요 quota는 그룹이 사용할 있는 디스크 관리하는 기능입니다","title":"Terminology"},{"href":"/docs/linux/user-group/quota","content":"Terminology","title":"quotacheck"},{"href":"/docs/linux/user-group/quota","content":"는 각 파일 시스템과 현재 디스크 사용량 테이블을 작성하고 시스템의 할당량 파일에 기록된 테이블과 비교합니다 만약 불일치가 발견되면 파일을 업데이트합니다","title":"fallocate"},{"href":"/docs/linux/user-group/quota","content":"setquotaset disk quotas is a command line quota editor","title":"500메가 파일 생성"},{"href":"/docs/linux/user-group/quota","content":"quotaon quotaoff","title":"1기가 파일 생성"},{"href":"/docs/linux/user-group/quota","content":"신속히 테스트용 파일을 생성 할 수 있습니다 특정 디스크의 사용량을 증가시키기 위해 사용할 수동으로 하려면 정확한 크기를맞추기 어렵습니다 bash","title":"그룹 'FTP'의 할당량을 편집하겠습니다."},{"href":"/docs/linux/user-group/quota","content":"10byte 파일 생성","title":"setup"},{"href":"/docs/linux/user-group/quota","content":"fallocate -l 10 tmptestfile","title":"Install"},{"href":"/docs/linux/user-group/quota","content":"500메가 파일 생성","title":"mount option에 usrquota(유저 할당량 제한), grpquota(그룹 제한) 추가"},{"href":"/docs/linux/user-group/quota","content":"fallocate -l 500M tmptestfile","title":"apply changes"},{"href":"/docs/linux/user-group/quota","content":"fallocate -l 1G tmptestfile","title":"Practice"},{"href":"/docs/linux/user-group/quota","content":"edquotaedit user quotas","title":"Edit disk quotas for the user called john. Set a soft limit of 100 megabytes and hard 500 on /mnt partition."},{"href":"/docs/linux/user-group/quota","content":"개요 edquota 명령은 사용자 또는 그룹의 할당량을 편집하는 데 사용됩니다 -p protoname -u -g -rm -F format-name -f filesystem username -t -T groupname Example bash","title":"Reference"},{"href":"/docs/linux/exam/round-3","content":"In your home directory you will find some text files Perform the following actions on these","title":"Task"},{"href":"/docs/linux/exam/round-3","content":"bash tac homebobreversedtxt optcorrectedtxt ---","title":"Solution"},{"href":"/docs/linux/exam/round-3","content":"Look for a file called shuffledtxt You will find 200 lines Inside it in random order Do not change the contents of this throughout exercise There are that contain word line followed by number between 00 and 99 some LINE","title":"Solution"},{"href":"/docs/linux/exam/round-3","content":"Filter out only the lines written in CAPITAL LETTERS containing word LINE Then sort this filtered output so that these appear their natural order from LINE00 LINE01 LINE02 all way to LINE99 Save and sorted file optsortedLINEStxt","title":"check list"},{"href":"/docs/linux/exam/round-3","content":"bash grep LINE0-90-9 homebobshuffledtxt sort optsortedLINEStxt ---","title":"Task"},{"href":"/docs/linux/exam/round-3","content":"Archive the databases directory again But this time do it differently First of all save archive at optarchive2targz This tar tf command should show bobdatabases as base instead homebobdatabases Heres an example","title":"Solution"},{"href":"/docs/linux/exam/round-3","content":"bash cd home sudo tar -czf optarchive2targz bobdatabases","title":"Task"},{"href":"/docs/linux/exam/round-3","content":"tar tf optarchive2targz bobdatabasesfile85 bobdatabasesfile86 bobdatabasesfile87 bobdatabasesfile88 bobdatabasesfile89 bobdatabasesfile90 bobdatabasesfile91 bobdatabasesfile92 bobdatabasesfile93 bobdatabasesfile94 ---","title":"if you target user bob, then run -u bob"},{"href":"/docs/linux/exam/round-3","content":"What is the SELinux security context for process running with PID 2 Write this to optcontexttxt file Here an examplesay a user found when inspecting aspects of 848","title":"Task"},{"href":"/docs/linux/exam/round-3","content":"Analyze the system logs and find out what is last user that had a password change Save name of this to optusertxt file","title":"Allows people in group wheel to run all commands"},{"href":"/docs/linux/exam/round-3","content":"bash sudo grep password changed varlogmessages tail -n 1 varlogsecureFeb 26 141311 centos-host sudo64406 bob TTYpts1 PWDhomebob USERroot COMMANDbingrep -r change varlog echo root optusertxt ---","title":"or without password"},{"href":"/docs/linux/exam/round-3","content":"Setup the following three cron jobs for root user A Make sure that usrlocalbinscript1sh runs every Monday at 4AM B usrlocalbinscript2sh first day of month 0430 AM C usrlocalbinscript3sh 1AM 2AM and 3AM For script3sh make to create a single job not separate ones each hour","title":"TODO"},{"href":"/docs/linux/exam/round-3","content":"if you target user bob then run -u","title":"Solution"},{"href":"/docs/linux/exam/round-3","content":"sudo crontab -e","title":"auth  sufficient pam_wheel.so trust use_uid"},{"href":"/docs/linux/exam/round-3","content":"m h dom mon dow command","title":"A bind DNS server is installed on this system. Find the zone file for `example.com` domain and open it editing."},{"href":"/docs/linux/exam/round-3","content":"0 4 1 usrlocalbinscript1sh 30 usrlocalbinscript2sh 1-3 usrlocalbinscript3sh ---","title":"Solution"},{"href":"/docs/linux/exam/round-3","content":"bash free -mh total used shared buffcache available Mem 968Mi 241Mi 131Mi 12Mi 595Mi 559Mi Swap 20Gi 14Mi echo Less than 1GB optmemorytxt du -sh usrbin 325M optdirsizetxt ---","title":"Solution"},{"href":"/docs/linux/exam/round-3","content":"bash sudo useradd jane passwd examPassed","title":"Solution"},{"href":"/docs/linux/user-group/resource-privileges","content":"What is Limit","title":"What is Limit"},{"href":"/docs/linux/user-group/resource-privileges","content":"팀내의 누군가 80의 리소스를 사용하고 있다면 이는 불공평합니다 메뉴얼을 살피어 제한하는 방법을 찾아봅시다 bash man limitsconf NAME - configuration file for the pam_limits module DESCRIPTION The pam_limitsso applies ulimit limits nice priority and number of simultaneous login sessions limit to user This description syntax etcsecuritylimitsconf conf files in etcsecuritylimitsd directory lines is as follows domain type item value fields listed above should be filled sudo vi","title":"/etc/security/limits.conf"},{"href":"/docs/linux/user-group/resource-privileges","content":"etcsecuritylimitsconf","title":"This file sets the resource limits for users logged in via PAM."},{"href":"/docs/linux/user-group/resource-privileges","content":"This file sets the resource limits for users logged in via PAM","title":"Also note that configuration files in /etc/security/limits.d directory,"},{"href":"/docs/linux/user-group/resource-privileges","content":"It does not affect resource limits of the system services","title":"file in case the domain is same or more specific."},{"href":"/docs/linux/user-group/resource-privileges","content":"Also note that configuration files in etcsecuritylimitsd directory","title":"can be overridden with a wildcard setting in config file the"},{"href":"/docs/linux/user-group/resource-privileges","content":"which are read in alphabetical order override the settings this","title":"with a user specific setting in the subdirectory."},{"href":"/docs/linux/user-group/resource-privileges","content":"file in case the domain is same or more specific","title":"<domain> <type> <item> <value>"},{"href":"/docs/linux/user-group/resource-privileges","content":"That means for example that setting a limit wildcard domain here","title":"<domain> can be:"},{"href":"/docs/linux/user-group/resource-privileges","content":"can be overridden with a wildcard setting in config file the","title":"- a group name, with @group syntax"},{"href":"/docs/linux/user-group/resource-privileges","content":"subdirectory but a user specific setting here can be overridden only","title":"- the wildcard %, can be also used with %group syntax, for maxlogin limit"},{"href":"/docs/linux/user-group/resource-privileges","content":"with a user specific setting in the subdirectory","title":"- NOTE: group and wildcard limits are not applied to root."},{"href":"/docs/linux/user-group/resource-privileges","content":"Each line describes a limit for user in the form","title":"- \"soft\" for enforcing the soft limits"},{"href":"/docs/linux/user-group/resource-privileges","content":"domain  type item value","title":"- \"-\" for unlimiting"},{"href":"/docs/linux/user-group/resource-privileges","content":"domain can be","title":"- fsize maximum filesize (KB)"},{"href":"/docs/linux/user-group/resource-privileges","content":"- a user name","title":"- nofile max number of open file descriptors"},{"href":"/docs/linux/user-group/resource-privileges","content":"- a group name with syntax","title":"- stack max size (KB)"},{"href":"/docs/linux/user-group/resource-privileges","content":"- the wildcard  for default entry","title":"- nproc max number of processes"},{"href":"/docs/linux/user-group/resource-privileges","content":"- the wildcard  can be also used with group syntax for maxlogin limit","title":"- maxlogins max number of logins for this user"},{"href":"/docs/linux/user-group/resource-privileges","content":"- ex users soft nproc 20","title":"- priority the to run user process with"},{"href":"/docs/linux/user-group/resource-privileges","content":"- NOTE group and wildcard limits are not applied to root","title":"- sigpending max number of pending signals"},{"href":"/docs/linux/user-group/resource-privileges","content":"type can have the two values","title":"- nice max priority allowed to raise values: [-20, 19]"},{"href":"/docs/linux/user-group/resource-privileges","content":"- soft for enforcing the limits","title":"<domain> <type> <item> <value>"},{"href":"/docs/linux/user-group/resource-privileges","content":"- hard for enforcing limits","title":"*  hard rss 10000"},{"href":"/docs/linux/user-group/resource-privileges","content":"- for unlimiting","title":"@faculty  soft nproc 20"},{"href":"/docs/linux/user-group/resource-privileges","content":"item can be one of the following","title":"ftp  hard nproc 0"},{"href":"/docs/linux/user-group/resource-privileges","content":"- core limits the file size KB","title":"Test"},{"href":"/docs/linux/user-group/resource-privileges","content":"- data max size KB","title":"This means that login-specific resource files such as .profile, .bash_profile"},{"href":"/docs/linux/user-group/resource-privileges","content":"- fsize maximum filesize KB","title":"background process"},{"href":"/docs/linux/user-group/resource-privileges","content":"- memlock max locked-in-memory address space KB","title":"from back to front"},{"href":"/docs/linux/user-group/resource-privileges","content":"- nofile max number of open file descriptors","title":"ulimit"},{"href":"/docs/linux/user-group/resource-privileges","content":"- rss max resident set size KB","title":"Example"},{"href":"/docs/linux/user-group/resource-privileges","content":"- stack max size KB","title":"User privilege specification"},{"href":"/docs/linux/user-group/resource-privileges","content":"- cpu max CPU time MIN","title":"but available any command as trinity"},{"href":"/docs/linux/user-group/resource-privileges","content":"- nproc max number of processes","title":"add user to group"},{"href":"/docs/linux/user-group/resource-privileges","content":"- as address space limit KB","title":"Practice"},{"href":"/docs/linux/user-group/resource-privileges","content":"- maxlogins max number of logins for this user","title":"(ie, from files, LDAP, NIS, etc) in this file - just use %groupname"},{"href":"/docs/linux/user-group/resource-privileges","content":"- maxsyslogins max number of logins on the system","title":"%sys ALL = NETWORKING, SOFTWARE, SERVICES, STORAGE, DELEGATING, PROCESSES, LOCATE, DRIVERS"},{"href":"/docs/linux/user-group/resource-privileges","content":"- priority the to run user process with","title":"%users ALL=/sbin/mount /mnt/cdrom, /sbi"},{"href":"/docs/linux/user-group/resource-privileges","content":"- locks max number of file the user can hold","title":"<domain>  <type> <item> <value>"},{"href":"/docs/linux/user-group/resource-privileges","content":"- sigpending max number of pending signals","title":"Modify the `sudoers` file in such a way to allow"},{"href":"/docs/linux/user-group/resource-privileges","content":"What is Limit","title":"What is Limit"},{"href":"/docs/linux/user-group/resource-privileges","content":"팀내의 누군가 80의 리소스를 사용하고 있다면 이는 불공평합니다 메뉴얼을 살피어 제한하는 방법을 찾아봅시다 bash man limitsconf NAME - configuration file for the pam_limits module DESCRIPTION The pam_limitsso applies ulimit limits nice priority and number of simultaneous login sessions limit to user This description syntax etcsecuritylimitsconf conf files in etcsecuritylimitsd directory lines is as follows domain type item value fields listed above should be filled sudo vi","title":"/etc/security/limits.conf"},{"href":"/docs/linux/user-group/resource-privileges","content":"etcsecuritylimitsconf","title":"This file sets the resource limits for users logged in via PAM."},{"href":"/docs/linux/user-group/resource-privileges","content":"This file sets the resource limits for users logged in via PAM","title":"Also note that configuration files in /etc/security/limits.d directory,"},{"href":"/docs/linux/user-group/resource-privileges","content":"It does not affect resource limits of the system services","title":"file in case the domain is same or more specific."},{"href":"/docs/linux/user-group/resource-privileges","content":"Also note that configuration files in etcsecuritylimitsd directory","title":"can be overridden with a wildcard setting in config file the"},{"href":"/docs/linux/user-group/resource-privileges","content":"which are read in alphabetical order override the settings this","title":"with a user specific setting in the subdirectory."},{"href":"/docs/linux/user-group/resource-privileges","content":"file in case the domain is same or more specific","title":"<domain> <type> <item> <value>"},{"href":"/docs/linux/user-group/resource-privileges","content":"That means for example that setting a limit wildcard domain here","title":"<domain> can be:"},{"href":"/docs/linux/user-group/resource-privileges","content":"can be overridden with a wildcard setting in config file the","title":"- a group name, with @group syntax"},{"href":"/docs/linux/user-group/resource-privileges","content":"subdirectory but a user specific setting here can be overridden only","title":"- the wildcard %, can be also used with %group syntax, for maxlogin limit"},{"href":"/docs/linux/user-group/resource-privileges","content":"with a user specific setting in the subdirectory","title":"- NOTE: group and wildcard limits are not applied to root."},{"href":"/docs/linux/user-group/resource-privileges","content":"Each line describes a limit for user in the form","title":"- \"soft\" for enforcing the soft limits"},{"href":"/docs/linux/user-group/resource-privileges","content":"domain  type item value","title":"- \"-\" for unlimiting"},{"href":"/docs/linux/user-group/resource-privileges","content":"domain can be","title":"- fsize maximum filesize (KB)"},{"href":"/docs/linux/user-group/resource-privileges","content":"- a user name","title":"- nofile max number of open file descriptors"},{"href":"/docs/linux/user-group/resource-privileges","content":"- a group name with syntax","title":"- stack max size (KB)"},{"href":"/docs/linux/user-group/resource-privileges","content":"- the wildcard  for default entry","title":"- nproc max number of processes"},{"href":"/docs/linux/user-group/resource-privileges","content":"- the wildcard  can be also used with group syntax for maxlogin limit","title":"- maxlogins max number of logins for this user"},{"href":"/docs/linux/user-group/resource-privileges","content":"- ex users soft nproc 20","title":"- priority the to run user process with"},{"href":"/docs/linux/user-group/resource-privileges","content":"- NOTE group and wildcard limits are not applied to root","title":"- sigpending max number of pending signals"},{"href":"/docs/linux/user-group/resource-privileges","content":"type can have the two values","title":"- nice max priority allowed to raise values: [-20, 19]"},{"href":"/docs/linux/user-group/resource-privileges","content":"- soft for enforcing the limits","title":"<domain> <type> <item> <value>"},{"href":"/docs/linux/user-group/resource-privileges","content":"- hard for enforcing limits","title":"*  hard rss 10000"},{"href":"/docs/linux/user-group/resource-privileges","content":"- for unlimiting","title":"@faculty  soft nproc 20"},{"href":"/docs/linux/user-group/resource-privileges","content":"item can be one of the following","title":"ftp  hard nproc 0"},{"href":"/docs/linux/user-group/resource-privileges","content":"- core limits the file size KB","title":"Test"},{"href":"/docs/linux/user-group/resource-privileges","content":"- data max size KB","title":"This means that login-specific resource files such as .profile, .bash_profile"},{"href":"/docs/linux/user-group/resource-privileges","content":"- fsize maximum filesize KB","title":"background process"},{"href":"/docs/linux/user-group/resource-privileges","content":"- memlock max locked-in-memory address space KB","title":"from back to front"},{"href":"/docs/linux/user-group/resource-privileges","content":"- nofile max number of open file descriptors","title":"ulimit"},{"href":"/docs/linux/user-group/resource-privileges","content":"- rss max resident set size KB","title":"Example"},{"href":"/docs/linux/user-group/resource-privileges","content":"- stack max size KB","title":"User privilege specification"},{"href":"/docs/linux/user-group/resource-privileges","content":"- cpu max CPU time MIN","title":"but available any command as trinity"},{"href":"/docs/linux/user-group/resource-privileges","content":"- nproc max number of processes","title":"add user to group"},{"href":"/docs/linux/user-group/resource-privileges","content":"- as address space limit KB","title":"Practice"},{"href":"/docs/linux/user-group/resource-privileges","content":"- maxlogins max number of logins for this user","title":"(ie, from files, LDAP, NIS, etc) in this file - just use %groupname"},{"href":"/docs/linux/user-group/resource-privileges","content":"- maxsyslogins max number of logins on the system","title":"%sys ALL = NETWORKING, SOFTWARE, SERVICES, STORAGE, DELEGATING, PROCESSES, LOCATE, DRIVERS"},{"href":"/docs/linux/user-group/resource-privileges","content":"- priority the to run user process with","title":"%users ALL=/sbin/mount /mnt/cdrom, /sbi"},{"href":"/docs/linux/user-group/resource-privileges","content":"- locks max number of file the user can hold","title":"<domain>  <type> <item> <value>"},{"href":"/docs/linux/user-group/resource-privileges","content":"- sigpending max number of pending signals","title":"Modify the `sudoers` file in such a way to allow"},{"href":"/docs/linux/exam/round-4","content":"A bash find homebobcollection -type f -size 1c -exec mv optfoundfiles B grep -l -i e C -perm -or chmod or ---","title":"Solution"},{"href":"/docs/linux/exam/round-4","content":"A bash diff -rq homebobdir1 homebobdir2 rm homebobdir2file387 - -r 재귀적으로 디렉토리를 비교합니다 -q 파일이 다른 경우에만 파일 이름을 출력합니다 B echo This file has been edited homebobdir1file007 ---","title":"Solution"},{"href":"/docs/linux/exam/round-4","content":"Create a cron job for user root that will run every Monday and Friday at 3AM 0300 This should be single command archives the etc directory stores this archive optetcbackuptargz","title":"Solution"},{"href":"/docs/linux/exam/round-4","content":"bash sudo crontab -e Add the following line to file 0 3 15 tar -czf optetcbackuptargz etc ---","title":"Task"},{"href":"/docs/linux/exam/round-4","content":"A Find out what DNS resolvers this system is using save the IP address of at least one to following file optresolverandroutestxt B Print routing table and output same Make sure you dont overwrite previous contents C Add a static host The hostname should add webserver it statically resolve 1111","title":"Solution"},{"href":"/docs/linux/exam/round-4","content":"A bash cat etcresolvconf grep nameserver awk print 2 optresolverandroutestxt B ip route C sudo vi etchosts","title":"Task"},{"href":"/docs/linux/exam/round-4","content":"Add the following line to file","title":"Solution"},{"href":"/docs/oidc/KeycloakK8S","content":"OIDC란 OpenID Connect의 약자로 OAuth 20 위에 구축된 인증 프로토콜입니다 20의 기능을 확장하여 인증과 권한 부여를 위한 표준 프로토콜을 제공합니다 우리는 kubeadm 환경에서 Keycloak을 구축하여 OIDC를 통해 인증을 구현해보겠습니다","title":"Keycloak 이란?"},{"href":"/docs/oidc/KeycloakK8S","content":"Keycloak은 Red Hat에서 제공하는 오픈소스 인증 및 권한 부여 서버입니다","title":"구축하기"},{"href":"/docs/oidc/KeycloakK8S","content":"- 기존 데이터를 수용하여 LDAP 인증 방식과 통합하겠습니다 K8S 환경에서 구축하고 kube-apiserver 와 연동하여 인증된 유저만 k8s 리소스에 접근할 수 있도록 구성하겠습니다 기본 방식은 OIDC를 사용하겠습니다","title":"@param auth.adminUser Keycloak administrator user"},{"href":"/docs/oidc/KeycloakK8S","content":"먼저 서버에 맞게 valuesyaml을 수정합니다 yaml","title":"@param auth.adminPassword Keycloak administrator password for the new user"},{"href":"/docs/oidc/KeycloakK8S","content":"values-keycloakyaml","title":"adminPassword: \"\""},{"href":"/docs/oidc/KeycloakK8S","content":"resources limits cpu 500m memory 2Gi requests 250m 1Gi auth","title":"Service configuration"},{"href":"/docs/oidc/KeycloakK8S","content":"param authadminUser Keycloak administrator user","title":"service:"},{"href":"/docs/oidc/KeycloakK8S","content":"adminPassword","title":"@param service.ports.https Keycloak service HTTPS port"},{"href":"/docs/oidc/KeycloakK8S","content":"Service configuration","title":"stateful 하게 자동 구성을 원한다면 true로 설정합니다."},{"href":"/docs/oidc/KeycloakK8S","content":"OIDC란 OpenID Connect의 약자로 OAuth 20 위에 구축된 인증 프로토콜입니다 20의 기능을 확장하여 인증과 권한 부여를 위한 표준 프로토콜을 제공합니다 우리는 kubeadm 환경에서 Keycloak을 구축하여 OIDC를 통해 인증을 구현해보겠습니다","title":"Keycloak 이란?"},{"href":"/docs/oidc/KeycloakK8S","content":"Keycloak은 Red Hat에서 제공하는 오픈소스 인증 및 권한 부여 서버입니다","title":"구축하기"},{"href":"/docs/oidc/KeycloakK8S","content":"- 기존 데이터를 수용하여 LDAP 인증 방식과 통합하겠습니다 K8S 환경에서 구축하고 kube-apiserver 와 연동하여 인증된 유저만 k8s 리소스에 접근할 수 있도록 구성하겠습니다 기본 방식은 OIDC를 사용하겠습니다","title":"@param auth.adminUser Keycloak administrator user"},{"href":"/docs/oidc/KeycloakK8S","content":"먼저 서버에 맞게 valuesyaml을 수정합니다 yaml","title":"@param auth.adminPassword Keycloak administrator password for the new user"},{"href":"/docs/oidc/KeycloakK8S","content":"values-keycloakyaml","title":"adminPassword: \"\""},{"href":"/docs/oidc/KeycloakK8S","content":"resources limits cpu 500m memory 2Gi requests 250m 1Gi auth","title":"Service configuration"},{"href":"/docs/oidc/KeycloakK8S","content":"param authadminUser Keycloak administrator user","title":"service:"},{"href":"/docs/oidc/KeycloakK8S","content":"adminPassword","title":"@param service.ports.https Keycloak service HTTPS port"},{"href":"/docs/oidc/KeycloakK8S","content":"Service configuration","title":"stateful 하게 자동 구성을 원한다면 true로 설정합니다."},{"href":"/docs/linux/network/ PortRedirectionAndNAT","content":"Port Redirection","title":"Port Redirection"},{"href":"/docs/linux/network/ PortRedirectionAndNAT","content":"port redirection 은 한 포트에서 다른 포트로 트래픽을 리디렉션하는 데 사용되는 기술입니다 이는 일반적으로 공용공인 IP 주소에서 개인보안 주소네트워크로 전달하는 사용됩니다 보안 네트워크에서 실행되는 서비스가 있고 공용 액세스할 수 있도록 하려는 경우에 유용합니다 만약 님은 네트워크 웹게임파일DB 서버등 4개를 구성하고 싶은데 주소가 하나만 있다면 가능함 ㅋ","title":"Network Packet"},{"href":"/docs/linux/network/ PortRedirectionAndNAT","content":"Network Packet","title":"NAT(Network Address Translation)"},{"href":"/docs/linux/network/ PortRedirectionAndNAT","content":"네트워크 패킷은 소스 IP 주소와 대상 주소를 포함합니다 이 서버에서 서버로 라우터에서 라우터로 스위치에서 스위치로 전달됩니다 이러한 패킷의 및 주소는 모든 장치가 데이터를 전달할 위치와 응답을 반환할 위치를 알 수 있도록 도와줍니다","title":"걍 경험담 (저번주)"},{"href":"/docs/linux/network/ PortRedirectionAndNAT","content":"NATNetwork Address Translation","title":"Setup"},{"href":"/docs/linux/network/ PortRedirectionAndNAT","content":"위 예제에서는 공용 네트워크와 개인 네트워크 사이에 연결된 서버가 있습니다 인터넷에 장치는 ---","title":"check port forwarding"},{"href":"/docs/linux/network/ PortRedirectionAndNAT","content":"필자는 spring 서버개발시 DB와 연결하는 포트를 3306으로 사용하고 있었습니다 기능은 db client 라이브러리에게 맡겨두어 별 신경안쓰다 보니 품질 검사시 netstat -antl 명령어로 확인하다가 TIME_WAIT 상태인 socket 이 만개가 넘어가는 것을 발견했습니다 establised 상태의 socket은 20건 정도였구요 여기서 놀라웠던건 send port가 어플리케이션의 포트가 아니라 할당가능한 포트내의 임의의 포트들이 사용되고 있었다는 것이었습니다 뭐 물론 이이슈는 remove-abandoned remove-abandoned-timeout keep-alive 설정등으로 해결되었지만 기능 자체는 커넥션풀링에 대해 고민해보는 계기가 되었습니다","title":"temporary"},{"href":"/docs/linux/network/ PortRedirectionAndNAT","content":"check port forwarding","title":"apply changes"},{"href":"/docs/linux/network/ PortRedirectionAndNAT","content":"bash sudo sysctl netipv4ip_forward -a grep forward","title":"IP TABLE"},{"href":"/docs/linux/network/ PortRedirectionAndNAT","content":"Enable port forwarding","title":"들어가기 전에"},{"href":"/docs/linux/network/ PortRedirectionAndNAT","content":"sudo sysctl -w netipv4ip_forward1","title":"Options"},{"href":"/docs/linux/network/ PortRedirectionAndNAT","content":"sudo vi etcsysctlconf or etcsysctld99-sysctlconf","title":"TODO"},{"href":"/docs/linux/network/ PortRedirectionAndNAT","content":"Add the following line","title":"TODO"},{"href":"/docs/linux/network/ PortRedirectionAndNAT","content":"netipv4ip_forward 1 netipv6confallforwarding","title":"TODO"},{"href":"/docs/linux/network/ PortRedirectionAndNAT","content":"sudo sysctl --system","title":"Table"},{"href":"/docs/linux/network/ PortRedirectionAndNAT","content":"리눅스 커널은 NFT Netfilter 라는 패킷 필터링 프레임워크를 사용하여 네트워크 패킷을 필터링하고 NATNetwork Address Translation 를 설정하는데 사용된다 하지만 이것은 복잡하고 어렵기 때문에 iptables 간단하게 설정할 수 있다 IPTABLE은 IPv4 NAT 사용되는 커널의 서브시스템이다 ufw 와 같은 방화벽 프로그램이 있지만 을 직접 사용하는 것이 더 좋다 어렵고 복잡하지만 많은 것을 할 있기 때문이다 아래는 하나의 예시이다 sh -t nat -A POSTROUTING -s 19216815024 -j MASQUERADE 뭔 개소리일까 이건 무슨 명령어일까 라고 생각할 먼저 용어들을 알아보자","title":"NAT"},{"href":"/docs/linux/network/ PortRedirectionAndNAT","content":"무조건 iptables 를 수정하기전 iptables-save 통해 현재 설정을 백업해두자 sh etciptablesrulesbak 이후 모든 걸 되돌리고 싶다면 iptables-restore 사용하면 된다 이제 커맨드에 대해 알아보자","title":"input interface"},{"href":"/docs/linux/network/ PortRedirectionAndNAT","content":"Command iptables","title":"Mangle"},{"href":"/docs/linux/network/ PortRedirectionAndNAT","content":"Iptables는 Linux 커널에서 IP 패킷 필터 규칙 테이블을 설정 유지 관리 및 검사하는 데 사용됩니다 여러 개의 서로 다른 테이블이 정의될 수 있습니다 각 테이블에는 내장 체인이 포함되어 있으며 사용자 정의 체인도 포함될","title":"Raw"},{"href":"/docs/linux/network/ PortRedirectionAndNAT","content":"-s 출발지 매칭 도메인 IP 주소 넷마스크 값을 이용하여 표기source src -d 목적지 표기destination dst -p 프로토콜과 TCP UDP ICMP 와 같은 이름을 사용하고 대소문자는 구분하지 않음 -i 입력 인터페이스와 매칭in-interface -o 출력 매칭out-interface -j 매치되는 패킷을 어떻게 처리할지 지정 --jump","title":"셋 업"},{"href":"/docs/linux/network/ PortRedirectionAndNAT","content":"nfnetlink_queue","title":"TTL"},{"href":"/docs/linux/network/ PortRedirectionAndNAT","content":"RETURN 현재 체인에서 패킷을 반환합니다 이는 처리하는 것을 중지하고 Next Rule을 검사합니다 만일 체인의 끝에 도달하거나 대상이 있는 내장 규칙이 일치하면 체인 정책에 지정된 패킷의 운명을 결정합니다 REJECT 버리고 이와 동시에 적절한 응답 전송한다icmp-port-unreachable LOG syslog에 기록한다 SNAT --to 주소 소스 IP를 변환NATNAT한다 DNAT 목적지 변환NAT한다","title":"음 닫혀야 하는 포트"},{"href":"/docs/linux/network/ PortRedirectionAndNAT","content":"커널에서 사전 정의된 종류별 테이블을 활용하여 패킷을 관리한다 테이블 자체는 추가 삭제 변경할 수 없다","title":"backup current iptables"},{"href":"/docs/linux/network/ PortRedirectionAndNAT","content":"이것이 기본 테이블입니다-t 옵션이 전달되지 않은 경우 여기에는 내장 체인 INPUT로컬 소켓으로 향하는 패킷용 FORWARD박스를 통해 라우팅되는 및 OUTPUT로컬 생성 패킷용이 포함되어 있습니다","title":"check devoces"},{"href":"/docs/linux/network/ PortRedirectionAndNAT","content":"이 테이블은 새로운 연결을 생성하는 패킷이 발견될 때 참조됩니다 이는 PREROUTING패킷이 들어오자마자 변경 OUTPUT라우팅 전에 로컬에서 생성된 패킷 및 POSTROUTING패킷이 나가려고 할 변경의 세 가지 내장 기능으로 구성됩니다 PREROUTING 외부 수신용패킷을 INPUT rule 로 보내기 전 ip 와 port를 변경하는 역할을 한다 filter 테이블과 같은 역할이나 먼저 적용 OUTPUT 나중에 POSTROUTING 패킷내보내는 보내패킷이 에서 나온 이후 port 를","title":"close port 5000"},{"href":"/docs/linux/network/ PortRedirectionAndNAT","content":"만약 아래 명령어를 적용했다 치자 sh sudo iptables -t nat -A PREROUTING","title":"Step 2: Redirect all traffic on port `6000` to local `6001`"},{"href":"/docs/linux/network/ PortRedirectionAndNAT","content":"input interface","title":"check table"},{"href":"/docs/linux/network/ PortRedirectionAndNAT","content":"-i enp2s0f0 -s 1000024 -p tcp --dport 8080 -j DNAT --to-destination 1921680580 PREROUTING 은 오직 external server 에서 들어오는 패킷에만 적용된다 10009enp2s0f0로 부터 서버의 포트로 패킷을 전송할 경우 인터페이스1921680580 로 갈것이다 하지만 response 를 줄때 1000024로 주지만 출발지 10009에 대한 정보가 없다 우리는 예시로 에 19216801 라는 로컬 호스트 IP 임시로 할당하여 19216801를 받을 수 있도록 패킷의 소스를 변경해야한다 이 때 사용하는 것이 MASQUERADE 이다 주목해야 할 중요한 점은 -o을 사용한다는 것입니다 이번에는 출력 인터페이스를 선택합니다 sh sudo iptables -t nat -A POSTROUTING -o IP를 지정할 필요는 없습니다 알아서 소스 자체 IP로 교체합니다 POSTROUTINGnetwork packets just before they leave the network 체인의 테이블에서만 유효합니다 동적 바인딩 되는 주소가 아닐경우 SNAT를 사용해야 합니다 NAT 테이블의 chain 에서만 사용할 있는 target으로 패킷이 나가는 인터페이스와 매핑하는 역할을 한다 interface 가 down 되면 connection 끊긴다 DHCP 연결에서만 사용 가능하며 static 의 SNAT 을 사용해야한다 udp dccp sctp 가능하다   --to-port source port 정하여 default 덮어씌운다 --random --random-fully 포트 매핑을 랜덤하게","title":"new rule"},{"href":"/docs/linux/network/ PortRedirectionAndNAT","content":"이 테이블은 패킷의 헤더를 수정하는등 특수 패킷 변경시 사용됩니다 5가지 기본 체인들을 지원합니다 다음과 같은 작업을 수행하는 데 사용할 수 있습니다 TTL TOS DSCP 값을 변경합니다 MTU를 IP 헤더에 추가 정보를 추가합니다 지원 체인 PREROUTING OUTPUT","title":"suceess"},{"href":"/docs/linux/network/ PortRedirectionAndNAT","content":"패킷 필터링을 우회하여 패킷을 허용 또는 차단하는 데 사용됩니다 raw 테이블은 다음과 같은 작업을 수행하는 사용할 수 있습니다 특정 IP 주소 프로토콜의 차단합니다 패킷의 헤더를 수정하지 않고","title":"deny all traffic to eth0 regardless of port"},{"href":"/docs/linux/network/ PortRedirectionAndNAT","content":"위 설명과 다르게 Chain 은 사용자가 정의할 수 있다 아래 기본 체인들은 위에 소개한 테이블들에 속한다 INPUT OUTPUT FORWARD PREROUTING POSTROUTING","title":"NFT"},{"href":"/docs/linux/network/ PortRedirectionAndNAT","content":"이제 우리는 iptables 을 사용할 준비가 되었다 어떤 예시들이 있을지 알아보자","title":"content)"},{"href":"/docs/write","content":"가독성-보기쉽게-작성해라","title":"가독성-보기쉽게-작성해라)"},{"href":"/docs/write","content":"- 목차부터 작성해라","title":"목차부터-작성해라)"},{"href":"/docs/write","content":"- 스토리라인을 고민해라","title":"아름답게-꾸며라)"},{"href":"/docs/write","content":"스토리라인을-고민해라","title":"배려)"},{"href":"/docs/write","content":"- 문맥 맥락이 중요하다","title":"전하고자-하는-구체적인-메세지가-있어야한다)"},{"href":"/docs/write","content":"문맥--맥락이-중요하다","title":"타겟)"},{"href":"/docs/write","content":"- 플랫폼에 어울리는 문법","title":"유머와-재치로-독자들의-마음을-훔친다)"},{"href":"/docs/write","content":"플랫폼에-어울리는-문법","title":"상대방은-모를-수-있다)"},{"href":"/docs/write","content":"- 전하고자 하는 구체적인 메세지가 있어야한다","title":"쉼표콤마를-찍어야할-때)"},{"href":"/docs/write","content":"전하고자-하는-구체적인-메세지가-있어야한다","title":"불필요한-부분을-빼라)"},{"href":"/docs/write","content":"- 상대를 정확하게 지목한다","title":"good)"},{"href":"/docs/write","content":"상대를-정확하게-지목한다","title":"겹치는-표현-빼기)"},{"href":"/docs/write","content":"- 문장 커뮤니 케이션","title":"bad-1)"},{"href":"/docs/write","content":"- 유머와 재치로 독자들의 마음을 훔친다","title":"bad-2)"},{"href":"/docs/write","content":"유머와-재치로-독자들의-마음을-훔친다","title":"good-2)"},{"href":"/docs/write","content":"- 상대방은 모를 수 있다","title":"붉은화성적화성-빼기)"},{"href":"/docs/write","content":"상대방은-모를-수-있다","title":"bad-3)"},{"href":"/docs/write","content":"- 퇴고 문장 다이어트","title":"good-4)"},{"href":"/docs/write","content":"- 쉼표콤마를 찍어야할 때","title":"good-5)"},{"href":"/docs/write","content":"쉼표콤마를-찍어야할-때","title":"들것-빼기)"},{"href":"/docs/write","content":"- 불필요한 부분을 빼라","title":"bad-6)"},{"href":"/docs/write","content":"불필요한-부분을-빼라","title":"good-6)"},{"href":"/docs/write","content":"- 겹치는 표현 빼기","title":"스토리라인을 고민해라"},{"href":"/docs/write","content":"- 붉은화성적화성 빼기","title":"문장 커뮤니 케이션"},{"href":"/docs/write","content":"- 쓰면서 생각이 정갈해진다","title":"Good"},{"href":"/docs/write","content":"쓰면서-생각이-정갈해진다","title":"Bad"},{"href":"/docs/write","content":"가독성-보기쉽게-작성해라","title":"가독성-보기쉽게-작성해라)"},{"href":"/docs/write","content":"- 목차부터 작성해라","title":"목차부터-작성해라)"},{"href":"/docs/write","content":"- 스토리라인을 고민해라","title":"아름답게-꾸며라)"},{"href":"/docs/write","content":"스토리라인을-고민해라","title":"배려)"},{"href":"/docs/write","content":"- 문맥 맥락이 중요하다","title":"전하고자-하는-구체적인-메세지가-있어야한다)"},{"href":"/docs/write","content":"문맥--맥락이-중요하다","title":"타겟)"},{"href":"/docs/write","content":"- 플랫폼에 어울리는 문법","title":"유머와-재치로-독자들의-마음을-훔친다)"},{"href":"/docs/write","content":"플랫폼에-어울리는-문법","title":"상대방은-모를-수-있다)"},{"href":"/docs/write","content":"- 전하고자 하는 구체적인 메세지가 있어야한다","title":"쉼표콤마를-찍어야할-때)"},{"href":"/docs/write","content":"전하고자-하는-구체적인-메세지가-있어야한다","title":"불필요한-부분을-빼라)"},{"href":"/docs/write","content":"- 상대를 정확하게 지목한다","title":"good)"},{"href":"/docs/write","content":"상대를-정확하게-지목한다","title":"겹치는-표현-빼기)"},{"href":"/docs/write","content":"- 문장 커뮤니 케이션","title":"bad-1)"},{"href":"/docs/write","content":"- 유머와 재치로 독자들의 마음을 훔친다","title":"bad-2)"},{"href":"/docs/write","content":"유머와-재치로-독자들의-마음을-훔친다","title":"good-2)"},{"href":"/docs/write","content":"- 상대방은 모를 수 있다","title":"붉은화성적화성-빼기)"},{"href":"/docs/write","content":"상대방은-모를-수-있다","title":"bad-3)"},{"href":"/docs/write","content":"- 퇴고 문장 다이어트","title":"good-4)"},{"href":"/docs/write","content":"- 쉼표콤마를 찍어야할 때","title":"good-5)"},{"href":"/docs/write","content":"쉼표콤마를-찍어야할-때","title":"들것-빼기)"},{"href":"/docs/write","content":"- 불필요한 부분을 빼라","title":"bad-6)"},{"href":"/docs/write","content":"불필요한-부분을-빼라","title":"good-6)"},{"href":"/docs/write","content":"- 겹치는 표현 빼기","title":"스토리라인을 고민해라"},{"href":"/docs/write","content":"- 붉은화성적화성 빼기","title":"문장 커뮤니 케이션"},{"href":"/docs/write","content":"- 쓰면서 생각이 정갈해진다","title":"Good"},{"href":"/docs/write","content":"쓰면서-생각이-정갈해진다","title":"Bad"},{"href":"/docs/linux/network/Container","content":"도움이 될만한 명령어들","title":"도움이 될만한 명령어들"},{"href":"/docs/linux/network/Container","content":"list an modify interface on the host","title":"ip addresses assigned to the interfaces"},{"href":"/docs/linux/network/Container","content":"ip link add br0 type bridge","title":"DHCP를 통해 IPv4 주소를 자동으로 할당받도록 설정합니다."},{"href":"/docs/linux/network/Container","content":"ip link set br0 up","title":"addresses:"},{"href":"/docs/linux/network/Container","content":"ip addresses assigned to the interfaces","title":"- 10.12.34.56/24"},{"href":"/docs/linux/network/Container","content":"이 명령어들 즉 ip 커맨드는 시스템이 restart 되면 리셋됩니다 테스트 용도로 사용하기 좋습니다 netplan get 명령어를 통해 현재 설정을 확인할 수 있습니다 영구변경을 원한다면 아래 파일을 수정하고 sh cat etcnetplan00-installer-configyaml 예시임 네트워크 인터페이스 IP 주소 DNS 서버 라우팅 정보 등을 구성합니다 yaml network ethernets enp0s3","title":"query to below dns servers"},{"href":"/docs/linux/network/Container","content":"DHCP를 통해 IPv4 주소를 자동으로 할당받도록 설정합니다","title":"192.168.0.0/24 네트워크로 향하는 트래픽을 10.0.0.100 게이트웨이를 통해 라우팅합니다."},{"href":"/docs/linux/network/Container","content":"이 인터페이스에 할당할 IP 주소를 지정합니다","title":"/etc/resolv.conf"},{"href":"/docs/linux/network/Container","content":"- 1012345624","title":"create veth pair"},{"href":"/docs/linux/network/Container","content":"version 2 이후 아래 명령어를 통해 반영합니다 sh","title":"set veth-red to red namespace"},{"href":"/docs/linux/network/Container","content":"for dry run","title":"set veth-blue to blue namespace"},{"href":"/docs/linux/network/Container","content":"sudo netplan try","title":"activate vth"},{"href":"/docs/linux/network/Container","content":"force apply","title":"ping from red to blue"},{"href":"/docs/linux/network/Container","content":"sudo netplan apply 참고로 은 networkd 를 위한 설정 도구입니다 는 systemd 의 일부입니다 하지만 명령어를 통해 설정을 변경하는것은 잠재적 위험이 있습니다 시스템 시작시 etcnetplan 경로를 alphabetical order 로 읽기 때문에 etcnetplan01-network-manager-allyaml 파일을 작성하면 덮어씌워집니다 아래 수정하면 됩니다 yaml","title":"ping from blue to red"},{"href":"/docs/linux/network/Container","content":"etcnetplan01-network-manager-allyaml","title":"check arp table of red(blue address: 192.168.15.2)"},{"href":"/docs/linux/network/Container","content":"network ethernets enp0s3 dhcp4 false addresses - 1012345624 192168010324 fe809640c9fffe26370c64 nameservers","title":"check arp table of blue(red address: 192.168.15.1)"},{"href":"/docs/linux/network/Container","content":"resolve ip address from domain name that is not in etchosts","title":"create bridge"},{"href":"/docs/linux/network/Container","content":"query to below dns servers","title":"activate vth"},{"href":"/docs/linux/network/Container","content":"addresses - 8844 8888 routes","title":"브릿지를 통해 LAN 네트워크와 연결"},{"href":"/docs/linux/network/Container","content":"1921680024 네트워크로 향하는 트래픽을 1000100 게이트웨이를 통해 라우팅합니다","title":"MASQUERADE: NAT"},{"href":"/docs/linux/network/Container","content":"- to 1921680024 via 1000100","title":"192.168.15.0/24: This specifies the source of packets."},{"href":"/docs/linux/network/Container","content":"다른 네트워크로 향하는 트래픽은 10001 게이트웨이를 통해 라우팅됩니다","title":"MASQUERADE: source IP of the packets is not known until are routed."},{"href":"/docs/linux/network/Container","content":"- to default via 10001 version 2 반영 후 ip route 의 routes 필드 여부를 확인 resolvectl status 명령어를 통해 nameservers 글로벌 적용은 etcresolvconf 파일을 수정하면 됩니다","title":"This matches destination port 80, which is typically used for HTTP traffic."},{"href":"/docs/linux/network/Container","content":"etcresolvconf","title":"--to-destination 192.168.15.2:80: This is the new destination of packet. In this case, it's IP address 192.168.15.2 on port 80."},{"href":"/docs/linux/network/Container","content":"Resolve DNS8888 1111 이후 systemd-resolved 서비스를 재시작합니다 sh sudo systemctl restart resolvectl dns 더 많은 예제는 usrsharedocnetplanexamples 에서 확인할 수 있습니다 영구적 적용을 위해서는 etcnetworkinterfaces 파일을 수정해야 합니다","title":"-j DNAT: This is the target of rule. DNAT a form Destination NAT that alters destination IP address packet to route it specified address."},{"href":"/docs/linux/network/Container","content":"TODO Linking basic Network link","title":"DNAT는 패킷의 대상 IP 주소를 변경하여 지정된 주소로 라우팅하는 NAT의 한 형태입니다."},{"href":"/docs/linux/network/Container","content":"Network Namespace","title":"Bridge"},{"href":"/docs/linux/network/Container","content":"네트워크 스택을 격리하는 가상화 기술입니다 ip netns list 명령어를 통해 네임스페이스를 확인할 수 있습니다 OCI 이미지를 빌드할 때 Command 키워드는 컨테이너내에서 첫 번째로 실행할 프로세스를 지정할 예로 docker run -it ubuntu bash 실행하면 프로세스가 실행됩니다 즉 컨테이너 내에서 ps aux PID1 로서 가 하지만 host 에서 PID1가 아닌 다른 프로세스 ID가 출력됩니다 이는 컨테이너가 생성될 컨테이너의 생성하고 네임스페이스 실행하기 때문입니다 호스트 네트워크에서 어떠한 네트워크도 보이지 않습니다 왜냐하면 컨테이너는 네임스페이스는 별도의 이더넷 인터페이스vth를 생성하여 인터페이스 라우팅 테이블 ARP IP 룰 주소 공간 등을 격리하기","title":"Gateway"},{"href":"/docs/linux/network/Container","content":"Veth이더넷 인터페이스","title":"Refer"},{"href":"/docs/linux/network/Container","content":"veth는 쌍으로 만들어지며 네트워크 네임스페이스들을 터널로서 연결하거나 물리 디바이스와 다른 네임스페이스의 장비를 연결하는 용도로 사용할 수 있습니다 생성해 볼까요 bash","title":"Tasks"},{"href":"/docs/linux/network/Container","content":"create veth pair","title":"192.168.0.100:8083 에대한 경로를 분석해라"},{"href":"/docs/linux/network/Container","content":"ip link add veth-red type veth peer name veth-blue","title":"sudo iptables -L\""},{"href":"/docs/linux/network/Container","content":"set veth-red to red namespace","title":"172.17.0.2 ip 를 가진 NIC이 들어오는 tcp 패킷을 허용한다."},{"href":"/docs/linux/network/Container","content":"ip link set veth-red netns red","title":"ip route"},{"href":"/docs/linux/network/Container","content":"set veth-blue to blue namespace","title":"다른 규칙과 일치하지 않는 모든 트래픽에 대한 기본 경로를 지정합니다."},{"href":"/docs/linux/network/Container","content":"ip link set veth-blue netns blue 참고로 veth-red 와 는 같은 물리적 네트워크 인터페이스를 공유합니다 빨간색 네임스페이스에 192168151을 파란색 192168152를 할당 하겠습니다 bash -n red addr add 192168151 dev 192168152","title":"패킷은 게이트웨이 192.168.0.1을 통해 인터페이스 enp2s0f0로 전송됩니다."},{"href":"/docs/linux/network/Container","content":"activate vth","title":"이 경로는 DHCP(동적 호스트 구성 프로토콜)를 통해 학습되었습니다."},{"href":"/docs/linux/network/Container","content":"ip -n red link set veth-red up blue veth-blue 두 네임스페이스가 서로 통신할 수 있습니다 bash","title":"나가는 트래픽의 소스 IP 주소는 192.168.0.100입니다."},{"href":"/docs/linux/network/Container","content":"ping from red to blue","title":"경로의 메트릭(우선 순위)은 100입니다."},{"href":"/docs/linux/network/Container","content":"ip netns exec red ping 192168152","title":"로컬 네트워크(192.168.0.0/24)에 직접 enp2s0f0를 통해 액세스합니다."},{"href":"/docs/linux/network/Container","content":"ping from blue to red","title":"Docker 네트워크(172.17.0.0/16)에 직접 docker0 인터페이스를 통해 액세스합니다."},{"href":"/docs/linux/network/Container","content":"ip netns exec blue ping 192168151","title":"이 경로는 커널(수동으로 추가되지 않음)에 의해 관리됩니다."},{"href":"/docs/linux/network/Container","content":"check arp table of redblue address 192168152","title":"링크 로컬 경로이며, 즉 대상이 동일한 네트워크에 직접 연결되어 있음을 의미합니다."},{"href":"/docs/linux/network/Container","content":"ip netns exec red arp -n","title":"이 네트워크로의 트래픽의 소스 IP 주소는 172.17.0.1입니다."},{"href":"/docs/linux/network/Container","content":"check arp table of bluered address 192168151","title":"ip addr"},{"href":"/docs/linux/network/HostResolution","content":"난 맞춰지지 않는 지식들이 싫다 자신있게 내의견을 말할 수 없다 IP는 무엇이냐 CIDR이 뭐냐 host는 뭐고 이런 기본적인 내용은 알겠다 내가 궁금한 것은 그래서 이제 뭘 할 있는가 무엇이 궁금한가 컴퓨터 A와 B가 있고 노트북과 데스크톱 클라우드 VM이 있을때 시스템 A가 어떻게 B와 연결되죠 1 네트워크 디바이스는 무엇이고 확인하는가 2 ip를 디바이스에 할당하고 세팅하는가 3 할당된 통신하는가 --- 우리는 위 3가지 질문을 바탕으로 정리하고자 한다 가보자","title":"What is Network Device?"},{"href":"/docs/linux/network/HostResolution","content":"What is Network Device","title":"How to check network device?"},{"href":"/docs/linux/network/HostResolution","content":"네트워크와 연결되어 있는 장치를 의미하는 dev는 switch router hub bridge gateway repeater modem network interface cardNIC 등 무엇이든 될 수 있다 또한 물리적일 수도 있고 가상일 물리적인 장치는 공인 IP 주소를 가질 가진 장치에 의해 내부 IP를 가지고 NATNetwork Address Translation을 통해 외부 통신할","title":"How to connect each other?"},{"href":"/docs/linux/network/HostResolution","content":"How to check network device","title":"Ip route"},{"href":"/docs/linux/network/HostResolution","content":"우리는 ip route 명령어를 사용하여 현재 시스템의 라우팅 테이블을 확인할 수 있다 bash","title":"eth0에 IP 주소 A 할당"},{"href":"/docs/linux/network/HostResolution","content":"1921680024 dev enp2s0f0 proto kernel scope link src 1921680103 metric 100","title":"in s1 network"},{"href":"/docs/linux/network/HostResolution","content":"default via 19216801 dev enp2s0f0 proto dhcp src 1921680103 metric 100 1 패킷의 목적지 IP 주소가 1921680024 서브넷에 속하는 경우 라우팅 정보를 사용하여 패킷을 처리합니다 2 이 패킷은 인터페이스를 통해 컴퓨터로부터 전달됩니다 속하지 않는 게이트웨이로 --- - 테이블에 있는 정보의 우선순위를 나타내는 값입니다 두 개 이상의 정보가 동일한 목적지에 대해 존재하는 가장 낮은 메트릭 값을 가진 사용됩니다","title":"use r2 to reach the s1"},{"href":"/docs/linux/network/HostResolution","content":"우리는 이제 네트워크 장치를 확인하고 라우팅 테이블을 확인하는 방법을 알았다 가즈아 1 필자는 환경상 Nic가 2 NICnetwork interface card는 서로 통신하기 위해 IP 주소를 할당받아야 한다 그리고 host s119216810은 테이블에 저장된 정보를 통해 패킷을 전달한다 는 물리 장치 혹은 컴퓨터 한대 정의하기 나름입니다 bash","title":"disallow"},{"href":"/docs/linux/network/HostResolution","content":"eth0에 IP 주소 A 할당","title":"What is Networking and Hostname resolution?"},{"href":"/docs/linux/network/HostResolution","content":"ip addr add 19216811024 dev eth0","title":"Configure static resolution so that naver.com hostname resolves to IP address 8.8.8.8"},{"href":"/docs/linux/network/HostResolution","content":"ip addr add 19216811124 dev eth1","title":"network device"},{"href":"/docs/linux/network/HostResolution","content":"in s1 network","title":"Our system uses dynamic network configuration. Leave it as is, dynamically configured, but add an extra IP to eth1 interface on this"},{"href":"/docs/linux/network/HostResolution","content":"ping 192168111 192168110 우리는 host s119216810 내에서 A B와 통신할 수 있습니다 --- s219216820 network 내에 C192168210D192168211와 통신하기 위해서 어떻게 해야할까요 이때 등장하는 것이 라우터입니다 라우터는 두 네트워크를 연결하는 장치입니다 네트워크와 각각 연결된 인터페이스라우터 인터페이스를 가지고 예시는 r119216811 interface 를 통해 s1과 연결하고 r219216821 s2와 연결하여 연결합니다 좋습니다 그러면 B11124에서 C21024로 패킷을 보내고 싶다면 먼저 그저 네트워크의 경계에 있는 장치네트워크 장비의 일종으로패킷packet 네트워크 전송 데이터의 최소 단위을 다른 보내주는forward 역할을 한다일 뿐입니다 그래서 B는 보내기 위해 라우터에게 전달해야 합니다 다시한번 강조하면 s1s1는 컴퓨터가 될 수도 namespace 가 도 bash","title":"if you needed"},{"href":"/docs/linux/network/HostResolution","content":"use r1 to reach the s2","title":"깨알 상식: ip address add - new protocol address."},{"href":"/docs/linux/network/HostResolution","content":"ip route add 1921682024 via 19216811","title":"check address of dev"},{"href":"/docs/linux/network/HostResolution","content":"use r2 to reach the s1","title":"Get the list of all incoming open ports on this system and store output in /home/bob/incoming.txt file."},{"href":"/docs/linux/network/HostResolution","content":"ip route add 1921681024 via 19216821 네트워크는 내부망이 될 수도 있고 외부망이 있습니다 현재 r1 r2는 내부망입니다 r2를 외부 네트워크와 연결하기 위해 라우팅 테이블을 설정합니다 bash","title":"Add a new DNS resolver 8.8.8.8 on this system."},{"href":"/docs/linux/network/HostResolution","content":"need access to Google at 1722171940 network on the internet","title":"Identify the transient hostname of this system and save value in /home/bob/t-hostname file."},{"href":"/docs/linux/network/HostResolution","content":"ip route add 172217194024 via 19216821 r2에 모든 경로를 등록해야 할까요 아닙니다 default route를 사용하여 내부망 s119216801 을 제외하고 패킷을 r2 라우터가 처리하도록 할 수 있습니다 bash AnyRouterIP","title":"Now, update the static hostname to match transient on this system."},{"href":"/docs/linux/network/HostResolution","content":"ip route add 0000 via AnyRouterIP 참고로 tracerttrace 명령은 목적지까지 거치는 라우터를 추적하는 역할이다 보안을 위해 한 호스트 네트워크에서 두 개의 NIC으로는 전달forward 되지 않습니다 예로 r1private r2public 라우터가 있을 때 r2로 오는 패킷을 r1에 임의로 전달되서는 안됩니다 만약 관리자가 이를 잘 인지한다면 수동으로 설정할 수 있습니다 bash sudo vi procsysnetipv4ip_forward","title":"routing table example"},{"href":"/docs/linux/network/HostResolution","content":"allow forwarding","title":"ip route"},{"href":"/docs/linux/network/HostResolution","content":"What is Networking and Hostname resolution","title":"proto 커널 범위 링크는 이 경로가 커널에 의해 자동으로 생성되었음을 나타냅니다."},{"href":"/docs/linux/network/HostResolution","content":"hostname resolution 은 IP 주소를 호스트 이름으로 변환하거나 이름을 주소로 변환하는 것을 의미합니다","title":"src 172.25.0.47 부분은 이 네트워크의 Gateway ip 가 172.25.0.47임을 나타냅니다."},{"href":"/docs/linux/network/HostResolution","content":"Configure static resolution so that navercom  hostname resolves to IP address 8888","title":"192.168.0.1 로 가는 모든 패킷은 enp2s0f0 인터페이스를 통해 172.25.0.0/24 가라"},{"href":"/docs/linux/network/HostResolution","content":"bash echo 8888 navercom sudo tee -a etchosts 위 코드는 을 resolve 하기 위해서 의 nameserver 를 사용하도록 설정한다 - DNS 서버를 우회하여 IP 주소를 찾을 수 있게 해준다 에 위치한다 우선순위가 가장 높다 즉 hosts 파일에 등록된 내용이 서버에 내용보다 먼저 참조된다 특정 도메인을 주소로 연결할 있다 이후 dig 명령어를 사용하여 확인한다 nslookup Server 168126631 Address","title":"192.168.0.1 로 가는 모든 패킷은 enp2s0f0 인터페이스를 통해 192.168.0.0/24 가라"},{"href":"/docs/linux/network/HostResolution","content":"Non-authoritative answer Name navercom Address 22313019595 223130200104 223130195200 223130200107 위 명령어를 통해 의 ip 주소를 확인할 수 있다 하지만 뭔가 이상하다 nameserver 를 168126631 로 8888 과 다른주소로 설정되어 resolvconf 파일을 확인해보자 bash cat etcresolvconf 168126632 파일은 도메인쿼리에 사용될 정보를 가지고 그외 각 OS 별 도메인 쿼리에 사용되는 여러가지가 있으니 참고하자 Mac dns-sd1 scutil8 만약 사용하고 싶다면 아래와 같이 설정한다 nslookup --- 사용자의 입장에서 필요한 서비스에 접근하기 위해 domain resolution 은 필수적이다 시스템 관리자의 제한된 리소스로 사용자에게 최적의 서비스를 제공하기 위해서는 DNS 뿐만 아니라 다양한 네트워크 설정이 필요하다","title":"via: 을 통해~"},{"href":"/docs/linux/network/HostResolution","content":"network device","title":"route"},{"href":"/docs/linux/network/HostResolution","content":"네트워크 장치는 네트워크와 연결되어 있는 장치를 의미한다 - ip link 명령어를 사용하여 확인할 수 있다","title":"목적지, 게이트웨이, 서브넷마스크"},{"href":"/docs/linux/network/HostResolution","content":"Our system uses dynamic network configuration Leave it as is dynamically configured but add an extra IP to eth1 interface on this","title":"Conclusion"},{"href":"/docs/linux/network/NTP","content":"NTPNetwork Time Protocol","title":"NTP(Network Time Protocol)?"},{"href":"/docs/linux/network/NTP","content":"NTPNetwork Time Protocol는 네트워크를 통해 시간을 동기화하는 프로토콜이며 여러 서버의 동기화하는데 사용됩니다 즉 네트워크 장치의 시계를 서버 클러스터입니다 NTP는 수억 대의 컴퓨터와 장치에서 인터넷을 데 linux networkdoclinuxnetwork 에서 다뤘던 timedatectl 명령어와 systemd-timesyncd 서비스를 사용하여 시스템 동기화할 수 있습니다","title":"timedatectl"},{"href":"/docs/linux/network/NTP","content":"timedatectl","title":"Sysnopis"},{"href":"/docs/linux/network/NTP","content":"timedatectl may be used to query and change the system clock its settings enable or disable time synchronization services 명령어는 시스템 시간과 날짜를 설정하고 확인하는데 사용되는 명령어입니다","title":"COMMAND"},{"href":"/docs/linux/network/NTP","content":"bash timedatectl OPTIONS COMMAND","title":"systemd-timesyncd.service active: yes"},{"href":"/docs/linux/network/NTP","content":"- status show Show current settings of the system clock and RTC set-time TIME 시스템 시간을 설정합니다 The time may be specified in format 2012-10-30 181716 set-timezone ZONE 시스템의 타임존을 bash timedatectl list-timezones grep -i Asia sudo AsiaSeoul set-local-rtc BOOL RTC를 로컬 시간으로 set-ntp true1 이면 etcsystemdtimesyncdconf 파일에 설정된 NTP 서버를 사용하여 동기화합니다 즉 systemd-timesyncd 서비스를 자 먼저 필요한 패키지를 설치해보겠습니다 apt update install systemctl enable start true","title":"edit"},{"href":"/docs/linux/network/NTP","content":"System clock synchronized yes","title":"sudo vi /etc/systemd/timesyncd.conf"},{"href":"/docs/linux/network/NTP","content":"systemd-timesyncdservice active yes","title":"Server:"},{"href":"/docs/linux/network/NTP","content":"동기화 되는 로그시간을 확인해 보죠 bash sudo journalctl -u systemd-timesyncd","title":"Poll interval: 32min 28s (min: 32s; max 34min 8s)"},{"href":"/docs/linux/network/NTP","content":"systemctl status systemd-timesyncdservice","title":"Leap: normal"},{"href":"/docs/linux/network/NTP","content":"음 잘되네염 여느 데몬을 수정하듯 이것도 수정할 수 있습니다 npt 서버 추가 fallback poll interval 변경 등등 bash timedatectl timesync-status","title":"Last attempt: 2024-01-17 17:42:37 UTC (UTC)"},{"href":"/docs/linux/network/NTP","content":"sudo vi etcsystemdtimesyncdconf","title":"Universal time: Wed 2024-01-17 17:42:37 UTC"},{"href":"/docs/linux/network/NTP","content":"sudo systemctl restart systemd-timesyncd","title":"Time zone: Etc/UTC (UTC, +0000)"},{"href":"/docs/linux/network/NTP","content":"만약 아래의 요구사항이 주어졌다 가정해보겠습니다 Time synchronisation configuration needs to be updated 1 Set 0poolntporg and 1poolntporg as main NTP servers 2 ntpubuntucom 0debianpoolntporg fallback 3 The maximum poll interval should 1000 seconds the connection retry 20 Info Use man timesyncdconf for help conf 파일의 구성은 다음과 같습니다 - server host name or IP address 리스트 형태로 response를 받을때까지 순차적으로 시도합니다 FallbackNTP 설정하지 않으면 timesyncd는 주요 서버에 연결할 수 없는 경우 시스템 시간을 동기화하지 않습니다 서버만큼 안정적이지 않을 있습니다 여러 개의 서버를 설정하는 것이 좋습니다 RootDistanceMaxSec 최대 시간 오차를 설정합니다 default 5s PollIntervalMinSec PollIntervalMaxSec 동기화 요청을 보내는 최소 간격을 옵션입니다 Min 값이 낮을경우 빠르게 동기화가 되지만 부하를 줄 Max 높을경우 느리게 ConnectionRetrySec 연결을 잃었을 때 다시 시도하는 SaveIntervalSec 저장하는 1min --- 문제 법대로해 우린 아니죠 대로 해 맞습니다 네 시험준비하며 돌아버린것 이번 20240225 기준 다음주 시험입니다 홧팅 수정하기 전 현재 상황을 확인해보겠습니다 bash timedatectl timesync-status","title":"System clock synchronized: yes"},{"href":"/docs/linux/network/NTP","content":"Poll interval 32min 28s min 32s max 34min 8s","title":"[insert]"},{"href":"/docs/linux/network","content":"Linux Networking","title":"Linux Networking"},{"href":"/docs/linux/network","content":"Introduction","title":"Setup"},{"href":"/docs/linux/network","content":"서버 세팅 과정에서 고려되어야 할 네트워크 관련 주요 요소는 다음과 같습니다 - IP 주소 서브넷 마스크 게이트웨이 DNS 인증서 방화벽 장치 Time zone 먼저 time zone을 확인 해보겠습니다 가장 간단한 방법은 date 명령어를 사용하는 것입니다 bash","title":"Utilities"},{"href":"/docs/linux/network","content":"UTC 직접 timezone 설정을 하려면 timedatectl 명령어를 사용합니다 bash sudo result is Local time Wed 2024-01-17 174237 Universal RTC Time zone EtcUTC 0000 System clock synchronized yes systemd-timesyncdservice active in local TZ no 음 한국 시간이 아닌 것 같습니다 어떤 시간대가 있는지 확인해보겠습니다 list-timezones grep -i Asia AsiaSeoul 이 있네요 이걸로 바꿔보겠습니다 by a slash character then the name of city usually capital country or state 도쿄나베이징 처럼 도시 이름을 주로 사용하는 듯 보입니다 set-timezone 다시 Thu 2024-01-18 024947 KST - ㄹㅇ 시간 174947 0900 이제 되었습니다","title":"-t: tcp"},{"href":"/docs/linux/network","content":"-l listening","title":"127.0.0.1과 0.0.0.0은 서로 다른 의미를 갖습니다."},{"href":"/docs/linux/network","content":"sudo ss -ltunp","title":"Bond - 실습"},{"href":"/docs/linux/network","content":"sudo netstat -ltunp grep LISTEN 결과는 다음과 같습니다 bash Netid State Recv-Q Send-Q Local AddressPort Peer Process tcp 0 128 000022 0000 userssshdpid3360607fd3 4096 10250 userskubeletpid151362fd31 511 80 usersnginxpid2206347fd7nginxpid2206345fd7nginxpid2181934fd7 process 정보를 보기 위해서는 root 권한이 필요합니다 컬럼을 보면 sshd kubelet nginx가 각각 22 포트를 사용하고 있음을 알 수 있습니다 daemon service 들의 상태들을 확인해 보세요 systemctl status nginx 또한 프로세스pid 를 확인해보세요 ps -ef","title":"/usr/share/doc/netplan/examples/bonding.yaml"},{"href":"/docs/linux/network/ufw","content":"Packet Filter","title":"Packet Filter"},{"href":"/docs/linux/network/ufw","content":"항상 방화벽 설정 전에는 ssh 연결조차 끊길 수 있다 대비를 마련하자 ufw의 한계를 극복하기 위해 iptables를 사용한다 하지만 확장된 기능을 제공하는 ufw-framework 를 통해 사용성을 최대화 시킬 sh man bash sudo ufw status","title":"Status: inactive"},{"href":"/docs/linux/network/ufw","content":"Status inactive","title":"Firewall is active and enabled on system startup"},{"href":"/docs/linux/network/ufw","content":"inactive 상태이면 아래 명령어로 활성화 시킨다 bash sudo ufw enable","title":"Allow Permanent TCP incoming connections to port 7869"},{"href":"/docs/linux/network/ufw","content":"Firewall is active and enabled on system startup","title":"Add a permanent firewall rule to allow the https service."},{"href":"/docs/linux/network/ufw","content":"Allow Permanent TCP incoming connections to port 7869","title":"not permanent"},{"href":"/docs/linux/network/ufw","content":"bash sudo ufw deny 7869tcp status or for centos firewall-cmd --add-port7869tcp --permanent --reload","title":"to make all permanent"},{"href":"/docs/linux/network/ufw","content":"Add a permanent firewall rule to allow the https service","title":"(10.11.12.0 ~ 10.11.12.255(예: 10.11.12.0/24))의 모든 IP에서 들어오는 트래픽을 허용하고 신뢰할 수 있는 영역에 필요한 규칙을 추가하며 규칙은 영구적이어야 합니다."},{"href":"/docs/linux/network/ufw","content":"bash sudo ufw allow https or for centos firewall-cmd --add-servicehttps --permanent","title":"sudo ufw allow from"},{"href":"/docs/linux/operations-deployment/DNS","content":"You dont get what you wish for work Domain Name SystemDNS은 인터넷에서 사람이 읽을 수 있는 도메인 이름을 컴퓨터가 IP 주소로 변환하는 분산형 데이터베이스 시스템입니다 인터넷에 연결된 모든 컴퓨터에는 고유한 주소가 있습니다 주소는 숫자의 집합으로 이루어져 있으며 기억하기 어렵습니다 따라서 인터넷을 사용하기 쉽게 하기 위해 이름이 사용됩니다 이름은 이해하기 쉬운 문자열로 주소에 매핑됩니다 예를 들어 googlecom은 142250190142이라는 사용자가 googlecom을 입력하면 DNS 시스템은 이를 142250190142으로 변환하여 해당 연결합니다","title":"DNS는 다음과 같은 단계로 작동합니다."},{"href":"/docs/linux/operations-deployment/DNS","content":"DNS는 다음과 같은 단계로 작동합니다","title":"DNS는 다음과 같은 기능을 제공합니다."},{"href":"/docs/linux/operations-deployment/DNS","content":"1 사용자는 브라우저에 도메인 이름을 입력합니다 2 브라우저는 DNS 서버에 이름에 대한 정보를 요청합니다 3 서버는 검색합니다 4 해당하는 IP 주소를 사용자에게 반환합니다 5 사용하여 해당 컴퓨터에 연결합니다 DNS는 인터넷에서 매우 중요한 역할을 합니다 DNS가 없다면 입력해야 하기 때문에 인터넷을 사용하기 어려울 것입니다","title":"DNS Zone?"},{"href":"/docs/linux/operations-deployment/DNS","content":"DNS는 다음과 같은 기능을 제공합니다","title":"DNS zone의 목적."},{"href":"/docs/linux/operations-deployment/DNS","content":"도메인 이름과 IP 주소의 매핑 웹사이트에 대한 접근 이메일 전송 네트워크 서비스 검색 DNS는 분산형 데이터베이스 시스템입니다 즉 DNS 서버는 전 세계에 분산되어 있으며 각 특정 이름에 정보를 저장합니다 이렇게 하면 서버의 부하를 분산하고 단일 장애에 대비할 수 있습니다 인터넷의 필수 요소이며 효율적이고 안정적인 운영에 기여하고","title":"Zone 파일"},{"href":"/docs/linux/operations-deployment/DNS","content":"DNS zone은 도메인 이름 시스템에서 특정 조직이나 관리자가 관리하는 네임스페이스의 부분입니다 신뢰할 수 있는 서버와 같은 구성 요소를 보다 세밀하게 제어할 관리 공간입니다 예로 googlecom 다음과 두 가지 유형으로 나눌 있습니다 기본 zone 이름의 최상위 수준을 나타냅니다 예를 들어 examplecom은 zone입니다 하위 zone에 속하는 수준 도메인을 wwwexamplecom은 examplecom의 서버에 저장된 텍스트 파일인 파일로 구성됩니다 파일에는 해당 zone의 IP 주소 서버의 등과 정보가 포함되어","title":"Configuration"},{"href":"/docs/linux/operations-deployment/DNS","content":"DNS zone의 목적","title":"DNS Zone 파일의 구조"},{"href":"/docs/linux/operations-deployment/DNS","content":"도메인 이름과 IP 주소의 매핑 DNS zone은 정보를 저장합니다 이를 통해 사용자는 이름을 입력하여 해당 주소에 연결할 수 있습니다 이름의 관리 관리를 단순화합니다 zone 관리자는 파일을 주소 서버의 이름 등과 같은 변경할 부하 분산 부하를 분산하는 데 도움이 됩니다 zone을 여러 서버에 분산하여 각 적절한 저장할 인터넷에서 매우 중요한 역할을 합니다 매핑을 효율적으로 관리하고 분산할","title":"This line specifies the working directory for server."},{"href":"/docs/linux/operations-deployment/DNS","content":"Zone 파일은 각 Zone의 정보와 내의 Record 정보들을 기술한 텍스트 파일이다 이 DNS 서버에 존재하며 설정 파일 및 정보를 제공하는 데이터베이스와 같은 역할을 한다 DNS의 마스터 - 슬레이브 시 슬레이브가 복제replication을 위해 마스터에서 주기적으로 업데이트 여부를 확인하고 업데이트가 있다면 가져오는 정보이기도 하다 자체적으로 DNS를 운영하는 경우 varnameduserdomainnamecomzone 와 경로에서 얻을 수 있다 도메인 Registrar를 통해 관리하는 고객이라면 해당 서비스가 export 기능으로 쉽게 결국 Zone에 대해 SOAStart of Authority 레코드와 zone에 포함된 서브 도메인들의 Resource 레코드 값을 정의한 자세한 정보는 RFC 1035httpstoolsietforghtmlrfc1035 참고할 것 출처 DNSDomain Name System Zone을 이해하자작성자 테크유람","title":"This line specifies that only the localhost can query this DNS server."},{"href":"/docs/linux/operations-deployment/DNS","content":"named는 DNS 서버의 데몬 프로세스로 BINDBerkeley Internet Name Domain 프로젝트의 일부입니다 BIND 프로젝트는 서버를 구축하는 데 사용되는 가장 널리 오픈 소스 소프트웨어입니다","title":"/* Path to ISC DLV key */"},{"href":"/docs/linux/operations-deployment/DNS","content":"Configuration","title":"This line specifies the file containing keys for DNSSEC lookaside validation."},{"href":"/docs/linux/operations-deployment/DNS","content":"- named는 etcnamedconf 파일을 사용하여 구성됩니다 기본적으로 varnamed 디렉토리에 있는 zone 도메인 이름에 대한 정보를 저장합니다 varrunnamednamedpid 기본 PID 파일","title":"channel logs to the file data/named.run with a dynamic severity level."},{"href":"/docs/linux/operations-deployment/DNS","content":"DNS Zone 파일의 구조","title":". The type is set to hint, which means this a hints file that lists the root servers. named.ca contains these hints."},{"href":"/docs/linux/operations-deployment/DNS","content":"Zone 파일은 DNS Zone에 대한 SOAStart of Authority 레코드와 해당 zone에 포함된 서브 도메인들의 Resource 레코드 값을 정의한 텍스트 파일이다 자 어떻게 구성할 수 있을까 가장 먼저 etcnamedconf 파일을 열어보자 다음과 같은 구조를 가진다 bash options","title":"\"example.com\" 도메인에 대한 DNS zone의 설정"},{"href":"/docs/linux/operations-deployment/DNS","content":"This line specifies the working directory for server","title":"이 DNS 서버가 \"example.com\" 도메인에 대한 마스터 서버임을 지정합니다. 서버는 정보의 주요 출처이며, 도메인의 레코드 변경을 관리합니다."},{"href":"/docs/linux/operations-deployment/DNS","content":"directory varnamed","title":"도메인에 대한 DNS 레코드를 포함하는 파일을 지정합니다."},{"href":"/docs/linux/operations-deployment/DNS","content":"These lines specify various files used for dumping the servers cache logging statistics etc","title":"DNS 레코드에 대한 변경이 \"example.com.zone\" 파일을 수동으로 편집함으로써만 이루어질 수 있음을 의미합니다."},{"href":"/docs/linux/operations-deployment/DNS","content":"dump-file varnameddatacache_dumpdb statistics-file varnameddatanamed_statstxt memstatistics-file varnameddatanamed_mem_statstxt recursing-file varnameddatanamedrecursing secroots-file varnameddatanamedsecroots","title":"TTL(Time To Live)은 DNS Resource Record의 캐시 유지 시간을 의미한다. 즉, 해당 설정한다. TTL은 초 단위로 설정하며, 86400은 1일을"},{"href":"/docs/linux/operations-deployment/DNS","content":"This line specifies that only the localhost can query this DNS server","title":"1D or 1d 1H 1h 1M 1m 1S 1s"},{"href":"/docs/linux/operations-deployment/DNS","content":"allow-query localhost recursion yes","title":"name server, hey u can find dns data for example"},{"href":"/docs/linux/operations-deployment/DNS","content":"These lines enable DNSSEC Domain Name System Security Extensions which adds security to the DNS protocol by enabling responses be validated","title":"일반적으로 다음과 같은 경우에도 작동하는지 확인하기 위해 두 개의 이름 서버가 사용됩니다.(omit IN)"},{"href":"/docs/linux/operations-deployment/DNS","content":"dnssec-enable yes dnssec-validation dnssec-lookaside auto","title":"ns1.example.com 도메인의 IP 주소"},{"href":"/docs/linux/operations-deployment/DNS","content":"Path to ISC DLV key","title":"example.com 에 접속했을때 203.0.113.15 의 내 어플리케이션에 접속시키기 위한 정보"},{"href":"/docs/linux/operations-deployment/DNS","content":"This line specifies the file containing keys for DNSSEC lookaside validation","title":"다른 서버에 이메일을 어디로 보내야 하는지 알려줍니다."},{"href":"/docs/linux/operations-deployment/DNS","content":"bindkeys-file etcnamediscdlvkey managed-keys-directory varnameddynamic","title":"mail exchanger record, tells other servers where they should send their emails."},{"href":"/docs/linux/operations-deployment/DNS","content":"channel logs to the file datanamedrun with a dynamic severity level","title":"main server 에 대한 IP 주소, 4개의 4바이트 블록으로 구성된 32비트의 주소체계"},{"href":"/docs/linux/operations-deployment/DNS","content":"logging channel default_debug file datanamedrun severity dynamic","title":"ipv6 4개의 16진수 블록으로 구성된 128비트의 주소체계"},{"href":"/docs/linux/operations-deployment/DNS","content":"The type is set to hint which means this a hints file that lists the root servers namedca contains these","title":"안에는 어떤 종류의 텍스트라도 들어있습니다."},{"href":"/docs/linux/operations-deployment/DNS","content":"zone IN type hint file namedca","title":"txt record, can contain any kind of text"},{"href":"/docs/linux/operations-deployment/DNS","content":"examplecom 도메인에 대한 DNS zone의 설정","title":"AAAA ::1"},{"href":"/docs/linux/operations-deployment/DNS","content":"zone examplecom IN","title":"53(127.0.0.53)"},{"href":"/docs/linux/operations-deployment/DNS","content":"이 DNS 서버가 examplecom 도메인에 대한 마스터 서버임을 지정합니다 서버는 정보의 주요 출처이며 도메인의 레코드 변경을 관리합니다","title":"Practice"},{"href":"/docs/linux/operations-deployment/DNS","content":"type master","title":"Which is the configuration file of our Bind DNS server?"},{"href":"/docs/linux/operations-deployment/DNS","content":"도메인에 대한 DNS 레코드를 포함하는 파일을 지정합니다","title":"Where does bind DNS server store all zone files on a RedHat based linux machine?"},{"href":"/docs/linux/operations-deployment/DNS","content":"file examplecomzone","title":"What is the default port number of DNS server?"},{"href":"/docs/linux/operations-deployment/DNS","content":"DNS 레코드에 대한 변경이 examplecomzone 파일을 수동으로 편집함으로써만 이루어질 수 있음을 의미합니다","title":"Install bind DNS server on this system."},{"href":"/docs/linux/operations-deployment/DNS","content":"allow-update none include etcnamedrfc1912zones etcnamedrootkey 처음 파일을 작성할 때 국룰은 템플릿 찾아 가져오는 것이다 데몬 서비스가 실행 할 수 있도록 권한 그대로 복사해오자 bash sudo ls varnamed cp --preserveownership varnamednamedlocalhost varnamedexamplecomzone cat localhost Zone 파일은 다음과 같은 구조를 가진다 sh","title":"Configure the Bind daemon to accept queries from **any IP** on Internet."},{"href":"/docs/linux/operations-deployment/DNS","content":"TTLTime To Live은 DNS Resource Record의 캐시 유지 시간을 의미한다 즉 해당 설정한다 TTL은 초 단위로 설정하며 86400은 1일을","title":"check keyword"},{"href":"/docs/linux/operations-deployment/DNS","content":"1D or 1d 1H 1h 1M 1m 1S 1s","title":"반드시 서브넷 형태로 넣어야한다;; 오바임"},{"href":"/docs/linux/operations-deployment/DNS","content":"TTL 86400 IN SOA administratorexamplecom 2019010101 Serial시리얼 번호 - zone 파일이 변경 될때마다 증가시켜야 한다 10자리 이하의 숫자로 표현한다 3600 Refresh캐시된 파일을 다시 읽어들이는 주기 초 단위 마스터 체크 1800 Retry 서버와의 연결이 끊겼을 때 서버에 재연결을 시도하는 604800 Expire 7일 Zone 만료되었다고 판단하는 시간 Minimum 캐시된 파일의 최소 유지","title":"Query the local DNS server and identify current `A` record value for `example.com` domain."},{"href":"/docs/linux/operations-deployment/DNS","content":"name server hey u can find dns data for example","title":"You might have noticed that in the previous question, A record value for `example.com` domain is different what we `/var/named/example.com.zone` DNS zone file. Which means, this file isn't use yet or server hasn't read it yet."},{"href":"/docs/linux/operations-deployment/DNS","content":"IN NS ns1examplecom","title":"check correctly applied"},{"href":"/docs/linux/operations-deployment/DNS","content":"일반적으로 다음과 같은 경우에도 작동하는지 확인하기 위해 두 개의 이름 서버가 사용됩니다omit IN","title":"insert"},{"href":"/docs/linux/operations-deployment/DNS","content":"NS ns2examplecom","title":"Modify `/var/named/example.com.zone` and add a new entry so that this subdomain `database.example.com` has IP address: `1.2.3.4`"},{"href":"/docs/linux/operations-deployment/DNS","content":"ns1examplecom 도메인의 IP 주소","title":"Modify `/var/named/example.com.zone` and make `mysql.example.com` an alias for `database.example.com` by adding the proper CNAME entry."},{"href":"/docs/linux/operations-deployment/DNS","content":"ns1 IN A 1011129 ns2 10111210","title":"By default the bind server also fetches DNS data from other servers on Internet, when it does not have available in its own cache. But somehow our is able to query `kodekloud.com` domain data."},{"href":"/docs/linux/operations-deployment/DNS","content":"examplecom 에 접속했을때 203011315 의 내 어플리케이션에 접속시키기 위한 정보","title":"not found"},{"href":"/docs/linux/operations-deployment/DNS","content":"A 203011315","title":"founded from /etc/resolv.conf"},{"href":"/docs/linux/operations-deployment/DNS","content":"wwwexamplecom 으로 접근 했을때 리다이렉션 시키기 위한 정보","title":"insert"},{"href":"/docs/linux/operations-deployment/DNS","content":"www CNAME 203011315","title":"Using `dig` utility retrieve all record types (including MX, TXT etc) associated with our `example.com` domain and save the output in `/home/bob/records` file."},{"href":"/docs/linux/operations-deployment/DNS","content":"다른 서버에 이메일을 어디로 보내야 하는지 알려줍니다","title":"Change the TTL for `example.com` domain to tell other DNS servers that, they may query our zone cache this data 2 hours."},{"href":"/docs/linux/operations-deployment/KVM","content":"Kernel-based Virtual Machine KVM은 리눅스 커널에서 하드웨어 가상화를 지원하는 모듈이다 QEMU를 이용하여 수행한다 QEMU는 CPU 에뮬레이션을 가상화 소프트웨어이다 수행하며 KVM 모듈을","title":"Setup"},{"href":"/docs/linux/operations-deployment/KVM","content":"사용될 패키지를 설치한다 bash","title":"$ sudo systemctl start libvirtd"},{"href":"/docs/linux/operations-deployment/KVM","content":"sudo dnf install qemu-kvm libvirt","title":"off"},{"href":"/docs/linux/operations-deployment/KVM","content":"sudo systemctl start libvirtd","title":"get info"},{"href":"/docs/linux/operations-deployment/KVM","content":"sudo systemctl enable libvirtd","title":"set maximum vcpus not assigned real cpu"},{"href":"/docs/linux/operations-deployment/KVM","content":"관리할 가상 머신을 명세하는 XML 파일을 생성한다 bash vi testmachinexml xml -- domain basically refer to a vm typeqemu nameTestMachinename memory unitKiB1048576memory 1GB unitGiB1memory vcpu placementstatic2vcpu os This element describes the type of VM The arch attribute specifies architecture VMs CPU 하드웨어 의미합니다 archx86_64 machinepc-i440fx-212hvmtype will try boot from hard drive first devhd devices disk typefile devicedisk driver nameqemu typeqcow2 source filevarliblibvirtimagestestmachineqcow2 target devvda busvirtio interface typenetwork networkdefault 이제 virsh은 가상화 관리를 위한 명령어를 제공하는 프로그램으로 libvirt 패키지에 포함되어 있다 sudo virsh define","title":"여기서 --config 는 maximum을 자동으로 적용하도록 설정한다."},{"href":"/docs/linux/operations-deployment/KVM","content":"sudo virsh define --disable TestMachine","title":"not active yet"},{"href":"/docs/linux/operations-deployment/KVM","content":"sudo virsh dominfo TestMachine Id - Name UUID 01e3 OS Type hvm State shut off CPUs 1 Max memory 1048576 KiB Used Persistent yes Autostart disable Managed save no Security model selinux DOI 0 2CPU로 변경한다 bash help setvcpus Change the number of virtual 2","title":"shutdown (graceful)"},{"href":"/docs/linux/operations-deployment/KVM","content":"error invalid argurments 에러가 발생max allowable vcpus for the  persistent domain is 1","title":"force shutdown (unplugging power cord in other words not graceful shutdown)"},{"href":"/docs/linux/operations-deployment/KVM","content":"set maximum vcpus not assigned real cpu","title":"virt-manager"},{"href":"/docs/linux/operations-deployment/KVM","content":"sudo virsh setvcpus TestMachine 2 --config --maximum","title":"About virt-manager’s supporting tools"},{"href":"/docs/linux/operations-deployment/KVM","content":"여기서 --config 는 maximum을 자동으로 적용하도록 설정한다","title":"setup"},{"href":"/docs/linux/operations-deployment/KVM","content":"sudo virsh setvcpus TestMachine 2 --config","title":"install"},{"href":"/docs/linux/operations-deployment/KVM","content":"set maximum memory","title":"download ubuntu img"},{"href":"/docs/linux/operations-deployment/KVM","content":"sudo virsh setmaxmem TestMachine 2G --config 가상 머신을 시작한다 bash","title":"print img info"},{"href":"/docs/linux/operations-deployment/KVM","content":"not active yet","title":"copy img to libvirt"},{"href":"/docs/linux/operations-deployment/KVM","content":"sudo virsh list --all Id Name State --------------------------- 1 TestMachine shut off start running 서버가 리부팅을 하면 가상 머신이 자동으로 시작되도록 설정한다 bash autostart 리부팅등 종료 명령어를 VM에 전달한다","title":"Practice"},{"href":"/docs/linux/operations-deployment/KVM","content":"sudo virsh reboot TestMachine Domain is being rebooted","title":"Edit the mariadb-server.cnf config file to enable remote access your MariaDB server."},{"href":"/docs/linux/operations-deployment/KVM","content":"shutdown graceful","title":"pipe to exclude include docker"},{"href":"/docs/linux/operations-deployment/KVM","content":"sudo virsh shutdown TestMachine Domain is being","title":"change the password for MariaDB root user to `Secu43@123`"},{"href":"/docs/linux/operations-deployment/KVM","content":"force shutdown unplugging power cord in other words not graceful","title":"Change the MariaDB server port to 3308"},{"href":"/docs/linux/operations-deployment/KVM","content":"sudo virsh reset TestMachine Domain is being","title":"check before port is 3306"},{"href":"/docs/linux/operations-deployment/KVM","content":"hard power off not graceful","title":"We have a configuration file /opt/testmachine2.xml on this system."},{"href":"/docs/linux/operations-deployment/KVM","content":"sudo virsh destroy TestMachine Domain destroyed 위 명령어는 list --all 을 통해 shutdown 상태를 확인 할 수 있다 완전히 종료된 가상 머신을 삭제한다 bash undefine 해당 명령은 우리가 정의한 컴퓨터만 삭제하지만 저장된 데이터는 삭제하지 않습니다연결된 디스크가 있는 경우 이번에는 모든 것을 제거하고 전체 머신 데이터를 폐기한다고 가정해 보겠습니다 help --remove-all-storage --- 우린 지금까지 KVM을 이용하여 생성하고 관리하는 최소한의 방법을 알아보았다 좀더 흥미롭고 실무적인 내용을 알아보자","title":"we want VM2 virtual machine to start up automatically at boot."},{"href":"/docs/linux/operations-deployment/KVM","content":"virt-manager","title":"Change the memory size for `VM2`, set its value to `80M`"},{"href":"/docs/linux/operations-deployment/KVM","content":"virt-manager는 GUI를 이용하여 가상 머신을 관리libvirt할 수 있는 프로그램이다 주로 KVM VM을 대상으로 하지만 Xen 및 LXCLinux 컨테이너도 관리합니다","title":"References"},{"href":"/docs/linux/operations-deployment/SELinuxAppArmor","content":"SELinuxAppArmor","title":"SELinux/AppArmor"},{"href":"/docs/linux/operations-deployment/SELinuxAppArmor","content":"우리는 리눅스에는 파일과 디렉터리에 대한 제어 즉 콘텐츠를 읽고 쓰고 실행할 수 있는 사용자를 결정할 권한이 있습니다 또한 일반 사용자는 루트 사용자가 할 특정 작업을 수행할 없습니다 그러나 이러한 형태의 보안은 오늘날의 정교한 사이버 공격에는 충분하지 않습니다 예를 들어 웹 서버와 같은 프로그램을 실행하는 권한을 가지고 해커가 서버를 통해 폴더로 이동한다고 가정해 보겠습니다 그녀는 이제 해당 폴더에 대해 프로세스가 가졌던 것과 동일한 가지며 이 취약성을 이용하여 시스템에 공격을 다행히도 리눅스 커널은 소위 모듈로 쉽게 확장할 있고 접근을 제한하는 매우 고급 기능을 추가한 SELinux라는 보안 모듈이 SELinux는 CentOS Stream에서 기본적으로 활성화되어 허용 또는 거부해야 하는 작업에 세분화 된 제어를 하지만 어떻게 결정을 내릴 있을까요 ls -l 와 출력은 문자열을 파일에 설정되어 있는지 알 SELinux에서도 위와 -Z 명령어로 확인할 그리고 SELinux 컨텍스트 레이블이라고 합니다 bash varwwwhtml","title":"user role type level"},{"href":"/docs/linux/operations-deployment/SELinuxAppArmor","content":"drwxr-xr-x root system_uobject_rhttpd_sys_content_ts0 html unconfined_uobject_rdefault_ts0 html2 unconfined_uobject_ruser_homes0 html3 이러한 컨텍스트는 파일 및 디렉터리 사용 권한과 비슷하지만 훨씬 더 복잡합니다 - user system_u SELinux 사용자 unconfined_u 제한되지 않은 role object_r 파일에 대한 역할 unconfined_r type httpd_sys_content_t 웹 서버가 읽고 실행할 수 있는 default_t 기본 user_home 홈 level s0 레벨 account사용자 process가 생성되면 SELinux는 account에 사전 정의된 목록을 준비합니다 그리고 매번 account가 실행될 때마다 account의 role에 정책을 검사합니다 정책은 컨텍스트 레이블에 저장되어 있습니다","title":"시나리오1"},{"href":"/docs/linux/operations-deployment/SELinuxAppArmor","content":"developer user 는 도커와 nginx를 실행할 수 있어야 하지만 시스템 설정을 변경할 수는 없습니다 guest 도 nginx프로세스를 제어할 없어야 합니다","title":"login Manage mappings between linux users and SELinux confined"},{"href":"/docs/linux/operations-deployment/SELinuxAppArmor","content":"예를 들면 제인은 고위 군 장교이고 높은 레벨을 가질 것이고 레벨 4는 극비 파일로 0에서 4까지 분류된 문서를 읽을 수 있을 것입니다 반면에 1 접근 권한을 가진 사용자는 1과 0에서만 접근할 있습니다 --- 즉 해커가 웹 사이트 방문자에게 리소스를 제공하는 아파치 프로그램을 제어한다고 상상해 보세요 그들은 여전히 SELinux 도메인에 제한되어 있으므로 이러한 경계에서 벗어날 없습니다 사실상 가상 감옥에 있으며 따라서 그들이 할 있는 피해는 크게 줄어듭니다","title":"excute"},{"href":"/docs/linux/operations-deployment/SELinuxAppArmor","content":"현재 프로세스에 대한 SELinux 컨텍스트 레이블을 확인하려면 아래 명령어를 입력합니다 bash","title":"Practice"},{"href":"/docs/linux/operations-deployment/SELinuxAppArmor","content":"Z 컨텍스트 레이블을 확인","title":"`SELinux`를 `Permissive`로 변경하고, `Enforcing`으로 변경합니다."},{"href":"/docs/linux/operations-deployment/SELinuxAppArmor","content":"ps -auxZ 그리고 자신의 컨텍스트 레이블을 확인하려면 아래 명령어를 입력합니다 bash id -Z semanage - SELinux Policy Management tool은 정책을 관리하는데 사용됩니다","title":"Temporarily"},{"href":"/docs/linux/operations-deployment/SELinuxAppArmor","content":"login Manage mappings between linux users and SELinux confined","title":"Permanently"},{"href":"/docs/linux/operations-deployment/SELinuxAppArmor","content":"sudo semanage login -l","title":"Find the SELinux labels of `sshd` process running on this system, save its value in` /home/bob/sshd` file."},{"href":"/docs/linux/operations-deployment/SELinuxAppArmor","content":"user Manage SELinux confined갇힌 users Roles and levels for an","title":"Check out the `SELinux label` for file stored at `/bin/sudo`. Ignore user and role` here."},{"href":"/docs/linux/operations-deployment/SELinuxAppArmor","content":"sudo semanage user -l 제한을 하기전에 몇가지 용어를 알아야 합니다 - Permissive means its allowing everything and just locking actions that should have been restricted 기본이 허용이며 제한적으로 거부합니다 Enforcing only whats explicitly allowed denying else 제한거부이며 허용합니다 Disabled not doing anything at all 아무것도 하지 않습니다 --- 이제 Linux 보안 모듈로 필수 액세스 제어를 시행하는 방법을 살펴보겠습니다 Red Hat 및 CentOS OS에는 기본적으로 Linux가 활성화되어 있지만 Ubuntu에는 사용되는 apparmor 모듈을 활성화 해야합니다 우선 우분투에서 처음부터 어떻게 시작할 수 있는지 는 있으므로 먼저 두 개의 동시에 사용하면 충돌이나 예상치 못한 결과가 발생할 있어서 비활성화해야 bash systemctl stop disable 다음으로 Linux를 시작하기 위해 패키지를 설치하겠습니다 apt install selinux-basics auditd sestatus SELinux status disabled 예상한 대로 우리의 경우에는 여전히 비활성화되어 있습니다 시스템에서 활성화하려면 몇 가지 사항을 설정해야 1 커널에 로드하도록 지시하도록 부트 로더를 구성해야 2 시스템의 모든 파일에 적절한 레이블을 지정해야 3 재부팅할 때마다 다시 루트 경로의 확인해보겠습니다 ls -Z bin boot dev etc home lib lib64 media mnt opt proc root run sbin srv sys tmp usr var 레이블 대신 물음표가 나타납니다 하지만 좋은 점은 활성화하는 데 필요한 단계를 수행할 있는 유틸리티가 있다는 것입니다 selinux-activate Activating SE Sourcing file etcdefaultgrub etcdefaultgrubdinit-selectcfg Generating grub configuration Found linux image bootvmlinuz-540-91-generic initrd bootinitrdimg-540-91-generic is activated Please reboot your system 위 명령어는 1번 부트로더를 수정하고 2번 지시하기 수정한 것을 볼 부트로더 수정을 cat GRUB_CMDLINE_LINUX securityselinux 내용은 부트로더에게 인수를 전달하도록 지시합니다 -a autorelabel 파일은 다음 부팅 시 지정하도록 좋습니다 재부팅을 수행하겠습니다 지정하는 과정이 끝나면 grub을 보게 될 팝업되는 메뉴에서 default enter 해도 큰 문제는 없습니다 그리고 것이 제대로 레이블이 지정되었는지 확인해 보겠습니다 system_uobject_rbin_ts0 system_uobject_rboot_ts0 system_uobject_rdevice_ts0 system_uobject_retc_ts0 있음을 알 enabled SELinuxfs mount sysfsselinux directory etcselinux Loaded policy name Current mode permissive 현재 모드로 설정되어 getenforce 명령어를 사용하여 모드를 확인할 모드는 SELinux가 정책을 시행하지 않는 모드디버깅입니다 요것이 audit daemon 을 설치한 이유입니다 이 발생하는 일반적인 작업을 관찰하도록 바로 enforce 전환 할 경우 SSH를 통한 로그인도 허용되지 아래 명령을 실행하여 감사 로그에 기록한 내용을 audit2why --all less 옵션은 명령에 기록된 이벤트를 표시하도록 로그를 ssh 로 검색하면 관련 로그가 나오는데 내용이 아래와 같습니다","title":"Change the `SELinux context` of `/var/index.html` file to` httpd_sys_content_t`"},{"href":"/docs/linux/operations-deployment/SSH","content":"what is ssh","title":"what is ssh"},{"href":"/docs/linux/operations-deployment/SSH","content":"SSH Secure Shell 은 네트워크 서비스를 안전하게 운영하기 위한 프로토콜이다 SSH는 원격 시스템에 로그인하거나 시스템에서 명령을 실행하고 시스템과 데이터를 안전하게암호화 전송하는데 사용된다 기본적으로 TCP를 사용하며 22번 포트를 사용한다","title":"ssh daemon"},{"href":"/docs/linux/operations-deployment/SSH","content":"OpenSSH daemon configuration file man sshd_config을 참고하자 설정파일은 etcsshsshd_config 에 위치한다 bash etcssh moduli sshd_config ssh_host_dsa_keypub ssh_host_ed25519_key ssh_host_rsa_keypub ssh_config sshd_configd ssh_host_ecdsa_key ssh_host_ed25519_keypub ssh_import_id ssh_configd ssh_host_dsa_key ssh_host_ecdsa_keypub ssh_host_rsa_key 설정 정보와 tls 통신에 사용되는 키 파일들이 있다 sudo cat","title":"sshd_config(5) for more information."},{"href":"/docs/linux/operations-deployment/SSH","content":"This is the sshd server system-wide configuration file  See","title":"This sshd was compiled with PATH=/usr/bin:/bin:/usr/sbin:/sbin"},{"href":"/docs/linux/operations-deployment/SSH","content":"sshd_config5 for more information","title":"OpenSSH is to specify options with their default value where"},{"href":"/docs/linux/operations-deployment/SSH","content":"This sshd was compiled with PATHusrbinbinusrsbinsbin","title":"default value."},{"href":"/docs/linux/operations-deployment/SSH","content":"The strategy used for options in the default sshd_config shipped with","title":"AddressFamily any"},{"href":"/docs/linux/operations-deployment/SSH","content":"OpenSSH is to specify options with their default value where","title":"ListenAddress ::"},{"href":"/docs/linux/operations-deployment/SSH","content":"possible but leave them commented  Uncommented options override the","title":"HostKey /etc/ssh/ssh_host_ecdsa_key"},{"href":"/docs/linux/operations-deployment/SSH","content":"default value","title":"Keyword"},{"href":"/docs/linux/operations-deployment/SSH","content":"Include etcsshsshd_configdconf","title":"/etc/ssh/sshd_config"},{"href":"/docs/linux/operations-deployment/SSH","content":"AddressFamily any","title":"ssh"},{"href":"/docs/linux/operations-deployment/SSH","content":"ListenAddress 0000","title":"Example"},{"href":"/docs/linux/operations-deployment/TLS","content":"TLSTransport Layer Security는 네트워크 통신을 위한 보안 프로토콜입니다 TLS는 데이터 암호화 무결성 검증 서버 인증을 제공하여 안전한 가능하게 합니다 HTTPS SSH SMTP FTP 등 다양한 프로토콜에서 사용됩니다","title":"브라우저 HTTPS 접속 시의 TLS 절차"},{"href":"/docs/linux/operations-deployment/TLS","content":"브라우저 HTTPS 접속 시의 TLS 절차","title":"SSH로 원격 서버에 접속할 때의 TLS 절차"},{"href":"/docs/linux/operations-deployment","content":"Operations and Deployment","title":"Operations and Deployment"},{"href":"/docs/linux/operations-deployment","content":"Boot Reboot Shutdown a system","title":"reboot"},{"href":"/docs/linux/operations-deployment","content":"bash sudo systemctl reboot","title":"And that's going to be exactly like unplugging the computer from its power source."},{"href":"/docs/linux/operations-deployment","content":"bash sudo systemctl poweroff That might be because some program is misbehaving or stuck in way and it doesnt want to close You can force all of the programs reboot a more abrupt this not recommended but its possible Cant stress enough that we have do as last resort 이것을 최후의 수단으로 해야 한다는 사실은 아무리 강조해도 지나치지 않습니다 --force","title":"to shut down after 15 minutes"},{"href":"/docs/linux/operations-deployment","content":"The system is going to reboot instantly and programs arent have a chance close properly","title":"Manual"},{"href":"/docs/linux/operations-deployment","content":"And thats going to be exactly like unplugging the computer from its power source","title":"Trouble shoot boot failures"},{"href":"/docs/linux/operations-deployment","content":"이는 컴퓨터의 전원 플러그를 뽑는 것과 똑같습니다","title":"/boot/grub/grub.cfg."},{"href":"/docs/linux/operations-deployment","content":"sudo systemctl reboot --force poweroff The shutdown command is better suited for scheduled reboots or shutdowns so example to shut down at 2 am bash -r 200 System will","title":"For full documentation of the options in this file, see:"},{"href":"/docs/linux/operations-deployment","content":"to shut down after 15 minutes","title":"info -f grub -n 'Simple configuration'"},{"href":"/docs/linux/operations-deployment","content":"sudo shutdown -r 15","title":"command would be used to generate the new grub configuration file."},{"href":"/docs/linux/operations-deployment","content":"인수 없음 도움말을 표시합니다 이 옵션은 를 입력하는 것과 같습니다 아무 옵션을 입력하지 않는 같은 결과를 제공합니다 i GUI를 첫 번째 옵션이어야 합니다 l 로그오프합니다 m 또는 d 옵션과 함께 사용할 수 없습니다 s 컴퓨터를 종료합니다 sg 다음 부팅 시 자동 다시 시작 로그온이 사용하도록 설정된 경우 자동으로 로그인하여 마지막 대화형 사용자를 잠급니다 로그인한 후 등록된 응용 프로그램을 시작하세요 r 완전히 종료하고 시작합니다 g 시스템을 부팅한 후에 a 시스템 종료를 중단합니다 시간 제한 기간 동안에만 있습니다 fw와 사용되어 보류 중인 펌웨어로 부팅을 모두 지웁니다 p 경고 없이 로컬 끕니다 및 f h 최대 절전 모드로 전환합니다 hybrid 빠른 시작을 위해 준비합니다 사용해야 fw shutdown 펌웨어 사용자 인터페이스 e 예기치 못한 컴퓨터 종료의 원인을 문서화합니다 o 고급 옵션 메뉴로 이동하여 computer 대상 지정합니다 t xxx 종료 전 기간을 xxx초로 설정합니다 유효 범위는 0-31536000010년이며 기본값은 30입니다 기간이 0보다 큰 매개 변수가 암시됩니다 c comment 설명합니다 512자를 사용자에게 미리 경고하지 않고 실행 강제로 닫습니다 값이 변수에 대해 지정된 puxxyy p는 종료가 계획되어 있다는 의미입니다 u는 사용자가 정의한다는 p와 u가 지정되어 있지 않으면 계획되지 않은 것입니다 xx는 주요 원인 번호256 미만의 양의 정수입니다","title":"설치 과정의 출력과 에러 메시지가 /home/bob/grub.txt 파일에 기록됩니다."},{"href":"/docs/linux/operations-deployment","content":"Boot or change system into different operating modes","title":"Find out what is the system's current default boot target and save value in /home/bob/boot-target.txt file."},{"href":"/docs/linux/operations-deployment","content":"bash systemctl get-default 위 명령어는 현재 시스템의 기본 부팅 모드를 확인할 수 있습니다 아래 명령어를 입력하여 변경할 sudo set-default multi-usertarget multi-usertarget은 CLICommand Line Interface 의미합니다 그리고 GUIGraphical User 모드로 graphicaltarget 변경후 재부팅을 하면 변경된 부팅이 됩니다 reboot 만약 재부팅 default 없이 변경하고 싶다면 입력합니다 isolate","title":"Refs"},{"href":"/docs/linux/operations-deployment/daemon-service","content":"데몬은 리눅스 시스템에서 백그라운드에서 실행되는 프로그램입니다 사용자와 직접 상호 작용하지 않고 특정 작업을 수행하도록 설계되었습니다 일반적으로 시스템 부팅 시 자동으로 시작되며 종료될 때까지 계속 실행됩니다","title":"데몬의 주요 특징"},{"href":"/docs/linux/operations-deployment/daemon-service","content":"- 백그라운드 실행 데몬은 사용자 인터페이스 없이 백그라운드에서 실행됩니다 지속적인 시스템 부팅 시 자동으로 시작되며 종료될 때까지 계속 자동화된 작업 특정 작업을 자동화하도록 설계되었습니다 서비스 제공 네트워킹 프린팅 파일 관리 등 다양한 서비스를 제공합니다 데몬의 종류 독립형 데몬 독립적으로 실행되는 데몬입니다 슈퍼 데몬inetd inetd 데몬에 의해 관리되는","title":"데몬 관리"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"pgrep pkill pidwait - 프로세스 조회 신호 또는 대기","title":"SYNOPSIS"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"bash pgrep options pattern pkill pidwait","title":"`pkill` only"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"- -a --list-full 모든 컬럼 조회 기본적으로 id만 출력하여 다른 명령어와 조합하여 사용 -d 각 프로세스 ID 를 구분하는 문자열을 지정합니다기본적으로 newline","title":"`pid` 프로세스가 종료될 때까지 대기"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"- --echo killed 된 process id 를 출력합니다","title":"`sshd`, `root` 유저에 대한 프로세스 조회"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"pidwait only","title":"`xterm` 프로세스에 대한 자세한 정보 제공"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"- -u 유저에 대한 프로세스 필터링 -U real user ID에 -i 대소문자 구분하지 않음 --exact 정확한 패턴 일치 -s 세션","title":"`Chrome` 프로세스에 대한 nice value를 +5 변경"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"이름이 상당히 직관적이라 부연설명이 오히려 헷갈릴 수 있다 예제로 보자","title":"background 에서 [pid] 프로세스 종료를 대기한 후 특정 스크립트 실행"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"pid 프로세스가 종료될 때까지 대기","title":"append the following"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"bash pwait pid","title":"excute the script in background"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"sshd daemon에 대한 유저가owned by root인 프로세스 조회","title":"check background jobs"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"bash pgrep -u root sshd","title":"lsof"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"sshd root 유저에 대한 프로세스 조회","title":"Synopsis"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"bash pgrep -u rootdaemon","title":"Options"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"xterm 프로세스에 대한 자세한 정보 제공","title":"Output"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"bash ps -fp pgrep -d -x xterm","title":"파일 Descriptor"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"admin 유저의 python process 종료","title":"print all opend files"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"bash pkill -u admin python","title":"pkill"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"SIGKILL 신호를 사용하여 emacs 프로세스 강제 종료","title":"Jobs"},{"href":"/docs/linux/operations-deployment/diagnose-manage","content":"bash pkill -KILL emacs","title":"Reference"},{"href":"/docs/linux/operations-deployment/email","content":"Linux에서의 Email","title":"Linux에서의 Email"},{"href":"/docs/linux/operations-deployment/email","content":"리눅스 특히 Redhat and CentOS는 이메일을 수신하면 varspoolmail에 저장합니다 만약 aaron에게 수신한 이메일이 있다면 varspoolmailaaron followed by username 에 저장됩니다","title":"Email Aliases"},{"href":"/docs/linux/operations-deployment/email","content":"Email Aliases","title":"Install Postfix"},{"href":"/docs/linux/operations-deployment/email","content":"이제 블로그 방문자가 aaron에게 이메일을 보낼 수 있도록 하려면 어떻게 해야 할까요 우리는 몇가지user contact advertising compliant 계정을 서버에 생성해야 합니다 1 aaronexamplecom 2 contactexamplecom 3 advertisingexamplecom 4 compliantexamplecom 하지만 서버관리자인 aaron은 한개의 계정으로 모든 받고 싶습니다 그렇다면 사실 여러개 생성할 필요가 없습니다 email alias 기능을 사용하여 하나의 받을 있습니다 Lets go","title":"echo \"This is the body of email\" | mail -s subject line\" aaron@localhost"},{"href":"/docs/linux/operations-deployment/email","content":"Install Postfix","title":", $` 등의 특수문자를 사용하지 마세요."},{"href":"/docs/linux/operations-deployment/email","content":"Postfix는 SMTP 서버로서 이메일을 보내고 받을 수 있도록 해줍니다 bash sudo dnf install postfix systemctl start enable 빠른 시연을 위해 로컬 호스트 주소로 설정하겠습니다","title":"IMAP and IMAPS"},{"href":"/docs/linux/operations-deployment/email","content":"echo This is the body of email  mail -s subject line aaronlocalhost","title":"잠시 시간을 내어 코멘트를 읽어보세요 (찡긋)."},{"href":"/docs/linux/operations-deployment/email","content":"sendmail aaronlocalhost This is the body of email cat varspoolmailaaron From Wed Sep 1 155801 2021 Return-Path X-Original-To Delivered-To Received by localhost Postfix from userid 1000 id 1B0C3C0A 0900 KST Subject subject line To X-Mailer mail GNU Mailutils 37 Message-Id 202109010658011B0C3C0Alocalhost Date aaron 요론느낌으로 이메일을 보내고 받을 수 있습니다 이제 다른 이메일 주소로 보내보겠습니다 먼저 etcalaises 파일을 수정합니다 절대","title":"많은 설정과 문서 정보들을 확인할 수 있습니다."},{"href":"/docs/linux/operations-deployment/email","content":"등의 특수문자를 사용하지 마세요","title":"IMAP 서버를 활성화합니다."},{"href":"/docs/linux/operations-deployment/email","content":"etcaliases 파일을 수정한 후 newaliases 명령어를 통해 적용할 수 있습니다 bash sudo vim advertising aaron compliant contact 다시 이메일을 보내보겠습니다 sendmail advertisinglocalhost This is the advertise email compliantlocalhost contactlocalhost cat varspoolmailaaron 메일박스에는 이메일이 잘 도착했습니다 이제 예를 들어 연락할 이메일에 응답해야 하는 전체 팀이 있다고 상상해 보세요 읽고 사람은 bob charlie 입니다 수정합니다 varspoolmailbob varspoolmailcharlie 하지만 다른 서비스에 저장된 외부 사서함external으로 메일을 라우팅하려면 어떻게 해야 할까요 예로 advertising메일에 한하여 애널리틱스 팀의 이메일 주소로 aarongooglecom team-analyticscompanycom 포워딩을 할 수도 서버에 저장 많은 선택지를 제공합니다 반드시 Postfix에 적용해야 합니다 잊지마세요찡긋","title":"전체 네트워크에서 접속을 허용합니다."},{"href":"/docs/linux/operations-deployment/email","content":"IMAP and IMAPS","title":"인증서 및 키를 생성합니다."},{"href":"/docs/linux/operations-deployment/email","content":"이메일은 보내는 것 만큼 받는 것도 중요합니다 여러계정을 관리하고 싶다면 IMAP을 사용해야 합니다 IMAP은 이메일을 서버에 저장하고 여러 기기에서 동기화 할 수 있습니다 하지만 보안이 취약합니다 암호화되지 않은 텍스트로 전송합니다 IMAPS는 IMAP과 동일하지만 SSLTLS 프로토콜을 준수하여 통신합니다 IMAPS를 사용하려면 Dovecot을 설치해야 bash sudo dnf install dovecot systemctl start enable 방화벽을 열어줍니다 firewall-cmd --add-serviceimaps --runtime-to-permanent --reload - 재부팅시에도 적용되도록 설정합니다 방화벽 설정을 다시 불러옵니다 --add-service 서비스를 추가합니다 인터넷의 모든 클라이언트에 제공할 준비가 된 IMAP 및 서버를 설정하고 보호하는 것은 매우","title":">>> insert"},{"href":"/docs/linux/operations-deployment/email","content":"잠시 시간을 내어 코멘트를 읽어보세요 찡긋","title":"SSL/TLS 인증서를 사용하도록 설정합니다."},{"href":"/docs/linux/operations-deployment/kernel-runtime-parameters","content":"Kernel Runtime Parameters","title":"Kernel Runtime Parameters"},{"href":"/docs/linux/operations-deployment/kernel-runtime-parameters","content":"런타임 매개변수는 Linux 커널 로드 될 때 수행하는 방식에 대한 기본 설정을 나타내는 멋진 용어일 뿐입니다 커널은 row level에서 동작하며 설정에 따라 메모리 할당 프로세스 관리 파일 시스템 등을 수행합니다 커널런타임에 사용될 모든 파라미터를 확인하려면 아래 명령어를 입력합니다 bash sudo sysctl -a fspipe-user-pages-soft 12344 fspipe-user-pages-hard 0 netipv6confdefaultdisable_ipv6 위 설정에서 ipv6가 활성화되어 있는 것을 확인할 수 있습니다 is used to modify kernel parameters at runtime The available are those listed under procsys Procfs required for support in You can use both read and write data 이러한 설정들은 etcsysctlconf 파일에 저장되어 이와같이 네트워크 부터 파일시스템 vm 등 커널이 작업에 ipv6를 비활성화하고 싶다면","title":"change not permanently"},{"href":"/docs/linux/operations-deployment/kernel-runtime-parameters","content":"change not permanently","title":"check"},{"href":"/docs/linux/operations-deployment/kernel-runtime-parameters","content":"sudo sysctl -w netipv6confdefaultdisable_ipv61","title":"시나리오"},{"href":"/docs/linux/operations-deployment/kernel-runtime-parameters","content":"sudo sysctl -a grep ipv6 or netipv6confdefaultdisable_ipv6 변경된 값이 영구적으로 적용되게 하려면 설정 파일을 수정해야 합니다 bash man sysctld SYNOPSIS etcsysctldconf runsysctldconf usrlibsysctldconf vi etcsysctld99-sysctlconf input 1","title":"Turn on `kernel.modules_disabled` kernel runtime parameter, so that loading new modules will be disabled."},{"href":"/docs/linux/operations-deployment/kernel-runtime-parameters","content":"만약 vm의 메모리를 설정하고 싶습니다 bash sysctl -a grep vm vmpanic_on_oom 0 vmswappiness 30 위 설정에서 vmswappiness는 30으로 설정되어 있습니다 swappiness는 커널이 어떻게 사용할지에 대한 정책입니다 0이면 적게 사용하고 100이면 스왑을 최대한 사용합니다 이 값을 10으로 변경하고 싶다면 아래 명령어를 입력합니다 sudo vim etcsysctld99-sysctlconf append vmswappiness10 이제 next boot시에 변경된 값이 적용됩니다 즉시 적용하고 -p permanent file","title":"Use the sysctl command to make sure this kernel runtime parameter is actively enabling its settings:"},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"Linux 운영 체제는 주로 서버 지향적이며 서버에서는 항상 무슨 일이 일어났는지 알고 싶어합니다 누가 무엇을 했는지 무엇이 효과가 있었는지 작동하지 않았는지 어떤 오류가 발생했는지 시스템에 액세스했는지 시스템에서 발생하는 모든 중요한 일은 다음 위치에 문자 메시지를 로그라고 부릅니다 리눅스 커널과 이 커널에서 실행되는 대부분의 프로그램은 상태 메시지 오류 경고를 생성합니다 그리고 생성하는 수십 개의 다양한 프로그램이 있을 수 있습니다 것들을 모아서 파일에 잘 정리할 있는 방법이 필요합니다 이것이 daemon rsyslogrocket-fast system for log processing가 하는 일입니다 데몬은 로그를 varlog 디렉토리에있는 기록합니다 만약 유저가 ssh를 사용해 접근했는지 확인하고 싶고 당신은 파일 위치를 모를때 아래와 같이 찾아보면 됩니다 bash sudo grep -r ssh","title":"if you want exclude binary file"},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"if you want exclude binary file","title":"if you want to see only file name"},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"sudo grep -r ssh varlog -v Binary file","title":"헤이 이 바이너리 파일이 사용되는 정보를 보여줘"},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"if you want to see only file name","title":"ssh daemon이 사용되는 정보를 보여줘"},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"sudo grep -r ssh varlog -v Binary file cut -d -f 1 uniq less varlogauthlog1 명령어를 사용하면 파일의 내용을 볼 수 있습니다 pam_unixcronsession session opened for user root by uid0 음 루트가 로그인 했네요 끝 이밖에 다른 로그도 확인해보세요 - 어떠한 유저가 어떤 주소로 부터 포트를 사용해 접근했는지 확인할 패스워드가 틀렸는지 디렉토리에서 실행했는지 모두 기억합니다 어디 실시간으로 살펴볼까요 bash tail varlogauthlog varlogauthlog1Jan 18 182840 michelle abacus TTYpts0 PWDusrsharedoctar USERroot COMMANDbintar xvf THANKSgz -c thank 182844 -xvf 182928 jxvf 203716 PWDhomeabacus COMMANDusrbinmandb journalctl은 좀더 효과적으로 로그를 우리는 sudo를 사용하는 사람들을 확인하고싶습니다","title":"마지막 로그 들을 보여줘"},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"헤이 이 바이너리 파일이 사용되는 정보를 보여줘","title":"에러만 보여줘"},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"sudo journalctl which","title":"emerg (0), alert (1), crit (2), err (3), warning (4), notice (5), info (6), debug (7)."},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"ssh daemon이 사용되는 정보를 보여줘","title":"최근 3개월전 부터 어제까지의 로그를 michelle 메세지가 포함된 보여줘"},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"sudo journalctl -u sshservice","title":"2번째 전의 부팅시 로그 정보를 보여줘"},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"마지막 로그 들을 보여줘","title":"Exercise"},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"journalctl -xef","title":"현재 프로세스의 NICE 값과 함께 트리 구조로 프로세스를 보여줘"},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"journalctl -p err -f 0 -fe","title":"1번 프로세스에 우선순위를 19로 변경"},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"emerg 0 alert 1 crit 2 err 3 warning 4 notice 5 info 6 debug 7","title":"my_program을 실행하면서 우선순위를 19로 변경"},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"최근 3개월전 부터 어제까지의 로그를 michelle 메세지가 포함된 보여줘","title":"**List all files** that are opened by process with PID 1,"},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"journalctl --since 3 months ago --until yesterday -u sshservice -f grep michelle","title":"Search the logs for entries related to **SSH daemon** i.e `sshd`."},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"2번째 전의 부팅시 로그 정보를 보여줘","title":"Identify the PID of process named rpcbind"},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"journalctl -b -2 우리는 각 유저들의 마지막 로그 정보도 확인할 수 있습니다 bash last lastlog","title":"With the systemctl command, find out PID of process currently managed by `sshd.service`. Send SIGHUP signal to this process."},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"현재 프로세스의 NICE 값과 함께 트리 구조로 프로세스를 보여줘","title":"Analyse the **info** priority logs through `journalctl` that begin with letter `c` and store output in `/home/bob/.priority/boot.log` file."},{"href":"/docs/linux/operations-deployment/locate-analyze-system","content":"bash ps -alf - 명령어는 현재 실행중인 프로세스를 보여줍니다 -a 옵션은 모든 사용자의 -l 긴 포맷으로 -f 트리 구조로","title":"Using ps command, identify the **CPU and Memory usage** by only process having PID `1`"},{"href":"/docs/linux/operations-deployment/logroate","content":"RabbitMQ 하지만 Log Rotate를 곁들인","title":"RabbitMQ 하지만 Log Rotate를 곁들인"},{"href":"/docs/linux/operations-deployment/logroate","content":"What is log rotate","title":"Why do we need log rotate?"},{"href":"/docs/linux/operations-deployment/logroate","content":"로그 파일을 자동으로 백업하고 압축하고 삭제하는 유틸리티 logrotate는 많은 수의 생성하는 시스템을 쉽게 관리할 수 있도록 설계되었습니다 각 파일은 매일 매주 매월 처리되거나 용량이 너무 커지는 경우 처리될 있습니다","title":"In my case.."},{"href":"/docs/linux/operations-deployment/logroate","content":"Why do we need log rotate","title":"What is RabbitMQ?"},{"href":"/docs/linux/operations-deployment/logroate","content":"로그 파일은 시간이 지남에 따라 커지게 되고 이는 디스크 공간을 많이 차지하게 됩니다 파일을 읽고 쓰는 데 오래 걸리는 현상을 발생시킵니다 따라서 자동으로 백업하고 압축하고 삭제하는 유틸리티가 필요합니다","title":"Why do we need RabbitMQ, RabbitMQ의 활용 분야?"},{"href":"/docs/linux/operations-deployment/logroate","content":"고객사로 부터 CVT Customer Verification Test를 진행하던 중 Log 파일이 너무 커져서 디스크 공간이 부족해지는 현상이 발생했습니다 이를 해결하기 위해 Rotate를 적용하였습니다","title":"1. Install RabbitMQ"},{"href":"/docs/linux/operations-deployment/logroate","content":"What is RabbitMQ","title":"How to use log rotate?"},{"href":"/docs/linux/operations-deployment/logroate","content":"RabbitMQ는 AMQPAdvanced Message Queuing Protocol를 구현한 오픈소스 메시지 브로커 소프트웨어입니다 통상 PubSub 패턴을 요구하는 서비스에서 사용됩니다 ex 채팅 서비스 알림 등","title":"1. Install log rotate"},{"href":"/docs/linux/operations-deployment/logroate","content":"Why do we need RabbitMQ RabbitMQ의 활용 분야","title":"2. Configuration file"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"connect RabbitMQ using websocket","title":"connect RabbitMQ using websocket"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"What is RabbitMQ","title":"Why do we need RabbitMQ, RabbitMQ의 활용 분야?"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"RabbitMQ는 AMQPAdvanced Message Queuing Protocol를 구현한 오픈소스 메시지 브로커 소프트웨어입니다 통상 PubSub 패턴을 요구하는 서비스에서 사용됩니다 ex 채팅 서비스 알림 등","title":"How to install RabbitMQ?"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"Why do we need RabbitMQ RabbitMQ의 활용 분야","title":"Caution"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"RabbitMQ는 다양한 분야에서 활용될 수 있습니다 - 마이크로서비스 아키텍처 간 통신에 RabbitMQ를 사용하여 느슨하게 결합된 시스템을 구축할 이벤트 구동 구축 아키텍처에서 이벤트를 효율적으로 전달하고 처리할 분산 시스템 시스템에서 데이터 동기화 작업 큐 메시지 브로딩 등 용도로 사용할 실시간 처리 데이터를 수집하고","title":"Check RabbitMQ status"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"How to install RabbitMQ","title":"sudo systemctl restart rabbitmq-server.service"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"- RabbitMQ는 Erlang 기반으로 동작합니다 따라서 Erlang에 대한 종속성이 있습니다 OS version 등에 따라 설치 가능여부와 distribution이 다릅니다 유의하시기 바랍니다","title":"check epmd process status"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"Check RabbitMQ status","title":"check process port from id"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"설치가 완료되면 RabbitMQ 서버는 자동으로 실행됩니다 정상적으로 설치된 경우 상태를 확인할 수 있습니다 bash sudo systemctl status rabbitmq-serverservice - broker Loaded loaded libsystemdsystemrabbitmq-serverservice disabled vendor preset enabled Active active running since Fri 2024-04-05 015318 UTC 21s ago Main PID 365429 beamsmp Tasks 24 limit 18438 Memory 749M CGroup systemslicerabbitmq-serverservice usrliberlangerts-1423binbeamsmp -W w -MBas ageffcbf -MHas -MBlmbcs 512 -MHlmbcs -MMmcs 30 -pc unicode -P 1048576 -t 5000000 -stbt db -zdbbl 128000 -sbwt none -sbwtdcpu 365457 erl_child_setup 32768 365479 usrliberlangerts-1423bininet_gethost 4 365480 365499 binsh -s rabbit_disk_monitor Apr 05 015317 sp rabbitmq-server365429 Release series support supported Doc guides httpswwwrabbitmqcomdocsdocumentation Support httpswwwrabbitmqcomdocscontact Tutorials httpswwwrabbitmqcomtutorials Monitoring httpswwwrabbitmqcomdocsmonitoring Logs varlograbbitmqrabbitsplog stdout Config files Starting completed with 0 plugins systemd1 Started 기본 로그 위치는 varlograbbitmq 입니다 startup_log와 startup_err 파일등 다양한 파일이 ls 만약 서버가 실행되지 않는다면 다음 명령을 실행하여 서버를 시작할","title":"Setup RabbitMQ"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"sudo systemctl restart rabbitmq-serverservice","title":"RabbitMQ Plugins"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"sudo systemctl start rabbitmq-serverservice 에러가 발생한다면 시스템 로그를 확인하시기 바랍니다 bash journalctl -xe grep rabbitmq","title":"create new user"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"cat varlograbbitmqstartup_err","title":"set vhost '/' permission to root"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"journalctl -p err -S 1 hour ago -f -u rabbitmq-serverservice 필자의 경우 epmd host에 연결이 실패했다는 에러가 발생했습니다 epmd는 Erlang Port Mapper Daemon으로 노드 간 통신을 위한 포트 매핑을 제공합니다 bash","title":"Declare Exchange, Queue, Binding from CLI"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"check epmd process status","title":"create exchange"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"ps aux grep epmd rabbitmq 291987 00 7940 2576 S Apr04 000 usrliberlangerts-1423binepmd -daemon username 368397 8160 2460 pts0 0210 --colorauto","title":"create queue"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"check process port from id","title":"bind queue"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"sudo ss -lptn grep epmd LISTEN 0 4096 00004369 0000 usersepmdpid291987fd3 4369 usersepmdpid291987fd4 프로세스는 실행되고 있었으므로 다른 이유로 인해 실패한 것으로 보입니다 bash rabbitmqctl status 필자는 에러로그로 부터 node name이 잘못 설정되어 있었음을 확인했습니다 1921680 과 같이 IP 형식으로 호스트 이름을 설정하면 192까지 name으로 인식합니다 따라서 sp로 변경하고 서버를 재시작하였습니다 hostnamectl set-hostname sp systemctl restart rabbitmq-serverservice 정상 동작 확인 Status of rabbitsp Runtime OS PID 365429 Linux Uptime seconds 1373 Is under maintenance false RabbitMQ version 3131 release series support supported Node name Erlang configuration ErlangOTP 26 erts-1423 source 64-bit smp22 ds2210 async-threads1 jitns Crypto library OpenSSL 111f 31 Mar 2020 processes 291 used 1048576 limit Scheduler run queue 1 Cluster heartbeat timeout net_ticktime 60 서버가 재시작되었을 때 자동으로 실행되도록 설정하려면 다음 명령을 실행하십시오 enable","title":"Connect Vue.js to RabbitMQ"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"Setup RabbitMQ","title":"Install mqtt"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"RabbitMQ Plugins","title":"usage mqtt client"},{"href":"/docs/linux/operations-deployment/rabbitmq-vue","content":"RabbitMQ는 기본적으로 guest 사용자로 접속할 수 있습니다 bash sudo rabbitmqctl list_users Listing users guest\tadministrator 보안을 위해 신규 사용자 추가 후 삭제하겠습니다","title":"Conclusion"},{"href":"/docs/linux/operations-deployment/schedule","content":"Schedule tasks","title":"Schedule tasks"},{"href":"/docs/linux/operations-deployment/schedule","content":"서버의 Linux에서 일부 작업을 자동으로 실행해야 하는 경우가 있습니다 예를 들어 매주 일요일 오전 3시에 데이터베이스를 백업하는 생성할 수 이러한 설정하는 여러 방법을 살펴보겠습니다","title":"Cron"},{"href":"/docs/linux/operations-deployment/schedule","content":"daemon to execute scheduled commands Cron은 varspoolcron에서 etcpasswd의 계정 이름을 딴 crontab 파일을 검색합니다 Linux에서 작업을 예약하는 데 사용되는 시스템입니다 cron 유틸리티를 사용하는 것이며 매 1회 실행되는 반복 작업에 적합합니다 몇 분 시간 또는 특정 날짜에 또한 관리자는 자동화된 실행해야 하는 정확한 시간을 선택할 수도 있습니다","title":"every day"},{"href":"/docs/linux/operations-deployment/schedule","content":"Getting started","title":"every hour"},{"href":"/docs/linux/operations-deployment/schedule","content":"우리는 shellscriptsh을 스케줄링하고 싶다고 가정해 봅시다 주기적으로 실행되도록 싶다면 다음과 같이 하면 됩니다 sh","title":"every month"},{"href":"/docs/linux/operations-deployment/schedule","content":"sudo cp shellscriptsh etccrondaily","title":"Crontab"},{"href":"/docs/linux/operations-deployment/schedule","content":"sudo cp shellscriptsh etccronhourly","title":"m h dom mon dow command"},{"href":"/docs/linux/operations-deployment/schedule","content":"every month","title":"Crontab 예시"},{"href":"/docs/linux/operations-deployment/schedule","content":"sudo cp shellscriptsh etccronmonthly","title":"매일 오전 3시에 /home/user/backup.sh 스크립트를 실행하고 에러/표준 출력을 /var/log/zz 에 저장합니다.."},{"href":"/docs/linux/operations-deployment/schedule","content":"sudo cp shellscriptsh etccronweekly 데몬 확인을 잊지마세요 sh systemctl status cron","title":"Anacron"},{"href":"/docs/linux/operations-deployment/schedule","content":"Crontab은 cron 작업을 관리하는 데 사용되는 명령어입니다 사용자별로 관리추가 제거 편집하는 사용됩니다 다음과 같은 명령어를 사용하여 관리합니다 - crontab -e 파일을 편집합니다 -l 파일의 내용을 표시합니다 -r 삭제합니다 -u 다른 사용자의 jane jane의","title":"install"},{"href":"/docs/linux/operations-deployment/schedule","content":"Crontab 파일의 구조","title":"Anacrontab 파일의 구조"},{"href":"/docs/linux/operations-deployment/schedule","content":"Crontab 파일은 다음과 같은 구조를 가지고 있습니다 sh","title":"period delay job-identifier command"},{"href":"/docs/linux/operations-deployment/schedule","content":"m h dom mon dow command","title":"-T Test an anacrontab"},{"href":"/docs/linux/operations-deployment/schedule","content":"매일 오전 3시에 homeuserbackupsh 스크립트를 실행하고 에러표준 출력을 varlogzz 에 저장합니다","title":"atd 데몬이 실행 중인지 확인합니다."},{"href":"/docs/linux/operations-deployment/schedule","content":"0 3 homeuserbackupsh varlogzz 21","title":"atd 데몬이 실행 중이 아니라면 다음 명령어를 사용하여 시작합니다."},{"href":"/docs/linux/operations-deployment/schedule","content":"매주 수요일 매 15분마다 homeuserbackupsh 스크립트를 실행합니다","title":"atq"},{"href":"/docs/linux/operations-deployment/schedule","content":"15 3 homeuserbackupsh","title":"Verifying"},{"href":"/docs/linux/operations-deployment/schedule","content":"Anacron은 Crontab과 비슷하지만 보완적인 기능을 가지고 있습니다 예를 들어 Cron 작업이 매일 정오noon에 실행되도록 설정되어 있고 오후 1분에 컴퓨터 전원이 켜지면 Cron은 작업을 실행하지 않습니다 반면 반면에 Anacreon은 오늘의 확인하고 실행합니다 하지만 Cron과 달리 실행할 수 있는 최소 시간 간격이 1일입니다 etcanacrontab에서 관리합니다","title":"Anacron"},{"href":"/docs/linux/operations-deployment/schedule","content":"Setting up Anacron","title":"-n Run jobs with no delay, implies -s"},{"href":"/docs/linux/operations-deployment/schedule","content":"sudo dnf install anacron -y or apt-get apropos anacrontab 5 - configuration file for 8 runs commands periodically","title":"at daemon log filter"},{"href":"/docs/linux/operations-deployment/schedule","content":"Anacrontab 파일의 구조","title":"Systemd-cat"},{"href":"/docs/linux/operations-deployment/schedule","content":"Anacrontab 파일은 다음과 같은 구조를 가지고 있습니다 sh sudo vi etcanacrontab","title":"journalctl with follow error since 1 hour ago"},{"href":"/docs/linux/operations-deployment/schedule","content":"period delay job-identifier command","title":"Practice"},{"href":"/docs/linux/operations-deployment/schedule","content":"3 5 crondaily usrsbinbackupsh 3일마다 5초 지연 후 작업을 실행합니다 - period 실행할 주기일 delay 시간분 아나크론의 여러 작업들이 한번에 실행되는 것은 시스템에 부하를 줄 수 있습니다 따라서 시간을 설정할 job-identifier 작업 식별자name 로깅에 용이합니다 command 명령어 특정 키워드를 사용하여 주기 컬럼을 sh daily weekly 파일을 수정한 후에는 다음 명령어를 테스트할","title":"Remove all at jobs that exist for the user `bob`."},{"href":"/docs/linux/operations-deployment/schedule","content":"-T  Test an anacrontab","title":"Add an `anacron` job with the following specifications:"},{"href":"/docs/linux/operations-deployment/schedule","content":"sudo anacron -T","title":"Using `root` user, schedule below given command to run at `15:30 August 20 2024` by using `at` utility:"},{"href":"/docs/linux/operations-deployment/schedule","content":"우리는 Anacreon과 Cron이 둘 다 반복적이고 자동화된 작업에 초점을 맞추고 있다는 것을 보았습니다 그러나 때로는 한 번만 실행되는 작업이 필요합니다 예를 들어 2시간 후에 서버를 재부팅하고 싶다고 가정해 봅시다 이 경우에는 Cron을 사용할 수 없습니다 at 명령을 있습니다 bash 2pm echo my job produced this EOT 20 Fri Dec 8 155000 2023 - 작업 번호 예약된 날짜와 시간 원하는 시간을 입력하고 명령어를 입력하면 해당 시간에 명령어가 실행됩니다 자세한 내용은 man at을 참고하세요Examples 있음 20번 작업을 삭제하려면 다음 사용하면 됩니다 sh -r 확인하려면 -c","title":"Using `crontab` utility add a cron for user `root` to run below given command:"},{"href":"/docs/linux/operations-deployment/schedule","content":"Setting up at","title":"Add a cron for `bob` user to execute `sudo systemctl restart nginx` command on `Sundays every week at 6am and 11pm`"},{"href":"/docs/linux/storage-management/LVM","content":"What is LVM","title":"What is LVM?"},{"href":"/docs/linux/storage-management/LVM","content":"Logical Volume을 효율적이고 유연하게 관리하기 위한 커널의 한 부분이자 프로그램 기존방식이 파일시스템을 블록 장치에 직접 접근해서 읽고 쓰기를 했다면 LVM은 파일시스템이 LVM이 만든 가상의 하게 됩니다 사용전 좋은 접근방식은 man lvm을 통해 어떤 명령어를 사용할 수 있는지 확인하는 것입니다 또한 명령어들이 vg pv같이 접두어를 가지기 때문에 용도에 맞게 자동완성을 활용해보세요 bash lv tab lvchange lvcreate lvextend lvmconfig lvmdump lvmsadc lvreduce lvrename lvs lvconvert lvdisplay lvm lvmdiskscan lvmpolld lvmsar lvremove lvresize lvscan pv pvchange pvck pvcreate pvdisplay pvmove pvremove pvresize pvs pvscan vgcfgbackup vgchange vgconvert vgdisplay vgextend vgimportclone vgmknodes vgremove vgs vgsplit vgcfgrestore vgck vgcreate vgexport vgimport vgmerge vgreduce vgrename vgscan","title":"파티션과의 차이점"},{"href":"/docs/linux/storage-management/LVM","content":"LVM Logical Volume Manager와 Partition은 리눅스에서 스토리지를 관리하는 두 가지 주요 방법입니다 유연성 LVM은 파티션보다 훨씬 유연합니다 LVM을 사용하면 물리적 볼륨을 그룹화하여 논리적 생성할 수 있습니다 이 볼륨은 필요에 따라 쉽게 확장하거나 축소할 반면에 파티션은 일단 생성되면 크기를 변경하는 것이 어렵습니다 스냅샷 기능을 제공합니다 이는 시스템의 특정 시점의 상태를 캡처하고 필요한 경우 그 상태로 롤백할 있게 해줍니다 이러한 제공하지 않습니다 스토리지 관리 여러 디스크를 하나의 볼륨으로 결합할 이렇게 하면 디스크의 큰 풀로 관리할 각 개별적으로 관리해야 합니다 복잡성 복잡합니다 설정하고 관리하기 위해서는 추가적인 학습이 필요합니다 비교적 간단하고 직관적입니다 차이점들 때문에 대규모 서버 환경에서 데 주로 사용되며 간단한 요구 사항이 있는 경우에 사용됩니다","title":"Physical Volume (PV)"},{"href":"/docs/linux/storage-management/LVM","content":"bash sudo apt-get install lvm2 dnf","title":"create physical volume"},{"href":"/docs/linux/storage-management/LVM","content":"Physical Volume PV","title":"display physical volume"},{"href":"/docs/linux/storage-management/LVM","content":"물리적인 디스크나 파티션을 의미합니다 즉 블록 장치 전체 또는 그 장치를 이루고 있는 파티션들을 LVM에서 사용할 수 있게 변환하는 것입니다 예를 들어 devsda1 devsda2 등의 스토리지를 LVM으로 쓰기위해 PV로 초기화하게 됩니다 PV는 일정한 크기의 PEPhysical Extent들로 구성이 bash","title":"remove physical volume"},{"href":"/docs/linux/storage-management/LVM","content":"what disk and partition are available","title":"Physical Extent (PE)"},{"href":"/docs/linux/storage-management/LVM","content":"sudo lvmdiskscan","title":"Volume Group (VG)"},{"href":"/docs/linux/storage-management/LVM","content":"create physical volume","title":"create volume group"},{"href":"/docs/linux/storage-management/LVM","content":"sudo pvcreate devsdc devsdd Physical volume successfully created pvs 명령어는 logical manager에 의해 사용중인 논리적 볼륨양을 나타냅니다 우린 이제 LVM에서 사용할 수 있게 된 두개의 물리적 볼륨을 가지게 되었습니다 bash PV VG Fmt Attr PSize PFree lvm2 --- 100g","title":"PV LV SN Attr  VSize VFree"},{"href":"/docs/linux/storage-management/LVM","content":"display physical volume","title":"remove pv from vg"},{"href":"/docs/linux/storage-management/LVM","content":"sudo pvscan pvdisplay devsdc is a new physical volume of 100 GiB --- NEW Physical PV Name VG Size Allocatable NO PE 400 MiB Total 255 Free Allocated 0 UUID 3Z","title":"Logical Volume (LV)"},{"href":"/docs/linux/storage-management/LVM","content":"remove physical volume","title":"create logical volume from group as 50GB"},{"href":"/docs/linux/storage-management/LVM","content":"sudo pvremove devsdc","title":"$ sudo lvcreate -L 50G --name partition1 my_volume"},{"href":"/docs/linux/storage-management/LVM","content":"Physical Extent PE","title":"PV LV SN Attr  VSize VFree"},{"href":"/docs/linux/storage-management/LVM","content":"물리적 볼륨을 논리적 볼륨으로 나누는 단위입니다 즉 블록 장치 전체 또는 그 장치를 이루고 있는 파티션들을 LVM에서 사용할 수 있게 변환하는 것입니다 예를 들어 devsda1 devsda2 등의 스토리지를 LVM으로 쓰기위해 PV로 초기화하게 됩니다 PV는 일정한 크기의 PEPhysical Extent들로 구성이 --- 다음으로 이 PV PVE 용량을 사용하는 방법을 알려주어야 합니다","title":"display logical volume"},{"href":"/docs/linux/storage-management/LVM","content":"Volume Group VG","title":"create second logical volume from group as 30GB"},{"href":"/docs/linux/storage-management/LVM","content":"하나 이상의 물리적 볼륨을 그룹화한 것입니다 즉 PV들의 집합으로 LV를 할당할 수 있는 공간입니다 PV들로 초기화된 장치들은 VG로 통합되게 됩니다 사용자는 VG안에서 원하는대로 공간을 쪼개서 LV로 만들 있습니다 bash","title":"PV LV SN Attr  VSize VFree"},{"href":"/docs/linux/storage-management/LVM","content":"create volume group","title":"extend logical volume"},{"href":"/docs/linux/storage-management/LVM","content":"sudo vgcreate my_volume devsdc devsdd Volume group successfully created 우린 VG를 가상 디스크로 생삭 할 수 있습니다 또한 이는 여러 PV로 구성될 있지요 sdc sdd 각각이 50GB 크기로 경우 my_volume은 100GB의 크기를 가지게 됩니다 수동으로 디스크를 추가할때 서버를 재부팅 하지 않아도 된다 부터 이점을 제공해줍니다 만약 my_volume이 디스크가 부족한경우 다른 디스크50G를 추가하고 vgextend 명령어로 추가할 bash devsde vgs VG","title":"remove logical volume"},{"href":"/docs/linux/storage-management/LVM","content":"PV LV SN Attr  VSize VFree","title":"resize logical volume as 100% free space"},{"href":"/docs/linux/storage-management/LVM","content":"my_volume 3 0 wz--n- 15000g 5000g sudo vgscan","title":"$ sudo lvresize -L 50G /dev/my_volume/partition2"},{"href":"/docs/linux/storage-management/LVM","content":"remove pv from vg","title":"display logical volume"},{"href":"/docs/linux/storage-management/LVM","content":"sudo vgreduce my_volume devsde pvremove","title":"create xfs file system"},{"href":"/docs/linux/storage-management/LVM","content":"Logical Volume LV","title":"mount"},{"href":"/docs/linux/storage-management/LVM","content":"논리적인 볼륨을 의미합니다 이는 논리적 볼륨 그룹에 속해 있습니다 사용자가 최종적으로 다루게 되는 스토리지입니다 생성된 LV는 파일 시스템 및 애플리케이션Database 등으로 사용됩니다 위에서도 언급했듯이 LV를 구성하는 LE들은 PV의 PE들과 맵핑하며 존재하게 됩니다 bash","title":"resize file system"},{"href":"/docs/linux/storage-management/LVM","content":"create logical volume from group as 50GB","title":"Logical Extent (LE)"},{"href":"/docs/linux/storage-management/LVM","content":"sudo lvcreate -L 50G --name partition1 my_volume","title":"Install lvm on this system."},{"href":"/docs/linux/storage-management/LVM","content":"sudo lvcreate --size 50G --name partition1 my_volume vgs VG","title":"check os"},{"href":"/docs/linux/storage-management/LVM","content":"PV LV SN Attr  VSize VFree","title":"if ubuntu"},{"href":"/docs/linux/storage-management/LVM","content":"my_volume 3 1 0 wz--n- 15000g 10000g","title":"if centos"},{"href":"/docs/linux/storage-management/LVM","content":"display logical volume","title":"Add these four disks as PVs (Physical Volumes) to LVM: `/dev/vdb`, `/dev/vdc`, `/dev/vdd` and `/dev/vde`."},{"href":"/docs/linux/storage-management/LVM","content":"sudo lvs LV VG Attr LSize Pool Origin Data Meta Move Log CpySync Convert partition1 my_volume -wi-a----- 5000g - 50GB의 크기로 partition1이 생성되었습니다 my_volume은 150GB의 크기를 가지고 있으며 100GB의 공간이 남아있습니다 partition1은 my_volume에 속해있으며 있습니다 bash","title":"search command"},{"href":"/docs/linux/storage-management/LVM","content":"create second logical volume from group as 30GB","title":"search disk"},{"href":"/docs/linux/storage-management/LVM","content":"sudo lvcreate --size 30G --name partition2 my_volume lvs LV VG Attr LSize Pool Origin Data Meta Move Log CpySync Convert partition1 -wi-a----- 5000g 3000g vgs","title":"create physical volume"},{"href":"/docs/linux/storage-management/LVM","content":"PV LV SN Attr  VSize VFree","title":"Remove the /dev/vde physical volume from LVM."},{"href":"/docs/linux/storage-management/LVM","content":"my_volume 3 2 0 wz--n- 15000g 7000g","title":"Create a Volume Group (VG) named volume1. It should be created on these two Physical Volumes: /dev/vdb and /dev/vdc."},{"href":"/docs/linux/storage-management/LVM","content":"extend logical volume","title":"create vg"},{"href":"/docs/linux/storage-management/LVM","content":"sudo lvextend -L 20G devmy_volumepartition2","title":"Add /dev/vdd to this volume group so that we gain more usable storage space."},{"href":"/docs/linux/storage-management/LVM","content":"remove logical volume","title":"PV LV SN Attr  VSize VFree"},{"href":"/docs/linux/storage-management/LVM","content":"sudo lvremove devmy_volumepartition1","title":"extends vg"},{"href":"/docs/linux/storage-management/LVM","content":"resize logical volume as 100 free space","title":"PV LV SN Attr  VSize VFree"},{"href":"/docs/linux/storage-management/LVM","content":"sudo lvresize -L 50G devmy_volumepartition2","title":"Create a Logical Volume (LV). It should have these properties:"},{"href":"/docs/linux/storage-management/LVM","content":"sudo lvresize -l 100VG devmy_volumepartition2","title":"Resize the Logical Volume called `smalldata` to `1 Gigabyte`. This logical volume resides on group `volume1`."},{"href":"/docs/linux/storage-management/LVM","content":"display logical volume","title":"Create an `XFS` filesystem on the logical volume called smalldata."},{"href":"/docs/linux/storage-management/LVM","content":"sudo lvscan lvdisplay 직관적이고 유연하게 스토리지를 관리할 수 있습니다 위 정보로 xfs 파일시스템을 생성하고 마운트하면 됩니다 bash","title":"Destroy/Remove the Logical Volume called `smalldata`."},{"href":"/docs/linux/storage-management/LVM","content":"create xfs file system","title":"list of file system"},{"href":"/docs/linux/storage-management/LVM","content":"sudo mkfsxfs devmy_volumepartition2","title":"remove logical volume"},{"href":"/docs/linux/storage-management/RAID","content":"What is RAID","title":"What is RAID?"},{"href":"/docs/linux/storage-management/RAID","content":"RAID는 Redundant Array of Independent Disks의 약자로 여러 개의 하드디스크를 하나로 묶어서 사용하는 기술이다 만약 Disk A 1TB와 B 1TB가 있고 우리는 15TB의 저장공간이 필요하다 하지만 어떠한 기기도 이러한 요구사항을 충족시키지 못하는 상황이다 이때 RAID 기술을 사용하면 A와 B를 2TB의 저장공간을 만들 수 있다 위 묶인 번들을 Array라고 부르며 추가 데이터를 목적으로 할 뿐 아니라 Level에 따라 데이터의 안정성 가용성을 높일 시작하기전에 범용적으로 사용되는 패리티코드와 해밍코드에 대해 알아보자","title":"패리티 코드(Parity Code)"},{"href":"/docs/linux/storage-management/RAID","content":"패리티 코드Parity Code","title":"해밍 코드(Hamming Code)"},{"href":"/docs/linux/storage-management/RAID","content":"패리티 비트는 오류를 검출하기 위해 존재한다 하나의 문자 또는 수는 8비트로 표현된다 8비트는 ASCII Code7비트와 Parity Code1비트로 구성되어 있다 Linux storage 관리에서 추가 정보 즉 재구축에 사용할 수 있는 작은 백업으로 생각할 있습니다 비트의 위치는 가장 끝에 ex A65 1000001 비트 홀수 10000011 짝수 0 1 코드 코드에서는 데이터에 포함된 1의 개수가 홀수가 되도록 비트를 설정합니다 예를 들어 데이터가 1001인 경우 1을 추가하여 10011이 됩니다 만약 데이터 전송 과정에서 1비트 오류가 발생하여 10111로 변형된다면 수신 측에서는 짝수가 되었음을 확인하고 발생했다는 것을 알 2 마찬가지로 코드는 0을 10010이 --- 주의 오류만 검출할 있으며 2비트 이상의 오류는 검출하지 못합니다 또한 자체에 발생하는 경우에도 감지하지 못할","title":"RAID Level"},{"href":"/docs/linux/storage-management/RAID","content":"해밍 코드Hamming Code","title":"mdadm"},{"href":"/docs/linux/storage-management/RAID","content":"패리티 코드는 오류를 검출만 가능했지만 해밍 오류 발생 위치까지 파악하여 데이터를 복구할 수 있습니다 예시 1 데이터 비트 1001 2 체크 2개 추가 100111 3 2의 거듭제곱 번째 4 8 의 1의 개수가 홀수인지 짝수인지 확인 - 비트3 5 7 11","title":"Modes"},{"href":"/docs/linux/storage-management/RAID","content":"RAID 레벨06은 데이터를 관리하는 방식을 의미한다 RAID1 RAID5 RAID6 등 1 RAID0 균등히 나누어 저장하는 방식 2 하드디스크의 용량을 합친 용량만큼 사용할 수 있다 3 하나의 디스크가 고장나면 모든 데이터가 손실된다 4 stripe set 또는 striped volume이라고도 불린다 5 패리티 비트httpsenwikipediaorgwikiParity_bit 중복성 및 내결함성httpsenwikipediaorgwikiFault_tolerance이 없습니다 두 개 이상의 디스크에 동시에 쓰기 성능보다 읽기 속도와 안정성에 강하다 고장나도 다른 남아있어 복구가 가능하다 용량은 디스크 비트 미사용 RAID2 나누어순환 spin 저장 ECC오류 검출 수정을 위한 Hamming codehttpsenwikipediaorgwikiHamming_code를 추가로 방식으로 비트를 사용하지 않는다 안정성을 둘 다 고려한 방식이다 ECC 코드를 이용하여 복구할 RAID3 byte 단위로 스트라이프여러 걸쳐 블록을 일반적으로 여러 요청을 처리할 이는 단일 데이터 블록이 정의에 따라 세트의 구성원에 분산되고 각 디스크의 동일한 물리적 위치에 상주하기 때문에 발생합니다 실제로는 사용되지 전용 디스크를 사용 RAID4 block 스트라이프 random readwrite 성능이 높다 블록단위로 저장되기 때문 6 저장하고 정보8bit 1bitparity - 전송 성공여부 를 함께 분산 정보를 하나만 이어야함 ㅋㅋ 드라이브에 오류가 발생하면 손실되지 않도록 패리티에서 후속 읽기를 계산할 있습니다 손실되더라도 나머지 디스크에는 여전히 일부 패리티가 남아 그리고 이러한 패리티를 사용하여 첫 번째 디스크에서 손실된 재구축할 5에는 3개 이상 필요합니다 1테라바이트의 3개가 있으면 2테라바이트의 가능한 공간을 얻게 됩니다 코드는 033TB 씩 저장됩니다 1TB의 10개가 있다면 9TB의 7 RAID5와 비슷하지만 개의 디바이스에 높인 즉 4개 필요하다 8 RAID10 10 레벨 1과 0을 결합한 0에서는 2개의 1테라바이트 array로 이어질 레벨1을 적용하여 array가 array와 저장하도록 합니다 결합하여 적은양의 증분효과를 얻지만 높일 위처럼 레벨의 특성을 고려하여 설계하여 사용해야한다","title":"stop and deactivate the RAID device"},{"href":"/docs/linux/storage-management/RAID","content":"mdadmmanage Multiple Devices devices aka Linux Software RAID는 리눅스에서 소프트웨어 레벨에서 RAID를 관리하는데 사용되는 도구이다 bash mdadm mode raiddevice options component-devices","title":"if you want to remove a disk"},{"href":"/docs/linux/storage-management/RAID","content":"- --create 새로운 RAID array를 생성합니다 --assemble 이전에 생성된 재조립합니다 --build 생성하지 않고 디스크를 검사합니다 --grow array의 크기를 변경합니다 --manage 관리를 합니다 --monitor 모니터링을 --misc 기타 명령어를 실행합니다 --incremental 증분을","title":"RAID 네임과 디바이스를 확인할 수 있다."},{"href":"/docs/linux/storage-management/RAID","content":"- --level RAID 레벨을 설정합니다 --raid-devices array에 사용할 디스크의 개수를 --spare-devices 스페어 --bitmap 비트맵을 --name array의 이름을 --homehost 호스트 --uuid UUID를 Lets jump to the commands --- 만약 이전시에 LVM을 사용했다면 devvdc devvdd devvde 디스크를 release 해주자 bash sudo vgremove --force my_volume pvremove create a devmd0 device with RAID0 level and 3 disks mdadm --create --verbose --level0 --raid-devices3 합쳐진 디스크는 일반 디스크와 동일하게 수 있다 mkfsext4","title":"Create a level 1 RAID array, at `/dev/md0`, with two devices: `/dev/vdc` and `/dev/vdd`."},{"href":"/docs/linux/storage-management/RAID","content":"stop and deactivate the RAID device","title":"Add another device, /dev/vde, to the previously created array, /dev/md0."},{"href":"/docs/linux/storage-management/RAID","content":"sudo mdadm --stop devmd0 그러나 Linux가 부팅되면 모든 장치의 슈퍼 블록super block을 검색합니다 간단히 말해서 장치에 속해 있는 정보가 있는지 확인하려고 시도합니다 이경우 시스템에 의해 devmd1 devmd2 devmd3 등의 장치가 생성될 수 있습니다 이를 방지하기 위해 생성시 --zero-superblock 옵션을 사용하여 슈퍼블록을 제거할 bash devvdc devvdd devvde 이제 RAID1과 같이 미러링 데이터에 대해 살펴보자 어느 날 디스크가 오작동하고 데이터가 손실되었다 다행히 다른 하나는 여전히 잘 작동하므로 그대로 남아있다 make RAID1 --create --verbose --level1 --raid-devices2 --spare-devices1 운영체제는 특정 손실되었을 때 --spare-devices 인 devvde를 데이터를 복구할 있다","title":"Reference"},{"href":"/docs/linux/storage-management","content":"- POSIXPortable Operating System Interface","title":"posixportable-operating-system-interface)"},{"href":"/docs/linux/storage-management","content":"posixportable-operating-system-interface","title":"ext-파일-시스템2-3-4-포함)"},{"href":"/docs/linux/storage-management","content":"- EXT 파일 시스템2 3 4 포함","title":"mount)"},{"href":"/docs/linux/storage-management","content":"ext-파일-시스템2-3-4-포함","title":"du)"},{"href":"/docs/linux/storage-management","content":"- LVMLogical Volume Manager","title":"free--현재-메모리상태-확인)"},{"href":"/docs/linux/storage-management","content":"lvmlogical-volume-manager","title":"스왑-중지)"},{"href":"/docs/linux/storage-management","content":"- Partition","title":"부팅시-생성한-swap-영역을-자동으로-설정)"},{"href":"/docs/linux/storage-management","content":"- free 현재 메모리상태 확인","title":"find-out-the-swapfile-used-on-this-system-and-save-its-exact-path-in-homebobswap-file)"},{"href":"/docs/linux/storage-management","content":"free--현재-메모리상태-확인","title":"create-three-primary-partitions-on-devvdb)"},{"href":"/docs/linux/storage-management","content":"- 부팅시 생성한 swap 영역을 자동으로 설정","title":"increase-the-existing-swap-ie-swapfile-size-by-1gb)"},{"href":"/docs/linux/storage-management","content":"부팅시-생성한-swap-영역을-자동으로-설정","title":"resize-the-devvdb3-partition-which-you-created-earlier-to-21mb)"},{"href":"/docs/linux/storage-management","content":"- Configure systems to mount file at boot by Universally Unique ID UUID or label","title":"create-an-ext4-filesystem-with-a-number-of-2048-inodes-on-devvdc)"},{"href":"/docs/linux/storage-management","content":"configure-systems-to-mount-file-systems-at-boot-by-universally-unique-id-uuid-or-label","title":"configure-the-system-to-automatically-mount-devvdc-when-it-boots-up-this-partition-has-an-ext4-filesystem-on-it)"},{"href":"/docs/linux/storage-management","content":"- How do we display block devices such as disks or partitions","title":"EXT 파일 시스템(2, 3, 4 포함)"},{"href":"/docs/linux/storage-management","content":"how-do-we-display-block-devices-such-as-disks-or-partitions","title":"Mount"},{"href":"/docs/linux/storage-management","content":"- How do we format a partition as swap space","title":"report file system space usage"},{"href":"/docs/linux/storage-management","content":"how-do-we-format-a-partition-as-swap-space","title":"T: print file system type"},{"href":"/docs/linux/storage-management","content":"- Identify the partition name of virtual disk where is mounted on this system","title":"example"},{"href":"/docs/linux/storage-management","content":"identify-the-partition-name-of-the-virtual-disk-where--is-mounted-on-this-system","title":"findmnt는 마운트된 모든 파일 시스템을 나열하거나 시스템. findmnt 명령은 /etc/fstab에서 검색할 수 있습니다."},{"href":"/docs/linux/storage-management","content":"- Find out the swapfile used on this system and save its exact path in homebobswap file","title":"example"},{"href":"/docs/linux/storage-management","content":"- Create three primary partitions on devvdb","title":"Example"},{"href":"/docs/linux/storage-management","content":"create-three-primary-partitions-on-devvdb","title":"example"},{"href":"/docs/linux/storage-management","content":"- Delete th 10MB partition on devvdb","title":"example"},{"href":"/docs/linux/storage-management","content":"delete-th-10mb-partition-on-devvdb","title":"LVM(Logical Volume Manager)"},{"href":"/docs/linux/storage-management","content":"- Format the 21MB partition as swap Next make it active tell Linux to start using memory","title":"Partition"},{"href":"/docs/linux/storage-management","content":"format-the-21mb-partition-as-swap-next-make-it-active-tell-linux-to-start-using-it-as-swap-memory","title":"show example"},{"href":"/docs/linux/storage-management","content":"- Increase the existing swap ie swapfile size by 1GB","title":"example 1"},{"href":"/docs/linux/storage-management","content":"increase-the-existing-swap-ie-swapfile-size-by-1gb","title":"example 2"},{"href":"/docs/linux/storage-management","content":"- Resize the devvdb3 partition which you created earlier to 21MB","title":"example1"},{"href":"/docs/linux/storage-management","content":"resize-the-devvdb3-partition-which-you-created-earlier-to-21mb","title":"Partition Table"},{"href":"/docs/linux/storage-management","content":"- What file do we need to edit tell the Linux OS which filesystems it should automatically mount when boots up","title":"example2"},{"href":"/docs/linux/storage-management","content":"what-file-do-we-need-to-edit-to-tell-the-linux-os-which-filesystems-it-should-automatically-mount-when-it-boots-up","title":"Partition Table"},{"href":"/docs/linux/storage-management","content":"- Create an xfs filesystem with the label DataDisk on devvdb","title":"cfdisk"},{"href":"/docs/linux/storage-management","content":"create-an-xfs-filesystem-with-the-label-datadisk-on-devvdb","title":"Swap"},{"href":"/docs/linux/storage-management","content":"- Create an ext4 filesystem with a number of 2048 inodes on devvdc","title":"Command"},{"href":"/docs/linux/storage-management","content":"create-an-ext4-filesystem-with-a-number-of-2048-inodes-on-devvdc","title":"free = 현재 메모리상태 확인"},{"href":"/docs/linux/storage-management","content":"- Configure the system to automatically mount devvdc when it boots up This partition has an ext4 filesystem on","title":"스왑 중지"},{"href":"/docs/linux/storage-management","content":"configure-the-system-to-automatically-mount-devvdc-when-it-boots-up-this-partition-has-an-ext4-filesystem-on-it","title":"부팅시 생성한 swap 영역을 자동으로 설정"},{"href":"/docs/linux/storage-management","content":"- Change the label for devvdb filesystem to SwapFS","title":"부팅시 읽어오는 파티션 정보를 수정하자."},{"href":"/docs/linux/storage-management","content":"change-the-label-for-devvdb-filesystem-to-swapfs","title":"Usage"},{"href":"/docs/linux/storage-management","content":"2TB Solid State DriveSSD가 있다고 상상해 보세요 그 위에 window linux 배포판 모두 설치하고 싶습니다 하지만 한개의 OS만 설치할 수 있습니다ㅠㅠ 파일 시스템도 문제입니다 Windows는 NTFS 시스템을 사용하고 Linux는 다른 ext4extended file system 4또는 xfs 사용하기 때문이죠 우리는 SSD의 저장 공간을 간단히 나눌 있습니다 윈도우용으로 1TB 리눅스용으로 1TB를 할당하여 각각의 운영 체제를 이러한 방식으로 스토리지 장치를 분할하는 것을 파티션이라고 합니다","title":"Configure systems to mount file at boot by Universally Unique ID (UUID) or label"},{"href":"/docs/linux/storage-management","content":"POSIXPortable Operating System Interface","title":"Mounting"},{"href":"/docs/linux/storage-management","content":"Unix 의 발전에 따라 다양한 계열 운영 체제가 등장했습니다 여러 소프트웨어가 그러하듯 Unix도 표준화가 필요했습니다 그래서 IEEEInstitute of Electrical and Electronics Engineers는 1988년에 POSIX 표준을 발표했습니다 이후 등장한 Linux macOS Solaris AIX HP-UX 등의 체제는 준수합니다","title":"apply changes"},{"href":"/docs/linux/storage-management","content":"EXT 파일 시스템2 3 4 포함","title":"Practice"},{"href":"/docs/linux/storage-management","content":"EXT는 Linux의 가장 대표적인 파일 시스템입니다 탄생에 많은 영향을 끼쳤던 초기 유닉스 계열 운영체제 중 하나인 MINIX에서 사용하던 시스템에서 이름과 크기의 한계를 보완하며 설계되었습니다 디스크에서 시스템은 파티션 당 하나씩 생성됩니다 파티션에 EXT2를 구축하면 파티션은 다수의 블록 그룹Block Group으로 나뉩니다 각 그룹은 블록Block으로 블록은 파일이나 디렉터리를 저장하는 데 사용됩니다","title":"How do we display block devices, such as disks or partitions?"},{"href":"/docs/linux/storage-management","content":"리눅스에서 mount란 물리논리 장치device를 파일 시스템의 일부로 연결하는 것을 의미합니다 파티셔닝 가상화 보안 네트워킹 등이 적용된 디바이스들은 어떤 파일시스템ext4 xfs 으로 포맷되어 마운트될 수 있습니다 보통 장치는 dev 디렉토리에 위치합니다 bash ls - devmapper 암호화된 디바이스와 매핑된 디바이스가 여기에 devvda 파티션되지 않은 디스크 devvda1 첫 번째 파티션 sudo mount -t nfs 1921680103nfs_shared nfs_shared 아래 명령어를 통해 마운트된 장치를 확인할","title":"Identify the partition name of virtual disk where / is mounted on this system."},{"href":"/docs/linux/storage-management","content":"report file system space usage","title":"Find out the swapfile used on this system and save its exact path in `/home/bob/swap` file."},{"href":"/docs/linux/storage-management","content":"T print file system type","title":"Delete th `10MB` partition on `/dev/vdb`"},{"href":"/docs/linux/storage-management","content":"Filesystem Type Size Used Avail Use Mounted on udev devtmpfs 19G 18G 01G 99 dev","title":"Resize the /dev/vdb3 partition (which you created earlier) to 21MB."},{"href":"/docs/linux/storage-management","content":"findmnt는 마운트된 모든 파일 시스템을 나열하거나 시스템 findmnt 명령은 etcfstab에서 검색할 수 있습니다","title":"What file do we need to edit tell the Linux OS which filesystems it should automatically mount when boots up?"},{"href":"/docs/linux/storage-management","content":"TARGET SOURCE FSTYPE OPTIONS devnvme0n1p3 ext4 rwrelatimeerrorsremount-ro sys sysfs rwnosuidnodevnoexecrelatime syskernelsecurity securityfs sysfscgroup tmpfs ronosuidnodevnoexecmode755 sysfscgroupunified cgroup2 rwnosuidnodevnoexecrelatimensdelegate sysfscgroupsystemd cgroup rwnosuidnodevnoexecrelatimexattrnamesystemd sysfsbpf bpf rwnosuidnodevnoexecrelatimemode700","title":"Configure the system to automatically mount `/dev/vdc` when it boots up. This partition has an `ext4` filesystem on it."},{"href":"/docs/linux/storage-management","content":"du 명령어는 디렉토리의 디스크 사용량을 확인하는데 사용됩니다 사용법은 OPTION FILE 입니다 - -h 사람이 읽기 쉬운 형식으로 출력합니다 -s 총 합계를 summarize max-depthN 최대 깊이를 설정합니다 --all 디렉토리뿐 아니라 파일도 모두","title":"Change the label for `/dev/vdb` filesystem to SwapFS"},{"href":"/docs/linux/storage-management","content":"bash du -h --max-depth1 etc","title":"if xfs"},{"href":"/docs/linux/storage-management/encrypt","content":"Create and configure encrypted storage","title":"Create and configure encrypted storage"},{"href":"/docs/linux/storage-management/encrypt","content":"리눅스환경에서 디스크를 암호화하는 방법에 대해 알아보자 사실 직무 관계 없이 보안을 고려해야 할 사항들은 갑자기 나타난다 안드로이드 App을 앱스토어에 등록하면 keystore를 비롯해 여러 key들을 관리해야하고 ssh key를 관리 한다던가 API 관리하다던가 대부분 로컬에 저장되어야 한다 자 우린 팀원들을 못믿는게 아니라 사고를 방지할 뿐이다 ㅎㅎ 반드시 설명하자","title":"왜 디스크를 암호화 해야 하는가?"},{"href":"/docs/linux/storage-management/encrypt","content":"왜 디스크를 암호화 해야 하는가","title":"어떻게 암호화 하는가?"},{"href":"/docs/linux/storage-management/encrypt","content":"어떻게 암호화 하는가","title":"cryptsetup"},{"href":"/docs/linux/storage-management/encrypt","content":"리눅스에서는 여러가지 방법으로 디스크를 암호화 할 수 있다 LUKSLinux Unified Key Setup dm-crypt eCryptfs EncFS 등등 많지만 우선 cryptsetup을 사용할 것입니다","title":"Luks(Linux Unified Key Setup) Extension"},{"href":"/docs/linux/storage-management/encrypt","content":"1 disk 혹은 partition을 선정한다 using cfdisk fdisk gdisk parted 2 cryptsetup을 사용하여 디스크를 암호화한다 plain cryptsetup --verify-passphrase open --type devvde mysecuredisk LUKS luksFormat 3 암호화된 매핑 파일시스템을 생성하고 마운트한다 mkfsxfs devmappermysecuredisk mount mntmysecuredisk 4 닫는다 close umount","title":"by reading that header cryptsetup can automatically detect the encryption type."},{"href":"/docs/linux/storage-management/encrypt","content":"cryptsetup은 리눅스 커널에 매핑된 블록 device 디스크를 암호화하기 위한 인터페이스를 제공하는 유틸리티이다 bash sudo cryptsetup --verify-passphrase open --type plain devvde mysecuredisk - 암호를 두번 입력하게 한다 암호화 타입을 지정한다 열어준다 디스크 이름 이제 사용하여 파일시스템을 생성하고 마운트하면 된다 mkfsxfs devmappermysecuredisk mount mntmysecuredisk 파일시스템은 마운트된 디스크에 읽기 쓰기 작업을 할 때 동일한 signal을 보내지만 내부적으로는 하여 쓰고 해독하여 읽는다 한마디로 fake 만들어서 암호화된 접근하는 것이다 그럼 허점이 있다는 걸 알 수 있다 이상 정보는 평문이다 반드시 아래 명령어로 닫아주자 umount close format 말고 다른 방식을 사용해보자","title":"`/dev/vde`를 암호화된 디스크로 설정합니다."},{"href":"/docs/linux/storage-management/encrypt","content":"LuksLinux Unified Key Setup Extension","title":"list of encrypted disk"},{"href":"/docs/linux/storage-management/encrypt","content":"하드 디스크 암호화의 표준입니다 파티션 헤더와 대량 데이터 형식을 표준화합니다 LUKS는 효과적으로 취소할 수 있고 PBKDF2를 사용한 사전 공격으로부터 보호되는 여러 암호를 관리할 있습니다 bash sudo cryptsetup luksFormat devvde tap benchmark isLuks luksDump luksHeaderRestore luksResume open status close luksAddKey luksKillSlot luksSuspend repair tcryptDump erase luksChangeKey luksHeaderBackup luksRemoveKey luksUUID resize for change password dev use to check the of disk","title":"create file system"},{"href":"/docs/linux/storage-management/encrypt","content":"a very small block of data to the storage device called header and","title":"secretdisk라는 암호화되지 않은 매핑된 장치를 닫습니다."},{"href":"/docs/linux/storage-management/encrypt","content":"by reading that header cryptsetup can automatically detect the encryption type","title":"Now `/dev/vde` is formatted to be used with LUKS encryption."},{"href":"/docs/linux/storage-management/encrypt","content":"sudo cryptsetup open devvde mysecuredisk mkfsxfs devmappermysecuredisk mount mntmysecuredisk umount close","title":"Reference"},{"href":"/docs/linux/storage-management/monitoring-NBD","content":"Network block device","title":"Network block device"},{"href":"/docs/linux/storage-management/monitoring-NBD","content":"network block device NBD is a protocolhttpsenwikipediaorgwikiNetwork_protocol that can be used to forward devicehttpsenwikipediaorgwikiDevice_node typically hard disk or partition from one machine second As an example local access drive attached another computer remote storage does not physically reside in the 기술적으로 네트워크 블록 장치는 서버 부분 클라이언트 이들 사이의 네트워크라는 세 가지 구성 요소로 구현됩니다 파일 디바이스가 있는 시스템에서 파일에 접근할때커널 드라이버가 장치를 제어합니다 데이터가 물리적으로 상주하는 시스템 클라이언트의 요청은 사용자 공간 프로그램에 의해 처리됩니다 --- NBD는 클라이언트서버 아키텍처에 따라 작동합니다 서버를 사용하여 호스트에서 볼륨을 장치로 사용할 수 있게 만든 다음 클라이언트를 실행하여 다른 해당 볼륨에 연결합니다","title":"ServerSide"},{"href":"/docs/linux/storage-management/monitoring-NBD","content":"serverIP 1921681100","title":"Export device"},{"href":"/docs/linux/storage-management/monitoring-NBD","content":"Setup server","title":"Export img file"},{"href":"/docs/linux/storage-management/monitoring-NBD","content":"bash apt-get install nbd-server modprobe nbd after installation you can begin to export a device or file now - 모듈리눅스 커널의 확장 프로그램을 로드하거나 언로드하는 명령어입니다","title":"ClientSide"},{"href":"/docs/linux/storage-management/monitoring-NBD","content":"Export device","title":"Setup client"},{"href":"/docs/linux/storage-management/monitoring-NBD","content":"Example export ServerSide Disk Device like devsda on port 9999 bash nbd-server","title":"Mount"},{"href":"/docs/linux/storage-management/monitoring-NBD","content":"Export img file","title":"Monitoring storage"},{"href":"/docs/linux/storage-management/monitoring-NBD","content":"Example export ServerSide img file like vmdiskimg on port 9998 bash nbd-server pathtovmdiskimg over NDB can be useful if youre working with virtual disk images for example","title":"setup"},{"href":"/docs/linux/storage-management/monitoring-NBD","content":"clientIP 1921681200","title":"`kB_dscd`: 버퍼 캐시에 저장된 데이터를 버리는 횟수"},{"href":"/docs/linux/storage-management/monitoring-NBD","content":"Setup client","title":"please delete me"},{"href":"/docs/linux/storage-management/monitoring-NBD","content":"On the client machine that we want to use connect NBD export just created first need install package with bash apt-get nbd-client modprobe - 모듈리눅스 커널의 확장 프로그램을 로드하거나 언로드하는 명령어입니다 명령어는 모듈을 로드합니다 이 로드하고 모듈은 클라이언트 시스템에서 네트워크 블록 장치를 사용할 수 있게 해줍니다","title":"Reference"},{"href":"/docs/linux/user-group/ACL","content":"What is ACL","title":"What is ACL"},{"href":"/docs/linux/user-group/ACL","content":"ACL은 Access Control List의 약자로 파일이나 디렉토리에 대한 접근 권한을 설정하는 기능이다 리눅스에서는 기본적으로 사용자 그룹 기타 사용자에 설정할 수 있지만 ACL을 사용하면 더 세밀한 있다 만약 소유자 뿐 아니라 sp 사용자에게 읽기 부여하고 싶다면 이때 된다 파일 시스템에 따라 지원 여부가 다르다 리눅스에서 ext xfs 시스템은 지원하니 안심하자","title":"Access Check Algorithm"},{"href":"/docs/linux/user-group/ACL","content":"Access Check Algorithm","title":"Install"},{"href":"/docs/linux/user-group/ACL","content":"ACL_MASK ACL_USER ACL_GROUP_OBJ 또는 ACL_GROUP 유형의 항목에 의해 부여될 수 있는 최대 액세스 권한을 나타냅니다 한정자qualifier 는 태그 유형이 각각 ACL_GROUP인 대해 사용자 그룹의 식별자를 1 액세스를 요청한 process 의 uid가 파일의 소유자 uid와 일치하는지 확인한다 then ACL_USER_OBJ 요청된 권한이 포함되어 있으며 액세스가 허용됩니다 2 else 다음 단계로 이동 프로세스의 uid 가 유형 항목의 한정자qualifierof와 일치하는 경우 항목과 있으면 3 유효effective 그룹 ID 보조supplementary 중 하나가 파일 한정자와 비교 ACL_OTHER","title":"Set ACL to file or directory"},{"href":"/docs/linux/user-group/ACL","content":"acl 패키지를 설치하자 bash sudo dnf install apt","title":"Options"},{"href":"/docs/linux/user-group/ACL","content":"Set ACL to file or directory","title":"Output format"},{"href":"/docs/linux/user-group/ACL","content":"setfacl 명령어를 사용하여 ACL을 설정할 수 있다 bash option userpermission file or directory acl path -bkndRLPvh -m-x acl_spec -M-X acl_file --restorefile -m modify 생성 -x 삭제 -b 초기값모든권한 초기상태 권한 및 mask 등 지정한 권한을 전부 제거 -R recursive 디렉터리의 경우 하위 디렉터리와 파일까지 변경 -k default uuser ggroup oother ddefault uusernamerwx 사용자 ggroupnamerwx 그룹 orwx Other dugorwx ex uuserrw rootfile1 sp에게 mntbackupsp 디렉토리 전체에대한 읽기 부여하고 싶다면 sudo --recursive uspr 다시 디렉토리만 쓰기 --modify usersprw group family 에게 디렉토리에 대한 gfamilyr etchosts 파일에 groupfamilyw user sp의 삭제하고 --remove usp","title":"file: somedir/"},{"href":"/docs/linux/user-group/ACL","content":"위 명령어들을 다루고나면 ls 명령어를 사용하여 ACL을 확인할 수 있다 bash -l etchosts -rw-rw-r-- 1 root 0 Apr 19 2344 기호가 보이는 것을 이것은 ACL이 설정되어 있다는 의미한다 확인하려면 getfacl 사용하자 각 파일에 대해 getfacl은 파일 이름 소유자 그룹 및 ACL액세스 제어 목록을 표시합니다 디렉토리에 기본 있는 경우 ACL도 디렉터리가 아닌 경우에는 가질 없습니다 지원하지 않는 시스템에서 getfacl을 사용하는 기존 모드 권한 비트로 정의된 액세스 권한을 option file or directory ex mntbackupsp","title":"group: staff"},{"href":"/docs/linux/user-group/ACL","content":"-R recursive 디렉터리의 경우 하위 디렉터리와 파일까지 권한 확인 -a --access Display the file access control list -d --default default -c --omit-header Do not display comment header first three lines of each files output -e --all-effective Print all effective rights comments even if identical to defined by ACL entry -E --no-effective print -s --skip-base Skip that only have base entries owner group others --recursive List ACLs and directories recursively -L --logical Logical walk follow symbolic links The behavior is link arguments skip encountered in subdirectories Only combination with -P --physical Physical do This also skips -t --tabular Use an alternative tabular format are displayed side Permissions ineffective due mask capitalized tag names for ACL_USER_OBJ ACL_GROUP_OBJ capital letters which helps spotting those -p --absolute-names strip leading slash characters -n --numeric numeric user IDs -v --version version getfacl exit -h --help help explaining command line options","title":"effective:r-x"},{"href":"/docs/linux/user-group/ACL","content":"Output format","title":"effective:r-x"},{"href":"/docs/linux/user-group/ACL","content":"file somedir","title":"chattr"},{"href":"/docs/linux/user-group/ACL","content":"group staff","title":"list of attributes"},{"href":"/docs/linux/user-group/ACL","content":"5 userrwx 6 userjoerwx","title":"In your home directory you will find a file named `specialfile`. Add an ACL permission to this so that the user called john can read and write it."},{"href":"/docs/linux/user-group/ACL","content":"effectiver-x","title":"file: specialfile"},{"href":"/docs/linux/user-group/ACL","content":"effectiver-x","title":"group: bob"},{"href":"/docs/linux/user-group/ACL","content":"8 groupcoolr-x 9 maskr-x 10 otherr-x 11 defaultuserrwx 12 defaultuserjoerwx","title":"To the file called specialfile add an ACL permission for group mail. The mail should get permissions to read and execute this file."},{"href":"/docs/linux/user-group/ACL","content":"effectiver-x","title":"file: specialfile"},{"href":"/docs/linux/user-group/ACL","content":"13 defaultgroupr-x 14 defaultmaskr-x 15 defaultother--- 1 파일 이름 2 소유자 3 그룹 4 flags setuid들 setgid들 및 고정t 비트를 나타냅니다 5 7m 10 모드 권한 비트의 사용자 기타 필드에 응답합니다 이 세 가지를 기본 ACL 항목이라고 합니다 6 8행은 특정named 항목입니다 9행은 유효 마스크입니다 항목은 모든 특정 사용자에게 부여된 권한을 제한합니다그이상 줄 수 없음 11행 이후는 이러한 디렉터리에 대한 ACL을","title":"owner: bob"},{"href":"/docs/linux/user-group/ACL","content":"change file attributes on a Linux system","title":"Remove the file called specialfile from your home directory. You will notice that not even sudo rm can remove this file. That's because is currently immutable. immutable flag it and then delete"},{"href":"/docs/linux/user-group/LDAP","content":"What is LDAP","title":"What is LDAP?"},{"href":"/docs/linux/user-group/LDAP","content":"LDAPLightweight Directory Access Protocol 는 디렉터리 서비스를 위한 프로토콜이다 서비스는 사용자 그룹 서비스등의 정보를 저장하고 검색하기 서비스이다","title":"Architecture"},{"href":"/docs/linux/user-group/LDAP","content":"Architecture","title":"LDAP Server"},{"href":"/docs/linux/user-group/LDAP","content":"LDAP Server","title":"Client"},{"href":"/docs/linux/user-group/LDAP","content":"- host 1921680103","title":"Configure LDAP Server"},{"href":"/docs/linux/user-group/LDAP","content":"- host 1921680102","title":"Edit default configuration"},{"href":"/docs/linux/user-group/LDAP","content":"Directory Information TreeDIT","title":"Add the following lines"},{"href":"/docs/linux/user-group/LDAP","content":"- LDAP 서버에 저장된 데이터의 계층적 구조를 나타내는 트리 구조 각 노드는 entry라고 불리는 객체를 가지고 있다 entry는 attribute와 value로 구성되어 attribute는 value의 집합이며 objectClass를 포함한다 objectClass는 entry의 타입을 나타낸다 dnDistinguished Name으로 식별된다 dc도메인 컴포넌트는 트리의 루트를 컴포넌트이다 여러 개의 dc를 사용하여 내에 도메인을 만들 수 있습니다 cn커먼 네임은 노드를 CN은 항목을 식별하는 데 사용되는 고유한 이름입니다 사용자 이름 그룹 또는 호스트 이름과 같은 항목과 관련된 의미 있는 이름을 포함해야 합니다 cn을 단일 식별할 snsuffix name은 사용자의 성을 사용됩니다 givenName은 uid사용자 ID는 고유 식별자를 gid그룹 그룹의 ou조직 단위는 조직의 단위를 mail은 이메일 주소를 l로케이션은 위치를 st주는 주를 c국가는 국가를 telephoneNumber는 전화 번호를 homeDirectory는 홈 디렉터리를 objectClass inetOrgPerson 사용자를 organizationalUnit 조직을 loginShell 로그인 쉘을 EXAMPLE dcabacusdccodckr는 abacus라는 cokr cnadmindcabacusdccodckr는 abacus 관리자를 cndeveloperdcconvergencedcabacusdccodckr는 그룹을","title":"Configuring the root user"},{"href":"/docs/linux/user-group/LDAP","content":"Install OpenLDAP to server","title":"input adm"},{"href":"/docs/linux/user-group/LDAP","content":"bash sudo dnf -y install openldap openldap-servers openldap-clients systemctl start slapdservice enable - LDAP 프로토콜을 지원하는 라이브러리 서버를 실행하는 데 필요한 파일일 slapd-utils 유틸리티","title":"Add the following lines"},{"href":"/docs/linux/user-group/LDAP","content":"Configure LDAP Server","title":"Add the following lines"},{"href":"/docs/linux/user-group/LDAP","content":"slapdconf - configuration file for slapd that stand-alone LDAP daemon 연결을 수신Default port 389하고 요청받은 작업에 응답합니다","title":"Add the following lines"},{"href":"/docs/linux/user-group/LDAP","content":"Configure OpenLDAP","title":"Add the following lines"},{"href":"/docs/linux/user-group/LDAP","content":"Edit default configuration","title":"dn: olcDatabase={2}mdb,cn=config"},{"href":"/docs/linux/user-group/LDAP","content":"고유 이름기본 DN이 포함된 BASE 및 LDAP 서버에 대한 정규화된 도메인 이름 또는 IP 주소가 URI입니다 bash sudo vi etcopenldapldapconf","title":"dn: cn=SejinPark,dc=abacus,dc=co,dc=kr"},{"href":"/docs/linux/user-group/LDAP","content":"Add the following lines","title":"loginShell: /bin/bash"},{"href":"/docs/linux/user-group/LDAP","content":"BASE dcabacusdccodckr URI ldapldapexamplecom ldapldap-masterexamplecom666 ldap1921680103 ldap1921680103666","title":"homeDirectory: /home/sejin"},{"href":"/docs/linux/user-group/LDAP","content":"Configuring the root user","title":"ldapsearch -x -b \"dc=abacus,dc=co,dc=kr\""},{"href":"/docs/linux/user-group/LDAP","content":"관리 작업을 수행하려면 LDAP의 루트 사용자를 변경해야 합니다 LDAP 항목에서는 이 olcRootDN이라고 etcldapslapdd 또는 etcopenldapslapdd 디렉토리의 LDIF 파일을 수동으로 편집하지 마십시오 1 create password bash","title":"extended LDIF"},{"href":"/docs/linux/user-group/LDAP","content":"slappasswd SSHA9k8oeC7gLrpFewe7W97Ji7chVhM1Blp 2 create rootpwldif bash vi","title":"base <dc=abacus,dc=co,dc=kr> with scope subtree"},{"href":"/docs/linux/user-group/LDAP","content":"Add the following lines","title":"filter: (objectclass=*)"},{"href":"/docs/linux/user-group/LDAP","content":"dn olcDatabase0configcnconfig changetype modify add olcRootPW SSHA9k8oeC7gLrpFewe7W97Ji7chVhM1Blp 3 Apply the changes bash ldapadd -Y EXTERNAL -H ldapi -f rootpwldif - Use SASL mechanism for authentication LDAP over IPC protocol to connect server Read data in LDIF format from file Add entries directory ldapmodify Modify --- 만약 ldap_modify Constraint violation 19 additional info attribute cannot have multiple values 이러한 에러가 발생한다면 파일의 key 를 replace 로 수정하고 명령어를 사용하여 변경해보자 4 basic Schema 가져오자 etcopenldapschemacosineldif etcopenldapschemanisldif etcopenldapschemainetorgpersonldif etcopenldapschemaopenldapldif etcopenldapschemadyngroupldif 5 서버에 대한 액세스를 구성하고 surffix 및 관리자를 구성합니다 sudo vi managerldif","title":"requesting: ALL"},{"href":"/docs/linux/user-group/LDAP","content":"Add the following lines","title":"abacus.co.kr"},{"href":"/docs/linux/user-group/LDAP","content":"dn olcDatabase2mdbcnconfig changetype modify replace olcSuffix dcabacusdccodckr olcRootDN cnManagerdcabacusdccodckr add olcRootPW SSHA9k8oeC7gLrpFewe7W97Ji7chVhM1Blp etcopenldapslapddcnconfigolcDatabase2mdbldif 이 없을 수 있다 적절한 파일명을 넣어주자 no such object 32 에러가 발생한다면 olcDatabase2mdbldif 파일을 찾아서 반영 bash ldapmodify -Y EXTERNAL -H ldapi -f managerldif 1 LDIF 생성하여 조직 그룹을 생성합니다 sudo vi orgldif","title":"Manager, abacus.co.kr"},{"href":"/docs/linux/user-group/LDAP","content":"Add the following lines","title":"rpausers, abacus.co.kr"},{"href":"/docs/linux/user-group/LDAP","content":"dn dcabacusdccodckr objectClass top dcObject objectclass organization o Abacus RPA Server dc abacus cnManagerdcabacusdccodckr organizationalRole cn Manager description LDAP ouusersdcabacusdccodckr organizationalUnit ou rpaUsers 반영 bash ldapadd -x -D -W -f orgldif 비밀번호를 입력하라는 메시지가 표시됩니다 루트 사용자에 대해 정의한 일반 텍스트 입력하십시오 Enter Password ldap_bind Invalid credentials 49 에러가 발생시 hosts를 확인해보자 7 새로운 유저를 server에 등록합니다 먼저 사용할 유저의 암호화 해야합니다 slappasswd -h SSHA -s password SSHAv2JToQPeYErAEUvG2xQgRutfto0qWM 이제 ldif 파일을 생성하여 sudo vi addUserNameldif","title":"SejinPark, abacus.co.kr"},{"href":"/docs/linux/user-group/LDAP","content":"Add the following lines","title":"Configure LDAP Client"},{"href":"/docs/linux/user-group/LDAP","content":"dn cnSejin Parkcndeveloperouconvergencedcabacusdccodckr","title":"Configure LDAP client"},{"href":"/docs/linux/user-group/LDAP","content":"dn olcDatabase2mdbcnconfig","title":"Check LDAP server from client"},{"href":"/docs/linux/user-group/LDAP","content":"dn cnSejinParkdcabacusdccodckr","title":"ldapsearch"},{"href":"/docs/linux/user-group/LDAP","content":"dn dcabacusdccodckr changetype add uid 1501 objectClass inetOrgPerson organizationalPerson person top mail sejingmailcom","title":"Options"},{"href":"/docs/linux/user-group/LDAP","content":"loginShell binbash","title":"ldapadd"},{"href":"/docs/linux/user-group/LDAP","content":"homeDirectory homesejin","title":"Example"},{"href":"/docs/linux/user-group/LDAP","content":"cn SejinPark sn Park givenName Sejin telephoneNumber 010-1234-5678 userPassword SSHAv2JToQPeYErAEUvG2xQgRutfto0qWM 세진 유저를 등록합니다 bash ldapadd -D cnManagerdcabacusdccodckr -W -f addUserNameldif 잘 등록되었는지 확인합니다 ldapsearch -x -b dcabacusdccodckr","title":"Add user `admin` in `abacus.co.kr` with organization `convergence`"},{"href":"/docs/linux/user-group/LDAP","content":"ldapsearch -x -b dcabacusdccodckr","title":"Add user in domain `abacus.co.kr`"},{"href":"/docs/linux/user-group/LDAP","content":"extended LDIF","title":"Search all entries in abaucs.co.kr"},{"href":"/docs/linux/user-group/LDAP","content":"filter objectclass","title":"create ssh key (without passphrase)"},{"href":"/docs/linux/user-group/LDAP","content":"requesting ALL","title":"copy public key to managed node"},{"href":"/docs/linux/user-group/LDAP","content":"dn dcabacusdccodckr objectClass dcObject top organization o Abacus dc abacus","title":"append the following lines"},{"href":"/docs/linux/user-group/LDAP","content":"Manager abacuscokr","title":"Install Ansible"},{"href":"/docs/linux/user-group/LDAP","content":"dn cnManagerdcabacusdccodckr objectClass organizationalRole cn Manager description LDAP","title":"Check"},{"href":"/docs/linux/user-group/LDAP","content":"rpausers abacuscokr","title":"Setup Configuration"},{"href":"/docs/linux/user-group/LDAP","content":"dn ourpausersdcabacusdccodckr objectClass organizationalUnit ou rpaUsers","title":"ansible-configuration-settings"},{"href":"/docs/linux/user-group/LDAP","content":"SejinPark abacuscokr","title":"backup"},{"href":"/docs/linux/user-group/LDAP","content":"dn cnSejinParkdcabacusdccodckr uid 1501 objectClass inetOrgPerson organizationalPerson person top mail sejingmailcom cn SejinPark sn Park givenName Sejin telephoneNumber 010-1234-5678 userPassword e1NTSEF9YWVKQjM5MzVoTk1oazRaakMxMldtY01Fa1pFc2djVjM 이상 configuraion이 완료되었습니다 ---","title":"References"},{"href":"/docs/linux/user-group/LDAP","content":"Configure LDAP Client","title":"Ansible"},{"href":"/docs/linux/user-group/PAM","content":"PAMPluggable Authentication Modules은 GNULinux 시스템에서 많은 애플리케이션 또는 서비스가 사용자를 중앙집중식으로 인증할 수 있도록 하는 시스템입니다 관리자인 내가 왜 root 계정 사용시 비밀번호를 쳐야하는가 ㅋㅋ - PAM은 사용자 인증을 위한 모듈을 제공한다","title":"Show related manual"},{"href":"/docs/linux/user-group/PAM","content":"Show related manual","title":"Practice"},{"href":"/docs/linux/user-group/PAM","content":"bash apropos pam PAM 8 - Pluggable Authentication Modules for Linux config-util 5 Common configuration file utilities faillockconf pam_faillock fingerprint-auth PAMified services groupconf the pam_group module limitsconf pam_limits pamconf files pamd pam_access logdaemon style login access control pam_console determine user owning system console pam_console_apply set or revoke permissions users at PAM의 동작 원리는 다음과 같다 1 인증이 필요한 응용프로그램은 더 이상 etcpasswd 파일을 열람하지 않고 모듈에 사용자 인증을 요청한다 2 PAM은 요청한 사용자의 정보를 가지고 결과를 도출하여 응용프로그램에 전달한다 ---","title":"If our user has sudo privileges, how do we change the password for `root` account?"},{"href":"/docs/linux/user-group/PAM","content":"If our user has sudo privileges how do we change the password for root account","title":"Edit the `PAM configuration file` for `su` utility"},{"href":"/docs/linux/user-group/PAM","content":"bash sudo passwd root","title":"Add the following line to top of file"},{"href":"/docs/linux/user-group/PAM","content":"Where can we find PAM configuration files","title":"Add the following line to top of file"},{"href":"/docs/linux/user-group/PAM","content":"bash ls etcpamd cat etcpamconf","title":"Currently, when you use the su command it will ask for root's password to allow log in as user root. Modify PAM configuration so that no longer have type password."},{"href":"/docs/linux/user-group/PAM","content":"The root account is currently locked Use the correct command to unlock it","title":"Add the following line to top of file"},{"href":"/docs/linux/user-group/PAM","content":"bash sudo passwd --help Usage OPTION accountName -k --keep-tokens keep non-expired authentication tokens -d --delete delete the password for named account root only also removes lock if any -l --lock -u --unlock unlock 위 명령을 실행할 때 비밀번호를 입력하지 않아도 됩니다 어떻게 가능할까요","title":"Restrict the root access to SSH service via `PAM`"},{"href":"/docs/linux/user-group/PAM","content":"Edit the PAM configuration file for su utility","title":"Add the following line to file"},{"href":"/docs/linux/user-group/PAM","content":"this utility only accepts the requests from users that are part of wheel group bash sudo vi etcpamdsu","title":"Add the following line to top of file"},{"href":"/docs/linux/user-group/PAM","content":"Add the following line to top of file","title":"Reference"},{"href":"/docs/linux/user-group","content":"리눅스에서는 사용자와 그룹을 구분하여 관리한다 사용자는 파일이나 디렉토리에 대한 접근 권한을 가지고 있으며 그룹은 사용자를 묶어서 관리하는 역할을 한다 각각 고유한 식별 번호를 이를 UID와 GID라고","title":"관련 파일"},{"href":"/docs/linux/user-group","content":"etcgroup 파일에 기록되어 있으며 그룹에 속한 사용자는 파일에서 확인할 수 있다 etcshadow 있는 암호화된 비밀번호를 가지고 etcgshadow 그룹 사용자와 그룹은 etclogindefs etcdefaultuseradd","title":"사용자 추가"},{"href":"/docs/linux/user-group","content":"User 추가  삭제 수정","title":"specify the user's uid, gid"},{"href":"/docs/linux/user-group","content":"사용자를 추가하는 방법은 useradd 명령을 사용한다 명령은 추가할 때 필요한 파일을 생성하고 사용자의 홈 디렉토리를 생성한다기본적으로 home사용자이름 유저를 생성하면 해당 이름의 그룹도 생성된다 bash sudo 옵션 사용자이름","title":"사용자의 홈 디렉토리를 변경하고 싶다면 -d 옵션을 사용한다."},{"href":"/docs/linux/user-group","content":"specify the users uid gid","title":"잠금 처리"},{"href":"/docs/linux/user-group","content":"sudo useradd -u 1001 -g 1002 사용자이름 etcskel 디렉토리는 유저가 생성된후 홈 디렉토리가 생성될 때 기본적으로 복사되는 파일들이 저장되어 있는 디렉토리이다 etcdefaultuseradd 파일에 기록되어 암호화된 비밀번호를 가지고 있다 이처럼 유저의 기본 설정을 보고싶다면 아래 명령어를 실행해보자 bash --defaults GROUP100 HOMEhome INACTIVE-1 EXPIRE SHELLbinsh SKELetcskel CREATE_MAIL_SPOOLno cat etclogindefs 만약 디렉토리와 쉘을 지정하고 싶다면 아래와 같이 옵션을 추가한다 --home-dir home사용자이름 -s binbash 생성한 상세 정보는 etcpasswd사용자 이름 UID GID 디렉토리 쉘 정보 etcpasswd rootx00rootrootbinbash daemonx11daemonusrsbinusrsbinnologin binx22binbinusrsbinnologin testuserx10011002testuser must be delete after test is finishedhomeabacusbinbash dhjoex1002998homeabacusbinbash delimeter는 콜론이다 1번째는 사용자 2번째는 비밀번호 3번째는 4번째는 5번째는 user description or comment field 6번째는 7번째는 정보이다 passwd","title":"잠금 해제"},{"href":"/docs/linux/user-group","content":"사용자를 삭제하는 방법은 userdel 명령을 사용한다 bash sudo 사용자이름 사용자가 삭제되더라도 홈 디렉토리는 삭제되지 않는다 디렉토리까지 삭제하려면 -r 옵션을 우린 이제 각 디렉토리가 누구의 소유인지 UID GID를 확인 할 수있다 ls -ln home total 0 drwx------ 2 1001 1002 40 9월 9 1626 testuser 998 dhjoe 로그인한 사용자는 내가 누구인지 확인할 수 있다 whoami id uid1002dhjoe gid998 groups998 그 밖에 우리는 다른 타입의 정의 GCP의 서비스 어카운트 Habor의 robot account 등 과같이 리눅스에서도 시스템 useradd --system binfalse 보통 system user 의 uid gid는 1000 이하로 정의한다","title":"유저의 비밀번호를 만료되도록 설정"},{"href":"/docs/linux/user-group","content":"유저를 수정하는 방법은 기본적으로 usermod 명령을 사용한다 bash sudo 옵션 사용자이름","title":"change age"},{"href":"/docs/linux/user-group","content":"사용자의 홈 디렉토리를 변경하고 싶다면 -d 옵션을 사용한다","title":"패스워드 변경"},{"href":"/docs/linux/user-group","content":"sudo usermod -d home사용자이름 사용자이름 --home homeother --move-home","title":"Group 추가 / 삭제 수정"},{"href":"/docs/linux/user-group","content":"sudo usermod -L 사용자이름","title":"list of users"},{"href":"/docs/linux/user-group","content":"sudo usermod -U 사용자이름","title":"add user to group"},{"href":"/docs/linux/user-group","content":"유저가 2021년 9월 9일에 만료되도록 설정","title":"check group"},{"href":"/docs/linux/user-group","content":"sudo usermod -e 2021-09-09 사용자이름","title":"그룹 삭제"},{"href":"/docs/linux/user-group","content":"유저의 비밀번호를 만료되도록 설정","title":"그룹 수정"},{"href":"/docs/linux/user-group","content":"sudo chage -d 0 사용자이름","title":"그룹의 이름을 변경하고 싶다면 -n 옵션을 사용한다."},{"href":"/docs/linux/user-group","content":"2021년 9월 9일에 유저의 비밀번호를 만료되도록 설정","title":"change primary group"},{"href":"/docs/linux/user-group","content":"sudo chage -E 2021-09-09 사용자이름","title":"User quota enables setting storage quotas for users, and group groups."},{"href":"/docs/linux/user-group","content":"패스워드를 변경하는 방법은 passwd 명령을 사용한다 bash sudo 사용자이름 좋다 이제 그룹의 세계로 넘어가보자","title":"$ sudo xfs_quota -x -c 'limit bsoft=1t bhard=1.1t abacus' /mnt/backup"},{"href":"/docs/linux/user-group","content":"Group 추가  삭제 수정","title":"활성화"},{"href":"/docs/linux/user-group","content":"그룹으로 뭘 할 수 있을까 그룹은 사용자를 묶어서 관리하는 역할을 한다 시스템에서 거의 모든 작업을 수행할 있는 휠 또는 의사 그룹이다 가장 강력한 사용자 계정인 루트를 사용하여 루트 권한으로 프로그램을 실행할 있습니다 또 다른 하나는 Docker 컨테이너를 관리할 그룹의 사용자입니다 사용자는 여러 그룹에 속할 있지만 이러한 그룹 중 특별합니다Primary 그 기본 그룹이고 나머지는 모두 보조 보충 그룹입니다 그룹을 로그인 그룹이라고도 합니다 사용자가 로그인하자마자 이 그룹이 자신의 메인 되기 때문입니다 하지만 이론만으로는 이해하기 어렵습니다 그럼 특별한 점을 살펴보겠습니다 --- 실행하면 해당 계정과 그룹에서 실행됩니다 그렇지 않으면 가지고 것과 동일한 프로그램이 예로는 파일을 만들 때 파일은 의해 자동으로 소유됩니다","title":"$ sudo repquota /mnt/backup"},{"href":"/docs/linux/user-group","content":"그룹을 조회하는 방법은 groups 명령을 사용한다 bash abacus adm cdrom sudo dip plugdev lxd docker","title":"Whenever we add a new user to the system, some files are copied, from template directory user's home directory."},{"href":"/docs/linux/user-group","content":"list of users","title":"Make sure that this command gets executed for any user logs in to the system:"},{"href":"/docs/linux/user-group","content":"users abacus","title":"*i}\" != \"$-\" ]; then"},{"href":"/docs/linux/user-group","content":"그룹을 추가하는 방법은 groupadd 명령을 사용한다 bash sudo 그룹이름 testGroup","title":"Bash non-login shells run only /etc/bashrc"},{"href":"/docs/linux/user-group","content":"add user to group","title":"Check for double sourcing is done in /etc/bashrc."},{"href":"/docs/linux/user-group","content":"sudo usermod -aG testGroup abacus","title":"Reference"},{"href":"/docs/linux/user-group/quota","content":"What is Quota","title":"What is Quota"},{"href":"/docs/linux/user-group/quota","content":"리눅스에서는 사용자 또는 그룹에 대한 inode파일 개수 block파일 크기에 제한을 설정할 수 있습니다 팀내의 누군가 80의 리소스를 사용하고 있다면 이는 불공평합니다 만약 100명의 팀원에게 공평히 1테라바이트의 저장 공간을 할당하고 싶다면 어떻게 해야 할까요 quota는 그룹이 사용할 있는 디스크 관리하는 기능입니다","title":"Terminology"},{"href":"/docs/linux/user-group/quota","content":"Terminology","title":"quotacheck"},{"href":"/docs/linux/user-group/quota","content":"는 각 파일 시스템과 현재 디스크 사용량 테이블을 작성하고 시스템의 할당량 파일에 기록된 테이블과 비교합니다 만약 불일치가 발견되면 파일을 업데이트합니다","title":"fallocate"},{"href":"/docs/linux/user-group/quota","content":"setquotaset disk quotas is a command line quota editor","title":"500메가 파일 생성"},{"href":"/docs/linux/user-group/quota","content":"quotaon quotaoff","title":"1기가 파일 생성"},{"href":"/docs/linux/user-group/quota","content":"신속히 테스트용 파일을 생성 할 수 있습니다 특정 디스크의 사용량을 증가시키기 위해 사용할 수동으로 하려면 정확한 크기를맞추기 어렵습니다 bash","title":"그룹 'FTP'의 할당량을 편집하겠습니다."},{"href":"/docs/linux/user-group/quota","content":"10byte 파일 생성","title":"setup"},{"href":"/docs/linux/user-group/quota","content":"fallocate -l 10 tmptestfile","title":"Install"},{"href":"/docs/linux/user-group/quota","content":"500메가 파일 생성","title":"mount option에 usrquota(유저 할당량 제한), grpquota(그룹 제한) 추가"},{"href":"/docs/linux/user-group/quota","content":"fallocate -l 500M tmptestfile","title":"apply changes"},{"href":"/docs/linux/user-group/quota","content":"fallocate -l 1G tmptestfile","title":"Practice"},{"href":"/docs/linux/user-group/quota","content":"edquotaedit user quotas","title":"Edit disk quotas for the user called john. Set a soft limit of 100 megabytes and hard 500 on /mnt partition."},{"href":"/docs/linux/user-group/quota","content":"개요 edquota 명령은 사용자 또는 그룹의 할당량을 편집하는 데 사용됩니다 -p protoname -u -g -rm -F format-name -f filesystem username -t -T groupname Example bash","title":"Reference"},{"href":"/docs/linux/user-group/resource-privileges","content":"What is Limit","title":"What is Limit"},{"href":"/docs/linux/user-group/resource-privileges","content":"팀내의 누군가 80의 리소스를 사용하고 있다면 이는 불공평합니다 메뉴얼을 살피어 제한하는 방법을 찾아봅시다 bash man limitsconf NAME - configuration file for the pam_limits module DESCRIPTION The pam_limitsso applies ulimit limits nice priority and number of simultaneous login sessions limit to user This description syntax etcsecuritylimitsconf conf files in etcsecuritylimitsd directory lines is as follows domain type item value fields listed above should be filled sudo vi","title":"/etc/security/limits.conf"},{"href":"/docs/linux/user-group/resource-privileges","content":"etcsecuritylimitsconf","title":"This file sets the resource limits for users logged in via PAM."},{"href":"/docs/linux/user-group/resource-privileges","content":"This file sets the resource limits for users logged in via PAM","title":"Also note that configuration files in /etc/security/limits.d directory,"},{"href":"/docs/linux/user-group/resource-privileges","content":"It does not affect resource limits of the system services","title":"file in case the domain is same or more specific."},{"href":"/docs/linux/user-group/resource-privileges","content":"Also note that configuration files in etcsecuritylimitsd directory","title":"can be overridden with a wildcard setting in config file the"},{"href":"/docs/linux/user-group/resource-privileges","content":"which are read in alphabetical order override the settings this","title":"with a user specific setting in the subdirectory."},{"href":"/docs/linux/user-group/resource-privileges","content":"file in case the domain is same or more specific","title":"<domain> <type> <item> <value>"},{"href":"/docs/linux/user-group/resource-privileges","content":"That means for example that setting a limit wildcard domain here","title":"<domain> can be:"},{"href":"/docs/linux/user-group/resource-privileges","content":"can be overridden with a wildcard setting in config file the","title":"- a group name, with @group syntax"},{"href":"/docs/linux/user-group/resource-privileges","content":"subdirectory but a user specific setting here can be overridden only","title":"- the wildcard %, can be also used with %group syntax, for maxlogin limit"},{"href":"/docs/linux/user-group/resource-privileges","content":"with a user specific setting in the subdirectory","title":"- NOTE: group and wildcard limits are not applied to root."},{"href":"/docs/linux/user-group/resource-privileges","content":"Each line describes a limit for user in the form","title":"- \"soft\" for enforcing the soft limits"},{"href":"/docs/linux/user-group/resource-privileges","content":"domain  type item value","title":"- \"-\" for unlimiting"},{"href":"/docs/linux/user-group/resource-privileges","content":"domain can be","title":"- fsize maximum filesize (KB)"},{"href":"/docs/linux/user-group/resource-privileges","content":"- a user name","title":"- nofile max number of open file descriptors"},{"href":"/docs/linux/user-group/resource-privileges","content":"- a group name with syntax","title":"- stack max size (KB)"},{"href":"/docs/linux/user-group/resource-privileges","content":"- the wildcard  for default entry","title":"- nproc max number of processes"},{"href":"/docs/linux/user-group/resource-privileges","content":"- the wildcard  can be also used with group syntax for maxlogin limit","title":"- maxlogins max number of logins for this user"},{"href":"/docs/linux/user-group/resource-privileges","content":"- ex users soft nproc 20","title":"- priority the to run user process with"},{"href":"/docs/linux/user-group/resource-privileges","content":"- NOTE group and wildcard limits are not applied to root","title":"- sigpending max number of pending signals"},{"href":"/docs/linux/user-group/resource-privileges","content":"type can have the two values","title":"- nice max priority allowed to raise values: [-20, 19]"},{"href":"/docs/linux/user-group/resource-privileges","content":"- soft for enforcing the limits","title":"<domain> <type> <item> <value>"},{"href":"/docs/linux/user-group/resource-privileges","content":"- hard for enforcing limits","title":"*  hard rss 10000"},{"href":"/docs/linux/user-group/resource-privileges","content":"- for unlimiting","title":"@faculty  soft nproc 20"},{"href":"/docs/linux/user-group/resource-privileges","content":"item can be one of the following","title":"ftp  hard nproc 0"},{"href":"/docs/linux/user-group/resource-privileges","content":"- core limits the file size KB","title":"Test"},{"href":"/docs/linux/user-group/resource-privileges","content":"- data max size KB","title":"This means that login-specific resource files such as .profile, .bash_profile"},{"href":"/docs/linux/user-group/resource-privileges","content":"- fsize maximum filesize KB","title":"background process"},{"href":"/docs/linux/user-group/resource-privileges","content":"- memlock max locked-in-memory address space KB","title":"from back to front"},{"href":"/docs/linux/user-group/resource-privileges","content":"- nofile max number of open file descriptors","title":"ulimit"},{"href":"/docs/linux/user-group/resource-privileges","content":"- rss max resident set size KB","title":"Example"},{"href":"/docs/linux/user-group/resource-privileges","content":"- stack max size KB","title":"User privilege specification"},{"href":"/docs/linux/user-group/resource-privileges","content":"- cpu max CPU time MIN","title":"but available any command as trinity"},{"href":"/docs/linux/user-group/resource-privileges","content":"- nproc max number of processes","title":"add user to group"},{"href":"/docs/linux/user-group/resource-privileges","content":"- as address space limit KB","title":"Practice"},{"href":"/docs/linux/user-group/resource-privileges","content":"- maxlogins max number of logins for this user","title":"(ie, from files, LDAP, NIS, etc) in this file - just use %groupname"},{"href":"/docs/linux/user-group/resource-privileges","content":"- maxsyslogins max number of logins on the system","title":"%sys ALL = NETWORKING, SOFTWARE, SERVICES, STORAGE, DELEGATING, PROCESSES, LOCATE, DRIVERS"},{"href":"/docs/linux/user-group/resource-privileges","content":"- priority the to run user process with","title":"%users ALL=/sbin/mount /mnt/cdrom, /sbi"},{"href":"/docs/linux/user-group/resource-privileges","content":"- locks max number of file the user can hold","title":"<domain>  <type> <item> <value>"},{"href":"/docs/linux/user-group/resource-privileges","content":"- sigpending max number of pending signals","title":"Modify the `sudoers` file in such a way to allow"},{"href":"/docs/oidc/KeycloakK8S","content":"OIDC란 OpenID Connect의 약자로 OAuth 20 위에 구축된 인증 프로토콜입니다 20의 기능을 확장하여 인증과 권한 부여를 위한 표준 프로토콜을 제공합니다 우리는 kubeadm 환경에서 Keycloak을 구축하여 OIDC를 통해 인증을 구현해보겠습니다","title":"Keycloak 이란?"},{"href":"/docs/oidc/KeycloakK8S","content":"Keycloak은 Red Hat에서 제공하는 오픈소스 인증 및 권한 부여 서버입니다","title":"구축하기"},{"href":"/docs/oidc/KeycloakK8S","content":"- 기존 데이터를 수용하여 LDAP 인증 방식과 통합하겠습니다 K8S 환경에서 구축하고 kube-apiserver 와 연동하여 인증된 유저만 k8s 리소스에 접근할 수 있도록 구성하겠습니다 기본 방식은 OIDC를 사용하겠습니다","title":"@param auth.adminUser Keycloak administrator user"},{"href":"/docs/oidc/KeycloakK8S","content":"먼저 서버에 맞게 valuesyaml을 수정합니다 yaml","title":"@param auth.adminPassword Keycloak administrator password for the new user"},{"href":"/docs/oidc/KeycloakK8S","content":"values-keycloakyaml","title":"adminPassword: \"\""},{"href":"/docs/oidc/KeycloakK8S","content":"resources limits cpu 500m memory 2Gi requests 250m 1Gi auth","title":"Service configuration"},{"href":"/docs/oidc/KeycloakK8S","content":"param authadminUser Keycloak administrator user","title":"service:"},{"href":"/docs/oidc/KeycloakK8S","content":"adminPassword","title":"@param service.ports.https Keycloak service HTTPS port"},{"href":"/docs/oidc/KeycloakK8S","content":"Service configuration","title":"stateful 하게 자동 구성을 원한다면 true로 설정합니다."},{"href":"/docs/write","content":"가독성-보기쉽게-작성해라","title":"가독성-보기쉽게-작성해라)"},{"href":"/docs/write","content":"- 목차부터 작성해라","title":"목차부터-작성해라)"},{"href":"/docs/write","content":"- 스토리라인을 고민해라","title":"아름답게-꾸며라)"},{"href":"/docs/write","content":"스토리라인을-고민해라","title":"배려)"},{"href":"/docs/write","content":"- 문맥 맥락이 중요하다","title":"전하고자-하는-구체적인-메세지가-있어야한다)"},{"href":"/docs/write","content":"문맥--맥락이-중요하다","title":"타겟)"},{"href":"/docs/write","content":"- 플랫폼에 어울리는 문법","title":"유머와-재치로-독자들의-마음을-훔친다)"},{"href":"/docs/write","content":"플랫폼에-어울리는-문법","title":"상대방은-모를-수-있다)"},{"href":"/docs/write","content":"- 전하고자 하는 구체적인 메세지가 있어야한다","title":"쉼표콤마를-찍어야할-때)"},{"href":"/docs/write","content":"전하고자-하는-구체적인-메세지가-있어야한다","title":"불필요한-부분을-빼라)"},{"href":"/docs/write","content":"- 상대를 정확하게 지목한다","title":"good)"},{"href":"/docs/write","content":"상대를-정확하게-지목한다","title":"겹치는-표현-빼기)"},{"href":"/docs/write","content":"- 문장 커뮤니 케이션","title":"bad-1)"},{"href":"/docs/write","content":"- 유머와 재치로 독자들의 마음을 훔친다","title":"bad-2)"},{"href":"/docs/write","content":"유머와-재치로-독자들의-마음을-훔친다","title":"good-2)"},{"href":"/docs/write","content":"- 상대방은 모를 수 있다","title":"붉은화성적화성-빼기)"},{"href":"/docs/write","content":"상대방은-모를-수-있다","title":"bad-3)"},{"href":"/docs/write","content":"- 퇴고 문장 다이어트","title":"good-4)"},{"href":"/docs/write","content":"- 쉼표콤마를 찍어야할 때","title":"good-5)"},{"href":"/docs/write","content":"쉼표콤마를-찍어야할-때","title":"들것-빼기)"},{"href":"/docs/write","content":"- 불필요한 부분을 빼라","title":"bad-6)"},{"href":"/docs/write","content":"불필요한-부분을-빼라","title":"good-6)"},{"href":"/docs/write","content":"- 겹치는 표현 빼기","title":"스토리라인을 고민해라"},{"href":"/docs/write","content":"- 붉은화성적화성 빼기","title":"문장 커뮤니 케이션"},{"href":"/docs/write","content":"- 쓰면서 생각이 정갈해진다","title":"Good"},{"href":"/docs/write","content":"쓰면서-생각이-정갈해진다","title":"Bad"}]