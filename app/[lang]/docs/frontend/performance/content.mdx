**Created**: 2024-05-11 14:49
**Not published**
  
## Summary
웹 퍼포먼스는 웹사이트나 웹 애플리케이션의 사용자 경험에 큰 영향을 미치는 중요한 요소입니다.  
웹 퍼포먼스가 좋으면 사용자는 웹사이트를 빠르고 원활하게 사용할 수 있으며, 
이는 사용자 만족도 향상, 페이지 조회 수 증가, 전환율 증가로 이어질 수 있습니다.

### 웹 퍼포먼스에 영향을 미치는 요소는 다음과 같습니다.
자세한 기술들은 토픽 별로 설명 하겠지만 개요입니다.

- **로딩 속도:** 사용자가 웹사이트를 처음 방문할 때 페이지가 로딩되는 속도입니다. 로딩 속도가 느리면 사용자는 지루해하고 다른 웹사이트로 이동할 가능성이 높아집니다

- **콘텐츠 로딩 속도:** 웹사이트의 콘텐츠(이미지, CSS, JavaScript 등)가 로딩되는 속도입니다. 
  콘텐츠 로딩 속도가 느리면 사용자는 페이지가 완전히 로드될 때까지 기다려야 하며, 이는 사용자 경험을 저하시킬 수 있습니다.
  
- **응답 속도:** 사용자가 웹사이트와 상호 작용할 때 웹사이트가 응답하는 속도입니다. 응답 속도가 느리면 사용자는 웹사이트가 느리고 사용하기 불편하다고 느낄 수 있습니다.
  
- **안정성:** 웹사이트가 오류 없이 작동하는 정도입니다. 웹사이트가 자주 오류 발생하거나 중단되면 사용자는 웹사이트를 신뢰하지 않게 되고 다시 방문하지 않을 가능성이 높아집니다.
  
- **사용자 경험:** 웹사이트의 디자인, 레이아웃, 사용 편의성 등 사용자 경험에 영향을 미치는 모든 요소입니다. 사용자 경험이 좋지 않으면 사용자는 웹사이트를 사용하는 데 흥미를 잃게 되고 다시 방문하지 않을 가능성이 높아집니다.

### 웹 퍼포먼스 측정 방법
웹 퍼포먼스를 측정하는 방법은 여러 가지가 있습니다. 가장 일반적인 방법은 다음과 같습니다.

- **웹 개발자 도구:** 대부분의 웹 브라우저에는 웹 개발자 도구가 내장되어 있으며, 이 도구를 사용하여 웹사이트의 로딩 속도, 콘텐츠 로딩 속도, 응답 속도 등을 측정할 수 있습니다.
  
- **웹 퍼포먼스 측정 도구:** 웹 퍼포먼스 측정 도구는 웹사이트의 로딩 속도, 콘텐츠 로딩 속도, 응답 속도 등을 자동으로 측정하고 분석하는 도구입니다. 대표적인 웹 퍼포먼스 측정 도구로는 Google PageSpeed Insights, Pingdom, WebPageTest 등이 있습니다.
  
- **실제 사용자 모니터링:** 실제 사용자 모니터링은 실제 사용자가 웹사이트를 사용하는 동안 발생하는 문제를 추적하고 분석하는 방법입니다. 실제 사용자 모니터링 도구를 사용하여 웹사이트의 로딩 속도, 응답 속도, 오류 발생 빈도 등을 측정할 수 있습니다.

### 측정시 고려사항

- **측정 대상:** 웹사이트 전체를 측정할 것인지, 특정 페이지만 측정할 것인지를 결정해야 합니다.
  
- **측정 방법:** 웹 개발자 도구, 웹 퍼포먼스 측정 도구, 실제 사용자 모니터링 중 어떤 방법을 사용할 것인지를 결정해야 합니다.
  
- **측정 지표:** 로딩 속도, 콘텐츠 로딩 속도, 응답 속도, 오류 발생 빈도 등 어떤 지표를 측정할 것인지를 결정해야 합니다.
  
- **테스트 환경:** 웹사이트가 실제 사용자에게 제공되는 환경과 동일한 환경에서 테스트를 수행해야 합니다.

## 브라우저 렌더링 절차: 심층 분석 및 최적화 전략
웹 페이지를 렌더링하는 과정은 복잡하지만, 이해하면 웹사이트 성능을 최적화하는 데 큰 도움이 됩니다. 

1. **HTML 파일을 파싱해서 DOM(Document Object Model) 트리를 생성합니다.**
	1. 이과정에서 JS 파일을 만나면 파싱 및 Dom 생성을 중단하고 JS 파일을 다운로드하고 실행합니다.
	2. 이때 재 렌더링이 발생 할 수 있습니다.
2. **브라우저는 CSS 코드를 읽고 해석하여 CSSOM(CSS Object Model) 트리를 생성합니다.** 
   CSSOM 트리는 각 CSS 규칙을 나타내는 노드들로 구성되어 있으며, DOM 트리와 결합하여 렌더 트리를 생성하는 데 사용됩니다.
3. **DOM 트리와 CSSOM 트리는 결합되어 렌더 트리를 생성합니다.** 
   렌더 트리는 웹 페이지의 최종적인 구조를 나타내는 트리 구조이며, 레이아웃 계산 및 픽셀 그리기에 사용됩니다.
4. **렌더 트리를 기반으로 레이아웃을 계산합니다.**
   브라우저는 렌더 트리를 기반으로 각 요소의 위치와 크기를 계산합니다. 이 과정에서 브라우저는 CSS에서 정의된 레이아웃 속성(width, height, position, display 등)을 사용합니다.
5. **레이아웃을 기반으로 픽셀(Painting)을 그립니다.**
   브라우저는 레이아웃 계산 결과를 기반으로 각 요소를 화면에 표시합니다. 이 과정에서 브라우저는 픽셀 단위로 화면을 그려 웹 페이지를 표현합니다.
6. **JavaScript 파일을 파싱하고 실행합니다.**
   브라우저는 JavaScript 코드를 실행하여 웹 페이지의 동적인 기능을 구현합니다. JavaScript 코드는 DOM 조작, 이벤트 처리, Ajax 요청 등을 수행하여 사용자와의 상호 작용을 가능하게 합니다.
7. **렌더링이 완료되면 화면에 표시합니다.**
   모든 렌더링 과정이 완료되면 브라우저는 최종적으로 웹 페이지를 화면에 표시합니다. 사용자는 웹 페이지와 상호 작용하고, 스크롤, 클릭 등의 행동을 수행할 수 있습니다.
8. **사용자 입력을 받아서 반응합니다.**
   사용자가 웹 페이지와 상호 작용하면 브라우저는 사용자 입력을 처리하고 이에 따라 적절한 응답을 합니다. 예를 들어, 사용자가 버튼을 클릭하면 브라우저는 해당 버튼에 연결된 JavaScript 코드를 실행하거나 새로운 페이지를 로드합니다.
   **Optional**   
	1. 사용자 입력에 따라 렌더링을 다시 수행합니다.
	2. 사용자 입력에 따라 JavaScript를 실행합니다.
	3. 사용자 입력에 따라 화면을 갱신합니다.
	4. 사용자 입력에 따라 서버로 요청을 보냅니다.
	5. 서버로부터 응답을 받아서 화면을 갱신합니다.
	6. 서버로부터 응답을 받아서 JavaScript를 실행합니다.
	7. 서버로부터 응답을 받아서 화면을 갱신합니다.





## Reference
- https://vuejs.org/guide/best-practices/performance.html
- https://web.dev/articles/fid
- https://web.dev/articles/lcp
- https://medium.com/%EA%B0%9C%EB%B0%9C%EC%9E%90%EC%9D%98%ED%92%88%EA%B2%A9/%EB%B8%8C%EB%9D%BC%EC%9A%B0%EC%A0%80%EC%9D%98-%EB%A0%8C%EB%8D%94%EB%A7%81-%EA%B3%BC%EC%A0%95-5c01c4158ce
- https://oliviakim.tistory.com/80

### Global Tags

#meet